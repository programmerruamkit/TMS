<!DOCTYPE html>
<?php
ob_start();
session_start();
date_default_timezone_set("Asia/Bangkok");
require_once("../class/meg_function.php");
ini_set('max_execution_time', 300); //300 seconds = 5 minutes
$conn = connect("RTMS");


if (!isset($_SESSION["USERNAME"]) || !isset($_SESSION["PASSWORD"])) {
    header("location:../pages/meg_login.php?data=3");
}

$condition1 = " AND (a.USERNAME ='" . $_SESSION["USERNAME"] . "' AND a.PASSWORD = '" . $_SESSION["PASSWORD"] . "') AND a.ACTIVESTATUS = 1";
$sql_seLogin = "{call megRoleaccount_v2(?,?)}";
$params_seLogin = array(
    array('select_roleaccount', SQLSRV_PARAM_IN),
    array($condition1, SQLSRV_PARAM_IN)
);
$query_seLogin = sqlsrv_query($conn, $sql_seLogin, $params_seLogin);
$result_seLogin = sqlsrv_fetch_array($query_seLogin, SQLSRV_FETCH_ASSOC);

$sql_seSystime = "{call megGetdate_v2(?)}";
$params_seSystime = array(
    array('select_getdate', SQLSRV_PARAM_IN)
);
$query_seSystime = sqlsrv_query($conn, $sql_seSystime, $params_seSystime);
$result_seSystime = sqlsrv_fetch_array($query_seSystime, SQLSRV_FETCH_ASSOC);


$conditionEHR = " AND a.PersonID ='" . $_SESSION["EMPLOYEEID"] . "'";
$sql_seEHR = "{call megEmployeeEHR_v2(?,?)}";
$params_seEHR = array(
    array('select_employeeehr2', SQLSRV_PARAM_IN),
    array($conditionEHR, SQLSRV_PARAM_IN)
);
$query_seEHR = sqlsrv_query($conn, $sql_seEHR, $params_seEHR);
$result_seEHR = sqlsrv_fetch_array($query_seEHR, SQLSRV_FETCH_ASSOC);

$condition1 = "  AND a.PersonID = '" . $_SESSION["EMPLOYEEID"] . "'";
$sql_seEmployee = "{call megEmployeeEHR_v2(?,?)}";
$params_seEmployee = array(
    array('select_employeeehr2', SQLSRV_PARAM_IN),
    array($condition1, SQLSRV_PARAM_IN)
);
$query_seEmployee = sqlsrv_query($conn, $sql_seEmployee, $params_seEmployee);
$result_seEmployee = sqlsrv_fetch_array($query_seEmployee, SQLSRV_FETCH_ASSOC);


// $condition2_1 = " AND (CONVERT(DATE,a.DATEWORKING) BETWEEN CONVERT(DATE,GETDATE(),103) AND CONVERT(DATE,GETDATE(),103))";
// $condition2_2 = "";
// $condition2_3 = "";

// $sql_seVehicletransportplan = "{call megVehicletransportplan_v2(?,?,?,?)}";
// $params_seVehicletransportplan = array(
//     array('select_datevehicletransportplan', SQLSRV_PARAM_IN),
//     array($condition2_1, SQLSRV_PARAM_IN),
//     array($condition2_2, SQLSRV_PARAM_IN),
//     array($condition2_3, SQLSRV_PARAM_IN)
// );
// $query_seVehicletransportplan = sqlsrv_query($conn, $sql_seVehicletransportplan, $params_seVehicletransportplan);
// $result_seVehicletransportplan = sqlsrv_fetch_array($query_seVehicletransportplan, SQLSRV_FETCH_ASSOC);


// $sql_semaxmileage = "SELECT TOP 1 MILEAGENUMBER 
// FROM RTMS.dbo.MILEAGE 
// WHERE ACTIVESTATUS = 1 
// AND VEHICLEREGISNUMBER ='78-2384'
// AND MILEAGETYPE ='MILEAGEEND'
// ORDER BY  CREATEDATE DESC";
// $params_semaxmileage = array();
// $query_semaxmileage = sqlsrv_query($conn, $sql_semaxmileage, $params_semaxmileage);
// $result_semaxmileage = sqlsrv_fetch_array($query_semaxmileage, SQLSRV_FETCH_ASSOC);

// echo $result_semaxmileage['MILEAGENUMBER'];

?>
<html lang="en">
    <head>
        <link rel="shortcut icon" href="../images/logo.ico" />
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>กลุ่มร่วมกิจรุ่งเรือง</title>
        <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="../vendor/datatables-plugins/dataTables.bootstrap.css" rel="stylesheet">
        <link href="../js/jquery.datetimepicker.css" rel="stylesheet">
        <!-- <link href="../vendor/metisMenu/metisMenu.min.css" rel="stylesheet"> -->
        <!--<link href="../dist/css/sb-admin-2.css" rel="stylesheet">-->
        <!-- <link href="../vendor/datatables-responsive/dataTables.responsive.css" rel="stylesheet"> -->
        <link href="../dist/css/jquery.autocomplete.css" rel="stylesheet">
        <!-- <link href="../dist/css/buttons.dataTables.min.css" rel="stylesheet"> -->
        <link href="../dist/css/bootstrap-select.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.12/dist/sweetalert2.min.css">
        <style>
            .navbar-default {

                border-color: #ffcb0b;
            }

            .popover-content {
                padding: 10px 10px;
                width: 100px;
            }
            .nav>li>a {
                position: relative;
                display: block;
                padding: 14px 30px;

            }


            .styled-select.slate select {
                border: 1px solid #ccc;
                font-size: 16px;
                height: 34px;
                width: 150px;

            }
            
            /* .swal-title {
                font-size: 20px;
                background-color: #FEFAE3;
                padding: 17px;
                border: 1px solid #F0E1A1;
                display: block;
                margin: 22px;
                text-align: center;
                color: #61534e;
            }
            .swal-text {
                font-size: 20px;
                background-color: #FEFAE3;
                padding: 17px;
                border: 1px solid #F0E1A1;
                display: block;
                margin: 22px;
                text-align: center;
                color: #61534e;
            } */

            #loading {
                display:none; 
                opacity: 0.5;
                /* border-radius: 50%; */
                /* border-top: 12px ; */
                width: 10px;
                left: 10px;
                right: 850px;
                top:10px;
                bottom: 550px;
                height: 10px;
                
                /* animation: spin 1s linear infinite; */
            }
            
            .center {
                position: absolute;
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                margin: auto;
            }
            .swal2-popup {
                font-size: 16px !important;
                padding: 17px;
                border: 1px solid #F0E1A1;
                display: block;
                margin: 22px;
                text-align: center;
                color: #61534e;
            }


        </style>
        <style>
            .blink_me {
                animation: blinker 2s linear infinite;
                color:red;
                font-weight: bold;
                font-size:20px;
                top:0;
                bottom:0;
                left:0;
                right:0;
                margin:auto;
            }
            @keyframes blinker {
                50% {
                    opacity: 0;
                }
            }
        </style>

    </head>
    <body>

        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">

            <div class="navbar-header" >
                <button type="button"  class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.php"><font style="color: #000;font-size: 14px"><img src="../images/logo.ico" height="30"> <strong>Transport Management System</strong></font></a>
            </div>
            <ul class="nav navbar-top-links navbar-right">
                <li><a href="meg_logout.php"><i class="fa fa-sign-out fa-fw"></i> ออกจากระบบ</a>
            </ul>
        </nav>
        <div class="modal fade" id="modal_dirverdocrrc" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document" style="width: 90%">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div class="col-lg-5">
                                <h5 class="modal-title" id="title_copydiagram1"><b>ค่าตอบแทนจากการทำงานนอกสถานที่</b></h5>
                            </div>

                        </div>
                    </div>
                    <div class="modal-body">

                        <div id="dirverdocrrcsr"></div>


                    </div>
                    <div class="modal-footer">
                        <font style="color: red;font-size: 25px"><b>กดปุ่มบันทึกทุกครั้งเมื่อทำการกรอกข้อมูลเสร็จ >> </b></font>
                        <button type="button" class="btn btn-primary"  onclick="edit_vehicletransportdocumentdriverconfrim()"  ><span class="fa fa-refresh"></span> บันทึก(รีเฟรช)</button>
                        <button type="button" class="btn btn-success"   onclick="edit_vehicletransportdocumentdriverconfrim1()" ><span class="fa fa-save"></span> บันทึก(ปิด)</button>
                        <!-- <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="fa fa-close"></span> ปิด</button> -->
                        
                        <!-- <?php
                        if ($_SESSION["ROLENAME"] != "ADMIN") {
                            ?>
                            <button type="button" class="btn btn-danger" data-dismiss="modal" onclick="edit_vehicletransportdocumentdriverconfrim1()"><span class="fa fa-close"></span> ปิด</button>
                            <button type="button" class="btn btn-primary" onclick="edit_vehicletransportdocumentdriverconfrim()" data-dismiss="modal"><span class="fa fa-refresh"></span> บันทึก</button>
                            <?php
                        } else {
                            ?>
                            <button type="button" class="btn btn-primary" onclick="edit_vehicletransportdocumentdriverconfrim()" data-dismiss="modal"><span class="fa fa-refresh"></span> บันทึก(refresh)</button>
                            <button type="button" class="btn btn-danger" onclick="edit_vehicletransportdocumentdriverconfrim1()" data-dismiss="modal"><span class="fa fa-close"></span> บันทึก(ปิด)</button>
                            <?php
                        }
                        ?> -->

                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="modal_materialtype" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document" style="width: 20%">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div class="col-lg-5">
                                <h5 class="modal-title" id="title_materialtype"><b>เลือกประเภทวัสดุ</b></h5>
                            </div>

                        </div>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="dropdown bootstrap-select show-tick form-control">

                                    <select multiple="" onchange="select_materialtype()" id="cb_materialtype" name="cb_materialtype" class="selectpicker form-control" id="number-multiple" data-container="body" data-live-search="true" title="เลือก ประเภทวัสดุ..." data-hide-disabled="true" data-actions-box="true" data-virtual-scroll="false" tabindex="-98">

                                        <?php
                                        $condiMaterialtype1 = " AND SUBDOMAIN = 'status'";
                                        $sql_seMaterialtype = "{call megStatus_v2(?,?)}";
                                        $params_seMaterialtype = array(
                                            array('select_status', SQLSRV_PARAM_IN),
                                            array($condiMaterialtype1, SQLSRV_PARAM_IN)
                                        );
                                        $query_seMaterialtype = sqlsrv_query($conn, $sql_seMaterialtype, $params_seMaterialtype);
                                        while ($result_seMaterialtype = sqlsrv_fetch_array($query_seMaterialtype, SQLSRV_FETCH_ASSOC)) {
                                            ?>
                                            <option value="<?= $result_seMaterialtype['STATUSDETAILS'] ?>"><?= $result_seMaterialtype['STATUSDETAILS'] ?></option>
                                            <?php
                                        }
                                        ?>
                                    </select>
                                    <input class="form-control" style="display: none" id="txt_materialtype" name="txt_materialtype" maxlength="500" value="" >
                                    <input class="form-control" style="display: none" id="txt_vehicletransportplanid" name="txt_vehicletransportplanid" maxlength="500" value="" >

                                    <div class="dropdown-menu open" role="combobox">
                                        <div class="bs-searchbox">
                                            <input type="text" class="form-control" autocomplete="off" role="textbox" aria-label="Search"></div>
                                        <div class="bs-actionsbox">
                                            <div class="btn-group btn-group-sm btn-block">
                                                <button type="button" class="actions-btn bs-select-all btn btn-default">Select All</button>
                                                <button type="button" class="actions-btn bs-deselect-all btn btn-default">Deselect All</button>
                                            </div>
                                        </div>
                                        <div class="inner open" role="listbox" aria-expanded="false" tabindex="-1">
                                            <ul class="dropdown-menu inner "></ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" onclick="edit_vehicletransportmaterial()" data-dismiss="modal">บันทึก</button>

                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="modal_confrimjob" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document" style="width: 20%">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div class="col-lg-5">
                                <h5 class="modal-title" id="title_copydiagram1"><b>ยืนยันการวิ่งงาน</b></h5>
                            </div>

                        </div>
                    </div>
                    <div class="modal-body">

                        <div id="confrimjob"></div>


                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger"  data-dismiss="modal"><span class="fa fa-close"></span> ปิด</button>

                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="modal_jobreturn" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document" style="width: 30%">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div class="col-lg-5">
                                <h5 class="modal-title" id="title_copydiagram1"><b>งานรับกลับ</b></h5>
                            </div>

                        </div>
                    </div>
                    <div class="modal-body">

                        <div id="jobreturnsr"></div>


                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" onclick="save_jobreturn()" data-dismiss="modal">บันทึก</button>

                    </div>
                </div>
            </div>
        </div>
        <!-- Modal Check Oil -->
        <div class="modal fade" id="modal_checkoil" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-md modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row"> 
                            <div class="col-lg-12">
                                <h5 class="modal-title" id="title_copydiagram1"><b>ตรวจสอบข้อมูลน้ำมัน</b></h5>
                            </div>
                        </div>
                    </div>
                    <div class="modal-body">          
                        <div id="divcheckoil"></div>
                    </div>
                </div>
            </div>
        </div>  
        <div class="modal fade" id="modal_editdataoiltatsuno" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-md modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row"> 
                            <div class="col-lg-12">
                                <h5 class="modal-title" id="title_copydiagram1"><b>แก้ไขข้อมูลการกรอกข้อมูลน้ำมัน</b></h5>
                            </div>
                        </div>
                    </div>
                    <div class="modal-body">
                        <div id="editdataoiltatsunoresult"></div>
                    </div>
                </div>
            </div>
        </div>   
        <!-- Modal -->
        <div class="modal fade" id="calrateoil" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document"  style="width: 90%">
                <div class="modal-content">
                    <div class="modal-body">          
                        <div id="divnotactioncaloavg"></div>
                    </div>
                </div>
            </div>
        </div>  
        <script language="JavaScript">
            document.getElementById("chkdis1").value = "1";document.getElementById("chkdis2").value = "2";document.getElementById("chkdis3").value = "3";document.getElementById("chkdis4").value = "4";          
            function insertoutsidegas(condition1, vehicletransportplanid, companycode, employeecode, employeename){
                // alert(condition1);// alert(vehicletransportplanid);// alert(companycode);// alert(employeecode);// alert(employeename);
                $.ajax({
                    type: 'post',
                    url: 'meg_data.php',
                    data: {txt_flg: "insertoutsidegas", condition1: condition1},
                    success: function () {dirverdocaddrrc(vehicletransportplanid, companycode, employeecode, employeename);}
                });
            }
            function deleteoutsidegas(condition1, vehicletransportplanid, companycode, employeecode, employeename){
                // alert(condition1);
                $.ajax({
                    type: 'post',
                    url: 'meg_data.php',
                    data: {
                        txt_flg: "deleteoutsidegas", condition1: condition1
                    },
                    success: function () {
                        dirverdocaddrrc(vehicletransportplanid, companycode, employeecode, employeename);
                    }
                });
            }           
            function edit_osgsdrf(osgsid, editobj, modifiedby){
                var modifiedby = '<?=$_SESSION["USERNAME"]?>'; 
                $.ajax({
                    type: 'post',
                    url: 'meg_transportcompensation_saveoildetail.php',
                    data: {edit_osgsdrf: "1",osgsid: osgsid,editobj: editobj,modifiedby: modifiedby},
                    success: function () {}
                });		
            }   
            function edit_osgsbl(osgsid, editobj, modifiedby){
                var modifiedby = '<?=$_SESSION["USERNAME"]?>'; 
                $.ajax({
                    type: 'post',
                    url: 'meg_transportcompensation_saveoildetail.php',
                    data: {edit_osgsbl: "1",osgsid: osgsid,editobj: editobj,modifiedby: modifiedby},
                    success: function () {}
                });		
            }            
            function edit_osgsam(osgsid, editobj, modifiedby){
                var modifiedby = '<?=$_SESSION["USERNAME"]?>'; 
                $.ajax({
                    type: 'post',
                    url: 'meg_transportcompensation_saveoildetail.php',
                    data: {edit_osgsam: "1",osgsid: osgsid,editobj: editobj,modifiedby: modifiedby},
                    success: function () {}
                });		
            }       
            function edit_osgspay(osgsid, editobj, modifiedby){
                var modifiedby = '<?=$_SESSION["USERNAME"]?>'; 
                $.ajax({
                    type: 'post',
                    url: 'meg_transportcompensation_saveoildetail.php',
                    data: {edit_osgspay: "1",osgsid: osgsid,editobj: editobj,modifiedby: modifiedby},
                    success: function () {}
                });		
            }     
            function edit_osgspr(osgsid, editobj, modifiedby){
                var modifiedby = '<?=$_SESSION["USERNAME"]?>'; 
                $.ajax({
                    type: 'post',
                    url: 'meg_transportcompensation_saveoildetail.php',
                    data: {edit_osgspr: "1",osgsid: osgsid,editobj: editobj,modifiedby: modifiedby},
                    success: function () {}
                });		
            }
            function edit_osgsrm(osgsid, editobj, modifiedby){
                var modifiedby = '<?=$_SESSION["USERNAME"]?>'; 
                $.ajax({
                    type: 'post',
                    url: 'meg_transportcompensation_saveoildetail.php',
                    data: {edit_osgsrm: "1",osgsid: osgsid,editobj: editobj,modifiedby: modifiedby},
                    success: function () {}
                });		
            }
            function sumoiltatsuno(){	              
                document.form1.txt_mileagestart.focus();
                document.form1.txt_mileagestart.value;
                document.form1.txt_mileageend.focus();
                document.form1.txt_mileageend.value;
                
                // chk sub return work
                var realCOMPANYCODE = $('#realCOMPANYCODE').val(); 
                var se_RETURN = $('#se_RETURN').val();
                // alert(realCOMPANYCODE)
                // alert(se_RETURN)
                if (typeof se_RETURN !== 'undefined' && se_RETURN !== '0') {
                    var realOILAVERAGE = '3.75';
                    var realOILAVERAGE_SHOW = '3.75';
                    // alert('if')
                    // alert(realOILAVERAGE)
                }else{
                    document.form1.realOILAVERAGE.focus();
                    var realOILAVERAGE = document.form1.realOILAVERAGE.value;
                    var realOILAVERAGE_SHOW = document.form1.realOILAVERAGE.value;
                    // alert('else')
                    // alert(realOILAVERAGE)                            
                }

                // before chk sub return work
                    // document.form1.realOILAVERAGE.focus();
                    // document.form1.realOILAVERAGE.value;
                // document.form1.txt_oil.focus();
                document.form1.txt_oil.value;
                document.form1.disabled3.value;
                document.form1.disabled8.value;
                document.form1.disabled13.value;
                document.form1.disabled18.value;

                var dis3 = document.form1.disabled3.value;
                var dis8 = document.form1.disabled8.value;
                // var dis13 = document.form1.disabled13.value;
                var dis18 = document.form1.disabled18.value;

                if(dis3 != ""){
                    var chkdis3 = parseFloat(dis3);
                }else{
                    var chkdis3 = 0 ;
                }
                if(dis8 != ""){
                    var chkdis8 = parseFloat(dis8);
                }else{
                    var chkdis8 = 0 ;
                }
                if(dis18 != "") {
                    var chkdis18 = parseFloat(dis18);
                }else{
                    var chkdis18 = 0 ;
                }
                
                var getData = ajaxload();
                // alert(getData)
                // var caloutside = document.form1.caloutside.value;
                var caloutside = getData;

                // var caloutside = chkdis3 + chkdis8;
                // var caloutside = (document.form1.disabled3.value + document.form1.disabled8.value + document.form1.disabled13.value + document.form1.disabled18.value);
                var rstxt_oil = document.form1.txt_oil.value;
                var resultcaloutside = parseFloat(caloutside) + parseFloat(rstxt_oil);  
                // var rscaloutside = parseFloat(caloutside) + parseFloat(rstxt_oil);  
                var chkpm = chkdis18;
                var rscaloutside = parseFloat(resultcaloutside) - parseFloat(chkpm); 
                // var rscaloutside = 0 + parseFloat(rstxt_oil);   
                
                // alert(rscaloutside);

                var Oilsum = (document.form1.txt_mileageend.value - document.form1.txt_mileagestart.value).toFixed(2);
                var Oilsum2 = (Oilsum / realOILAVERAGE).toFixed(2);
                var Oilsum3 = (Oilsum2 - rscaloutside).toFixed(0);
                var Oilsum4 = (Oilsum3 * document.form1.realPRICE.value).toFixed(2);      

                if(Oilsum4=="NaN"){
                    var ifOilsum4 = 0;
                }else if(Oilsum4=="Infinity"){
                    var ifOilsum4 = 0 ;
                }else{
                    var ifOilsum4 = Oilsum4 ;
                }
                // document.form1.txt_oilmonny.value  = ifOilsum4;	
                // document.form1.txt_oilmonny.focus();
                // document.form1.txt_oilmonny.value;
                // document.form1.txt_oilmonny.blur();
                $("#butsave").attr("disabled", "disabled");
                var chkjn_mileagestart = $('#CHKJN_MILEAGESTART').val();
                var chkjn_mileageend = $('#CHKJN_MILEAGEEND').val();
                var txt_mileagestart = $('#txt_mileagestart').val();
                var txt_mileageend = $('#txt_mileageend').val();
                if(realCOMPANYCODE=="RATC"||realCOMPANYCODE=="RRC"||realCOMPANYCODE=="RCC"){
                    var txt_oil = (rscaloutside).toFixed(2);
                }else{
                    var txt_oil = (rscaloutside).toFixed(2);
                    // var txt_oil = $('#txt_oil').val();
                }
                var txt_oilmonny = ifOilsum4;	
                // var txt_oilmonny = $('#txt_oilmonny').val(); 
                var resultVHCRGNB = $('#resultVHCRGNB').val();    
                var realJOBNO = $('#realJOBNO').val();  
                var realCOMPANYCODE = $('#realCOMPANYCODE').val();  
                var realEMPLOYEECODE = $('#realEMPLOYEECODE').val();  
                var realNEWDATE = $('#realNEWDATE').val();  
                var realVHCTPPID = $('#realVHCTPPID').val();  
                var chkjn_oilbillnumber = $('#CHKJN_OILBILLNUMBER').val();  
                var realOILAVERAGE = $('#realOILAVERAGE').val();  
                var realPRICE = $('#realPRICE').val();  
                var realCALSTARTEND = $('#realCALSTARTEND').val(); 
                var selecttype1 = $('#chkdis1').val(); 
                var selecttype2 = $('#chkdis2').val(); 
                var selecttype3 = $('#chkdis3').val(); 
                var selecttype4 = $('#chkdis4').val(); 
                var disabled1 = $('#disabled1').val(); 
                var disabled2 = $('#disabled2').val(); 
                var disabled3 = $('#disabled3').val(); 
                var disabled4 = $('#disabled4').val(); 
                var disabled5 = $('#disabled5').val(); 
                var disabled6 = $('#disabled6').val(); 
                var disabled7 = $('#disabled7').val(); 
                var disabled8 = $('#disabled8').val(); 
                var disabled9 = $('#disabled9').val(); 
                var disabled10 = $('#disabled10').val(); 
                var disabled11 = $('#disabled11').val(); 
                var disabled12 = $('#disabled12').val(); 
                var disabled13 = $('#disabled13').val();
                var disabled14 = $('#disabled14').val();
                var disabled15 = $('#disabled15').val();
                var disabled16 = $('#disabled16').val();
                var disabled17 = $('#disabled17').val();
                var disabled18 = $('#disabled18').val();
                var disabled19 = $('#disabled19').val();
                var disabled20 = $('#disabled20').val();                     
                var butsave = $('#butsave').val();  
                $.ajax({
                    url: "meg_transportcompensation_saveoildetail.php",
                    type: "POST",
                    data: {
                        chkjn_mileagestart: chkjn_mileagestart,
                        chkjn_mileageend: chkjn_mileageend,
                        txt_mileagestart: txt_mileagestart,
                        txt_mileageend: txt_mileageend,
                        txt_oil: txt_oil,
                        txt_oilmonny: txt_oilmonny,
                        resultVHCRGNB: resultVHCRGNB,
                        realJOBNO: realJOBNO,
                        realCOMPANYCODE: realCOMPANYCODE,
                        realEMPLOYEECODE: realEMPLOYEECODE,
                        realNEWDATE: realNEWDATE,
                        realVHCTPPID: realVHCTPPID,
                        chkjn_oilbillnumber: chkjn_oilbillnumber,
                        realOILAVERAGE_SHOW: realOILAVERAGE_SHOW,
                        realPRICE: realPRICE,
                        realCALSTARTEND: realCALSTARTEND,
                        selecttype1:selecttype1,
                        selecttype2:selecttype2,
                        selecttype3:selecttype3,
                        selecttype4:selecttype4,
                        disabled1:disabled1,
                        disabled2:disabled2,
                        disabled3:disabled3,
                        disabled4:disabled4,
                        disabled5:disabled5,
                        disabled6:disabled6,
                        disabled7:disabled7,
                        disabled8:disabled8,
                        disabled9:disabled9,
                        disabled10:disabled10,
                        disabled11:disabled11,
                        disabled12:disabled12,
                        disabled13:disabled13,
                        disabled14:disabled14,
                        disabled15:disabled15,
                        disabled16:disabled16,
                        disabled17:disabled17,
                        disabled18:disabled18,
                        disabled19:disabled19,
                        disabled20:disabled20,
                        butsave: butsave			
                    },                    
                    cache: false,
                    success: function(dataResult){              
                        var realCOMPANYCODE = $('#realCOMPANYCODE').val(); 
                        if(realCOMPANYCODE=="RATC"||realCOMPANYCODE=="RRC"||realCOMPANYCODE=="RCC"){
                            var getData_gw = ajaxload_gw();                          
                            $.ajax({
                                url: "meg_transportcompensation_saveoildetail.php",
                                type: "POST",
                                data: {
                                    txt_oilmonny1: getData_gw,
                                    realVHCTPPID: realVHCTPPID,
                                    realOILAVERAGE_SHOW: realOILAVERAGE_SHOW,
                                    butnewcalgw: "newvalue"			
                                },                    
                                cache: false,
                                success: function(dataResult1){    
                                    // alert("บันทึกค่าเฉลี่ยน้ำมันเรียบร้อย (GW)");     
                                    Swal.fire({
                                        icon: "success",
                                        title: "บันทึกค่าเฉลี่ยน้ำมันเรียบร้อย (GW)",
                                        showConfirmButton: true,
                                    });   
                                    document.form1.txt_oilmonny.value  = getData_gw;	
                                    // document.form1.txt_oilmonny.focus();
                                    // document.form1.txt_oilmonny.value;
                                    // document.form1.txt_oilmonny.blur();   

                                    document.form1.txt_rateoil.value  = realOILAVERAGE_SHOW;	
                                    $('.changecolor').html($('.changecolor input').val());
                                    $(".changecolor").css("background-color","Chartreuse");	
                                    $(".blink_me").css("visibility","hidden");  
                                } 
                            });	
                        }else{                        
                            // alert("บันทึกค่าเฉลี่ยน้ำมันเรียบร้อย (AMT)");   
                            Swal.fire({
                                icon: "success",
                                title: "บันทึกค่าเฉลี่ยน้ำมันเรียบร้อย (AMT)",
                                showConfirmButton: true,
                            });
                            document.form1.txt_oilmonny.value  = ifOilsum4;	
                            // document.form1.txt_oilmonny.focus();
                            // document.form1.txt_oilmonny.value;
                            // document.form1.txt_oilmonny.blur();
                            $('.changecolor').html($('.changecolor input').val());
                            $(".changecolor").css("background-color","Chartreuse");
							$(".blink_me").css("visibility","hidden");
                        }
                        // alert("บันทึกเรียบร้อย");                              
                    }
                });	
            }  
			function updateoiltatsuno(){	
                // $(document).ready(function() {
                    // $('#butupdate').on('click', function() {      
                    var oiltatid = $('#oiltatid').val();
                    var jobnooil = $('#jobnooil').val();
                    var mileagestart = $('#mileagestart').val();
                    var mileageend = $('#mileageend').val();
                    var oilamout = $('#oilamout').val();
                    var oldjoboil = $('#oldjoboil').val();  
                    var username = $('#username').val();
                    var butupdate = $('#butupdate').val();  
                        $.ajax({
                            url: "meg_transportcompensation_saveoildetail.php",
                            type: "POST",
                            data: {
                                oiltatid: oiltatid,
                                jobnooil: jobnooil,
                                mileagestart: mileagestart,
                                mileageend: mileageend,
                                oilamout: oilamout,
                                oldjoboil: oldjoboil,
                                username: username,
                                butupdate: butupdate			
                            },                    
                            cache: false,
                            success: function(dataResult){
                                    alert("แก้ไขข้อมูลเรียบร้อย");
                                    location.assign('');
                                var dataResult = JSON.parse(dataResult);
                                if(dataResult.statusCode==200){	
                                    $('#fupForm').find('input:text').val('');
                                    $("#success").show();
                                    $('#success').html('Data added successfully !');					
                                }
                                else if(dataResult.statusCode==201){
                                    alert("Error occured !");
                                }                                
                            }
                        });
                    // });
                // });		
            }
        </script>
        <script>
            function copyjob() {
            document.getElementById("jobnooil").value = document.getElementById("jobnoplan").value;
            }
        </script>
        <?php if ($_SESSION["ROLENAME"] == "DRIVER") { ?>
            <div class="row">
                <div class="col-lg-12" style="text-align: right">
                    <center><h1><u>ข้อมูลน้ำมัน</u></h1></center>
                    <input class="btn btn-default" type="button" style="background-color: green;border:solid 2px white"> * หมายเลขงานตรงแผน
                    <input class="btn btn-default" type="button" style="background-color: red;border:solid 2px white"> * หมายเลขงานไม่ตรงแผน
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default">
                        <div class="panel-heading" style="background-color: #e7e7e7">
                            <div class="row">
                                <table style="width: 100%">
                                    <tr>
                                        <td style="width: 20%"><?= $result_seEHR['nameT'] ?></td>
                                        <td style="width: 15%;text-align: center">
                                            <!-- <div class="styled-select slate">
                                                <select  class="form-control" id="sel_successoil" name="sel_successoil">
                                                    <option  value="0">Unsuccess</option>
                                                    <option  value="1">Success</option>
                                                </select>
                                            </div> -->
                                        </td>
                                        <td style="width: 15%;text-align: center"><input type="text" name="txt_datestartoil"  readonly="" id="txt_datestartoil" onchange="datetodateoil();"  class="form-control datedef" value="<?= $result_seSystime['SYSDATE'] ?>"></td>
                                        <td style="width: 15%;text-align: center"><input type="text" name="txt_dateendoil"  readonly="" id="txt_dateendoil" class="form-control datedef" value="<?= $result_seSystime['SYSDATE'] ?>"></td>
                                        <td style="width: 10%;text-align: center"><button type="button" class="btn btn-default" onclick="select_joboil();">ค้นหา <li class="fa fa-search"></li></button></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div id="dataTables-example_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div id="data_oildef">
                                            <?php 
                                                $conditionEHR = " AND a.PersonID ='" . $_SESSION["EMPLOYEEID"] . "'";
                                                $sql_seEHR = "{call megEmployeeEHR_v2(?,?)}";
                                                $params_seEHR = array(
                                                array('select_employeeehr2', SQLSRV_PARAM_IN),
                                                array($conditionEHR, SQLSRV_PARAM_IN)
                                                );
                                                $query_seEHR = sqlsrv_query($conn, $sql_seEHR, $params_seEHR);
                                                $result_seEHR = sqlsrv_fetch_array($query_seEHR, SQLSRV_FETCH_ASSOC);
                                                                                            
                                                date_default_timezone_set('Asia/Bangkok');
                                                $datestartoil=$_POST['datestartoil'];
                                                $dateendoil=$_POST['dateendoil'];
                                                // echo $datestartoil;
                                                // ECHO "<br>";
                                                // echo $dateendoil;
                                                // ECHO "<br>";
                                                $DATESTART = str_replace('/', '-', $datestartoil);
                                                $CONVERTDATESTART = date("Y-m-d", strtotime($DATESTART) );
                                                // ECHO "<br>";
                                                $DATEEND = str_replace('/', '-', $dateendoil);
                                                $CONVERTDATEEND = date("Y-m-d", strtotime($DATEEND) );

                                                $EHR_PHC = $result_seEHR['PersonCode'];
                                                
                                                $stmt_chkjob = "SELECT 
                                                    OILT.OILDATAID OILTID,
                                                    CHKPLCAR.VEHICLETRANSPORTPLANID VHCTPPID,
                                                    CHKPLCAR.JOBNO JOBNOPLAN,
                                                    OILT.JOBNO OILTJN,
                                                    OILT.VEHICLEREGISNUMBER VHCRGNB,
                                                    CHKIFCAR.THAINAME,
                                                    OILT.VEHICLETYPE OILTTE,
                                                    CHKPLCAR.EMPLOYEECODE1,
                                                    OILT.MILEAGESTART,
                                                    OILT.MILEAGEEND,
                                                    OILT.OIL_AMOUNT,
                                                    OILT.OIL_BILLNUMBER,
                                                    CONVERT (VARCHAR (10),OILT.REFUELINGDATE,20) OILTDWK,
                                                    CONVERT (VARCHAR (16),OILT.REFUELINGDATE,29) RFD
                                                FROM RTMS.dbo.VEHICLETRANSPORTPLAN CHKPLCAR
                                                LEFT JOIN RTMS.dbo.VEHICLEINFO CHKIFCAR ON (CHKIFCAR.VEHICLEREGISNUMBER = CHKPLCAR.VEHICLEREGISNUMBER1 OR CHKIFCAR.VEHICLEREGISNUMBER = CHKPLCAR.VEHICLEREGISNUMBER2 OR CHKIFCAR.VEHICLEREGISNUMBER = CHKPLCAR.THAINAME OR CHKIFCAR.VEHICLEREGISNUMBER = CHKPLCAR.THAINAME2)
                                                LEFT JOIN RTMS.dbo.VEHICLETYPE CHKTYCAR ON CHKTYCAR.VEHICLETYPECODE = CHKIFCAR.VEHICLETYPECODE
                                                LEFT JOIN TEMP_TATSUNODATA.dbo.OIL_TATSUNO OILT ON (CHKPLCAR.JOBNO = OILT.JOBNO COLLATE Thai_CI_AI)
                                                WHERE (CHKPLCAR.EMPLOYEECODE1 = '$EHR_PHC' OR CHKPLCAR.EMPLOYEECODE2 = '$EHR_PHC')
                                                AND CONVERT (VARCHAR (10),CHKPLCAR.DATEWORKING,20) = CONVERT(DATE,GETDATE())
                                                AND OILT.JOBNO IS NOT NULL
                                                ORDER BY CHKPLCAR.JOBNO ASC";
                                                $query_chkjob = sqlsrv_query($conn, $stmt_chkjob);
                                                $result = sqlsrv_fetch_array($query_chkjob);
                                                $data1 = $result["JOBNOPLAN"];
                                                $data2 = $result["OILTJN"];
                                                // echo $data1;
                                                // echo "<br>";
                                                // echo $data2;
                                            
                                            ?> 
                                            <table  style="height:70px;width:100px" class="table table-striped table-bordered table-hover dataTable no-footer dtr-inline" id="dataTables-oiltat" role="grid" aria-describedby="dataTables-example_info" >
                                                <thead>
                                                    <tr role="row">
                                                        <th style="text-align:center;width:100px">จัดการ</th>
                                                        <th style="text-align:center;width:100px">สถานะข้อมูล</th>
                                                        <th style="text-align:center;width:200px">เลข Job จากแผน</th>
                                                        <th style="text-align:center;width:200px">คีย์เลข Job จากเติมน้ำมัน</th>
                                                        <th style="text-align:center;width:100px">เลขใบกำกับน้ำมัน</th>
                                                        <th style="text-align:center;width:100px">ทะเบียนรถ</th>
                                                        <th style="text-align:center;width:100px">ชื่อรถ</th>
                                                        <th style="text-align:center;width:100px">ประเภทรถ</th>
                                                        <th style="text-align:center;width:100px">เลขไมล์ต้น</th>
                                                        <th style="text-align:center;width:100px">เลขไมล์ปลาย</th>
                                                        <th style="text-align:center;width:100px">ระยะทาง</th>
                                                        <th style="text-align:center;width:100px">จำนวนน้ำมัน(ลิตร)</th>
                                                        <th style="text-align:center;width:100px">วันที่เติมน้ำมัน</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <?php       
                                                        $stmt_oildataresult = "SELECT 
                                                            OILT.OILDATAID OILTID,
                                                            CHKPLCAR.VEHICLETRANSPORTPLANID VHCTPPID,
                                                            CHKPLCAR.JOBNO JOBNOPLAN,
                                                            OILT.JOBNO OILTJN,
                                                            OILT.VEHICLEREGISNUMBER VHCRGNB,
                                                            CHKIFCAR.THAINAME,
                                                            OILT.VEHICLETYPE OILTTE,
                                                            CHKPLCAR.EMPLOYEECODE1,
                                                            OILT.MILEAGESTART,
                                                            OILT.MILEAGEEND,
                                                            OILT.OIL_AMOUNT,
                                                            OILT.OIL_BILLNUMBER,
                                                            CONVERT (VARCHAR (10),OILT.REFUELINGDATE,20) OILTDWK,
                                                            CONVERT (VARCHAR (16),OILT.REFUELINGDATE,29) RFD
                                                        FROM RTMS.dbo.VEHICLETRANSPORTPLAN CHKPLCAR
                                                        LEFT JOIN TEMP_TATSUNODATA.dbo.OIL_TATSUNO OILT ON (CHKPLCAR.JOBNO = OILT.JOBNO COLLATE Thai_CI_AI)
                                                        LEFT JOIN RTMS.dbo.VEHICLEINFO CHKIFCAR ON CHKIFCAR.VEHICLEREGISNUMBER = OILT.VEHICLEREGISNUMBER COLLATE Thai_CI_AI
                                                        LEFT JOIN RTMS.dbo.VEHICLETYPE CHKTYCAR ON CHKTYCAR.VEHICLETYPECODE = CHKIFCAR.VEHICLETYPECODE 
                                                        WHERE (CHKPLCAR.EMPLOYEECODE1 = '$EHR_PHC' OR CHKPLCAR.EMPLOYEECODE2 = '$EHR_PHC')
                                                        AND CONVERT (VARCHAR (10),CHKPLCAR.DATEWORKING,20) = CONVERT(DATE,GETDATE())
                                                        ORDER BY CHKPLCAR.JOBNO ASC";
                                                        $query_oildataresult = sqlsrv_query($conn, $stmt_oildataresult);
                                                        while($result_oildataresult = sqlsrv_fetch_array($query_oildataresult, SQLSRV_FETCH_ASSOC)) {
                                                            $OILTID = $result_oildataresult["OILTID"];
                                                            $JOBNOPLAN = $result_oildataresult["JOBNOPLAN"];
                                                            $OILTJN = $result_oildataresult["OILTJN"];
                                                            $VHCRGNB = $result_oildataresult["VHCRGNB"];
                                                            $THAINAME = $result_oildataresult["THAINAME"];
                                                            $OILTTE = $result_oildataresult["OILTTE"];
                                                            $MLST = $result_oildataresult["MILEAGESTART"];
                                                            $MLED = $result_oildataresult["MILEAGEEND"];
                                                            $DTE = $MLED-$MLST;
                                                            $OBNB = $result_oildataresult["OIL_BILLNUMBER"];
                                                            $OAM = $result_oildataresult["OIL_AMOUNT"];
                                                            $OILTATDWK = $result_oildataresult["OILTATDWK"];
                                                            $RFD = $result_oildataresult["RFD"];

                                                            $stmt_rsbill = "SELECT 
                                                                COUNT(OIL_BILLNUMBER) AS CHKCOUNT,
                                                                CHKPLCAR.JOBNO JOBNOPLAN,
                                                                OILT.JOBNO OILTJN,
                                                                OILT.OIL_BILLNUMBER
                                                            FROM RTMS.dbo.VEHICLETRANSPORTPLAN CHKPLCAR
                                                            LEFT JOIN TEMP_TATSUNODATA.dbo.OIL_TATSUNO OILT ON (CHKPLCAR.JOBNO = OILT.JOBNO COLLATE Thai_CI_AI)
                                                            LEFT JOIN RTMS.dbo.VEHICLEINFO CHKIFCAR ON CHKIFCAR.VEHICLEREGISNUMBER = OILT.VEHICLEREGISNUMBER COLLATE Thai_CI_AI
                                                            LEFT JOIN RTMS.dbo.VEHICLETYPE CHKTYCAR ON CHKTYCAR.VEHICLETYPECODE = CHKIFCAR.VEHICLETYPECODE 
                                                            WHERE (CHKPLCAR.EMPLOYEECODE1 = '$EHR_PHC' OR CHKPLCAR.EMPLOYEECODE2 = '$EHR_PHC')
                                                            AND CONVERT (VARCHAR (10),CHKPLCAR.DATEWORKING,20) = CONVERT(DATE,GETDATE())
                                                            AND OILT.JOBNO IS NOT NULL
                                                            GROUP BY
                                                                CHKPLCAR.JOBNO,
                                                                OILT.JOBNO,
                                                                OILT.OIL_BILLNUMBER
                                                            ORDER BY CHKPLCAR.JOBNO ASC";
                                                            $query_rsbill = sqlsrv_query($conn, $stmt_rsbill);
                                                            $result_rsbill = sqlsrv_fetch_array($query_rsbill);
                                                            $CHKCOUNT = $result_rsbill["CHKCOUNT"];
                                                            $RSBILL = $result_rsbill["OIL_BILLNUMBER"];
                                                            // echo $CHKCOUNT;

                                                            if($OILTID == ""){
                                                                $RSOILID="";
                                                            }else{
                                                                $RSOILID=$OILTID;
                                                            }
                                                            if($OILTJN == ""){
                                                                if($CHKCOUNT!=""){                                                                                                                    
                                                                    // $CHKJN = '<b><font color="blue">ไม่มีข้อมูลการเติมน้ำมัน</font></b>';
                                                                    // $RSJOBNO = "-";
                                                                    // $RSJOBNO2= "";
                                                                    $CHKJN = 'OK';
                                                                    $RSJOBNO = '-';
                                                                    $RSJOBNO2= "";
                                                                    if($CHKJN=='OK'){
                                                                        $bgcolor1='bgcolor="#D5F5E3"';
                                                                        $bgcolor2='';
                                                                        $bgcolor4='';
                                                                    }
                                                                }else{
                                                                    $RSJOBNO = '-';
                                                                    $CHKJN = '<b><font color="blue">ไม่มีข้อมูลการเติมน้ำมัน</font></b>';
                                                                }
                                                            }else{
                                                                $CHKJN = 'OK';
                                                                $RSJOBNO = $OILTJN;
                                                                $RSJOBNO2=$OILTJN;
                                                                if($CHKJN=='OK'){
                                                                    $bgcolor1='bgcolor="#D5F5E3"';
                                                                }
                                                            }
                                                            if($RSBILL!=""){
                                                                $bgcolor3='bgcolor="#D5F5E3"';
                                                            } 
                                                            if($JOBNOPLAN==$OILTJN){
                                                                $bgcolor2='bgcolor="#D5F5E3"';
                                                                $bgcolor4='bgcolor="#D5F5E3"';
                                                            }
                                                            if($VHCRGNB == ""){
                                                                $RSVHCRGNB="-";
                                                                $RSTHAINAME="-";
                                                                $RSOILTTE="-";
                                                            }else{
                                                                $RSVHCRGNB=$VHCRGNB;
                                                                $RSTHAINAME=$THAINAME;
                                                                $RSOILTTE=$OILTTE;
                                                            } 
                                                            if($MLST == ""){
                                                                $RSMLST="-";
                                                            }else{
                                                                $RSMLST=$MLST;
                                                            }
                                                            if($MLED == ""){
                                                                $RSMLED="-";
                                                            }else{
                                                                $RSMLED=$MLED;
                                                            }
                                                            if($DTE == "0"){
                                                                $RSDTE="-";
                                                            }else{
                                                                $RSDTE=$DTE;
                                                            }
                                                            if($OBNB == ""){
                                                                $RSOBNB=$RSBILL;
                                                            }else{
                                                                $RSOBNB=$OBNB;
                                                            }
                                                            if($OAM == ""){
                                                                $RSOAM="-";
                                                            }else{
                                                                $RSOAM=$OAM;
                                                            }
                                                            if($RFD == ""){
                                                                $RSRFD="-";
                                                            }else{
                                                                $RSRFD=$RFD;
                                                            }
                                                    ?>       
                                                    <tr class="gradeX odd" role="row">
                                                        <td style="text-align: center;width: 100px;height: 55px">
                                                            <div class="btn-group">
                                                                <?php if($JOBNOPLAN==$RSJOBNO2){ ?>
                                                                    <button type="button" class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown"><i class="fa fa-chevron-down"></i></button>
                                                                    <ul class="dropdown-menu slidedown">
                                                                        <li><a href="#" onclick="editdataoiltatsuno('<?=$RSOILID;?>','<?=$JOBNOPLAN;?>','<?=$RSJOBNO2;?>','<?=$OBNB;?>','<?=$MLST;?>','<?=$MLED;?>','<?=$OAM;?>','<?=$RFD;?>')" data-toggle="modal"  data-target="#modal_editdataoiltatsuno">แก้ไขข้อมูล</a></li>
                                                                    </ul>                                                                                                                                   
                                                                <?php }else if(($JOBNOPLAN!=$RSJOBNO2) && ($OILTDWK!="")){   ?>        
                                                                    <button type="button" class="btn btn-danger btn-xs dropdown-toggle" data-toggle="dropdown"><i class="fa fa-chevron-down"></i></button>
                                                                    <ul class="dropdown-menu slidedown">
                                                                        <li><a href="#" onclick="editdataoiltatsuno('<?=$RSOILID;?>','<?=$JOBNOPLAN;?>','<?=$RSJOBNO2;?>','<?=$OBNB;?>','<?=$MLST;?>','<?=$MLED;?>','<?=$OAM;?>','<?=$RFD;?>')" data-toggle="modal"  data-target="#modal_editdataoiltatsuno">แก้ไขข้อมูล</a></li>
                                                                    </ul>  
                                                                <?php }else{  
                                                                        $JOBOIL = $RSJOBNO2;
                                                                        $JOBPLAN  = $JOBNOPLAN;
                                                                        $POS = strpos($JOBOIL, $JOBPLAN);
                                                                        if ($POS === false) { 
                                                                ?>
                                                                    <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown"><i class="fa fa-chevron-down"></i></button>
                                                                    <ul class="dropdown-menu slidedown">
                                                                        <li><a href="#" onclick="fineandeditdataoiltatsuno('<?=$JOBNOPLAN;?>')" data-toggle="modal"  data-target="#modal_editdataoiltatsuno">แก้ไขข้อมูล</a></li>
                                                                    </ul> 
                                                                <?php } else { ?>
                                                                    <button type="button" class="btn btn-danger btn-xs dropdown-toggle" data-toggle="dropdown"><i class="fa fa-chevron-down"></i></button>
                                                                    <ul class="dropdown-menu slidedown">
                                                                        <li><a href="#" onclick="editdataoiltatsuno('<?=$RSOILID;?>','<?=$JOBNOPLAN;?>','<?=$RSJOBNO2;?>','<?=$OBNB;?>','<?=$MLST;?>','<?=$MLED;?>','<?=$OAM;?>','<?=$RFD;?>')" data-toggle="modal"  data-target="#modal_editdataoiltatsuno">แก้ไขข้อมูล</a></li>
                                                                    </ul>    
                                                                <?php } } ?>
                                                            </div>
                                                        </td>
                                                        <td style="text-align:center;width:100px" <?=$bgcolor1;?>><b><?=$CHKJN;?></b></td>
                                                        <td style="text-align:center;width:200px" <?=$bgcolor4;?>><b><?=$JOBNOPLAN;?></b></td>
                                                        <td style="text-align:center;width:200px" <?=$bgcolor2;?>><b><?=$RSJOBNO;?></b></td>
                                                        <td style="text-align:center;width:100px" <?=$bgcolor3;?>><b><?=$RSOBNB;?></b></td>
                                                        <td style="text-align:center;width:100px"><?=$RSVHCRGNB;?></td>
                                                        <td style="text-align:center;width:100px"><?=$RSTHAINAME;?></td>
                                                        <td style="text-align:center;width:100px"><?=$RSOILTTE;?></td>
                                                        <td style="text-align:center;width:100px"><?=$RSMLST;?></td>
                                                        <td style="text-align:center;width:100px"><?=$RSMLED;?></td>
                                                        <td style="text-align:center;width:100px"><?=$RSDTE;?></td>
                                                        <td style="text-align:center;width:100px"><?=$RSOAM;?></td>
                                                        <td style="text-align:center;width:100px"><?=$RSRFD;?></td>
                                                    </tr>       
                                                    <?php } ?>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div id="data_oilsr"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
        <?php } ?>
        <script>
            function editdataoiltatsuno(oiltatid,oiljobnoplan,oiljobnotat,oilbillno,mileagestart,mileageend,oilamount,refueldate){
                $.ajax({
                    type: 'post',
                    url: 'meg_data2.php',
                    data: {
                        txt_flg: "select_editdataoiltatsuno", 
                        oiltatid: oiltatid, 
                        oiljobnoplan: oiljobnoplan, 
                        oiljobnotat: oiljobnotat, 
                        oilbillno: oilbillno, 
                        mileagestart: mileagestart,
                        mileageend: mileageend,
                        oilamount: oilamount,
                        refueldate: refueldate
                    },
                    success: function (response) {
                        if (response)
                        {
                            document.getElementById("editdataoiltatsunoresult").innerHTML = response;
                        }
                    }
                });
            }
            function fineandeditdataoiltatsuno(oiljobnoplan) {
                $.ajax({
                    type: 'post',
                    url: 'meg_data2.php',
                    data: {
                        txt_flg: "select_fineandeditdataoiltatsuno",
                        oiljobnoplan: oiljobnoplan
                    },
                    success: function (response) {
                        if (response) {
                            document.getElementById("editdataoiltatsunoresult").innerHTML = response;
                        }
                    }
                });
            }
            function finedataoil(){
                var finebill = $('#finebill').val();
                // alert(finebill)
                $.ajax({
                    type: 'post',
                    url: 'meg_transportcompensation_saveoildetail.php',
                    data: {
                        txt_flg: "select_finedataoil", 
                        finebill: finebill
                    },
                    success: function (response) {
                        // alert(response)
                        var split = response.split("|");
                        document.getElementById('jobnooil').value = split[0];
                        document.getElementById('oilbill').value = split[1];
                        document.getElementById('mileagestart').value = split[2];
                        document.getElementById('mileageend').value = split[3];
                        document.getElementById('oilamout').value = split[4];
                        document.getElementById('daterefuel').value = split[5];
                        document.getElementById('oiltatid').value = split[6];
                        document.getElementById('username').value = split[7];
                        document.getElementById('oldjoboil').value = split[8];
                    }
                });
            }
        </script>
        <div class="row" >
            <div class="col-lg-12" style="text-align: right">
                <center><h1><u>ข้อมูลแผนวิ่งงาน</u></h1></center>
                <?php if(($_SESSION["ROLENAME"] == "ADMIN")||($_SESSION["ROLENAME"] == "PLANNING(AMT)")||($_SESSION["ROLENAME"] == "PLANNING(GW)")||($_SESSION["ROLENAME"] == "TENKO(AMT)")||($_SESSION["ROLENAME"] == "TENKO(GW)")||($_SESSION["ROLENAME"] == "OIL(GW)")){ ?>
                    <button type="button" class="btn btn-warning btn-md" onclick="notactioncaloavg()" data-toggle="modal" data-target="#calrateoil"><font color="black"><b><li class="fa fa-search"></li> ไม่กดคำนวณค่าเฉลี่ยน้ำมัน</b></font></button>
                <?php } ?>
                <input class="btn btn-default" type="button" style="background-color: red;border:solid 2px white" id="btn_srquotation" name="btn_srquotation" value=""> * แจ้งเตือนข้อมูล ไม่พบราคาขนส่ง (Price)  
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading" style="background-color: #e7e7e7">
                        <div class="row">
                            <table style="width: 100%">
                                <tr>
                                    <td style="width: 20%"><?= $result_seEHR['nameT'] ?></td>

                                    <td style="width: 15%;text-align: center">
                                        <div class="styled-select slate">
                                            <select  class="form-control" id="sel_success" name="sel_success">
                                                <option  value="0">Unsuccess</option>
                                                <option  value="1">Success</option>
                                            </select>
                                        </div>
                                    </td>
                                    <td style="width: 15%;text-align: center"><input type="text" name="txt_datestart"  readonly="" id="txt_datestart" onchange="datetodate();"  class="form-control datedef" value="<?= $result_seSystime['SYSDATE'] ?>"></td>
                                    <td style="width: 15%;text-align: center"><input type="text" name="txt_dateend"  readonly="" id="txt_dateend" class="form-control datedef" value="<?= $result_seSystime['SYSDATE'] ?>"></td>
                                    <td style="width: 10%;text-align: center"><button type="button" class="btn btn-default" onclick="select_compensation();">ค้นหา <li class="fa fa-search"></li></button></td>
                                    <!-- <td style="width: 10%;text-align:right"><a href="#" onclick="pdf_compensation1();" class="btn btn-default">ค่าตอบแทน <li class="fa fa-print"></li></a></td> -->
                                </tr>

                            </table>

                        </div>
                    </div>


                    <div class="panel-body">
                        <div id="dataTables-example_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">

                            <div class="row">

                                <div class="col-sm-12">
                                    <div id="data_def">

                                        <table  style="height: 70px;" class="table table-striped table-bordered table-hover dataTable no-footer dtr-inline" id="dataTables-example" role="grid" aria-describedby="dataTables-example_info" >
                                            <thead>
                                                <tr role="row">
                                                    <th style="text-align: center;width: 100px">ข้อมูลย่อย</th>
                                                    <th style="text-align: center;width: 100px">ลบแผน</th>
                                                    <th style="text-align: center;width: 100px">คัดลอกแผน</th>
                                                    <th style="width: 100px">สถานะ</th>
                                                    <th style="width: 100px">ขาไป/กลับ</th>
                                                    <th style="width: 100px">วันที่</th>
                                                    <th style="width: 100px">รอบที่</th>
                                                    <th style="width: 100px">รหัสพนักงาน(1)</th>
                                                    <th style="width: 200px">ชื่อ-นามสกุล(1)</th>
                                                    <th style="width: 100px">รหัสพนักงาน(2)</th>
                                                    <th style="width: 200px">ชื่อ-นามสกุล(2)</th>
                                                    <th style="width: 100px">รหัสพนักงาน(3)</th>
                                                    <th style="width: 200px">ชื่อ-นามสกุล(3)</th>
                                                    <th style="width: 150px">เบอร์รถ/ทะเบียน</th>
                                                    <th style="width: 200px">ต้นทาง</th>
                                                    <th style="width: 200px">ปลายทาง</th>
                                                    <th style="width: 200px">เลข JOB</th>
                                                    <th style="width: 100px">ประเภทวัสดุ</th>
                                                    <th style="width: 100px">เลขไมล์ต้น</th>
                                                    <th style="width: 100px">เลขไมล์ปลาย</th>
                                                    <th style="width: 100px">จำนวนน้ำมันที่เติม</th>
                                                    <th style="width: 100px">ค่าเที่ยวคนที่1</th>
                                                    <th style="width: 100px">ค่าเที่ยวคนที่2</th>
                                                    <th style="width: 100px">ค่าเฉลี่ยน้ำมัน</th>
                                                    <th style="width: 100px">ทำงานวันหยุด(กลับก่อน 13:00)</th>
                                                    <th style="width: 100px">ทำงานวันหยุด(กลับหลัง 13:00)</th>



                                                </tr>
                                            </thead>
                                            <tbody>

                                                <?php
                                                if ($_SESSION["ROLENAME"] != "ADMIN" && $_SESSION["ROLENAME"] != "PLANNING(AMT)" && $_SESSION["ROLENAME"] != "PLANNING(GW)" && $_SESSION["ROLENAME"] != "OIL(GW)") {

                                                    // $sql_seChkjob = "SELECT TOP 1 JOBNO,COMPANYCODE,CUSTOMERCODE,JOBSTART,JOBEND 
                                                    // FROM VEHICLETRANSPORTPLAN WHERE (EMPLOYEECODE1 ='".$_SESSION["USERNAME"]."' OR EMPLOYEECODE2 ='".$_SESSION["USERNAME"]."')
                                                    // AND CONVERT(DATE,DATERETURN) = CONVERT(DATE,GETDATE())
                                                    // ORDER BY JOBNO DESC";
                                                    // $params_seChkjob = array();
                                                    // $query_seChkjob = sqlsrv_query($conn, $sql_seChkjob, $params_seChkjob);
                                                    // $result_seChkjob = sqlsrv_fetch_array($query_seChkjob, SQLSRV_FETCH_ASSOC);

                                                    // if ($result_seChkjob['COMPANYCODE'] == 'RRC' && $result_seChkjob['CUSTOMERCODE'] == 'TTTC' && $result_seChkjob['JOBSTART'] == 'TCR'  ) {
                                                    //     $conditionemp11 = " AND CONVERT(DATE,DATERETURN) = CONVERT(DATE,GETDATE()) AND (a.DOCUMENTCODE IS NULL OR a.DOCUMENTCODE = '')";
                                                    //     $conditionemp12 = " AND (a.EMPLOYEECODE1 ='" . $result_seEHR['PersonCode'] . "' OR a.EMPLOYEECODE2 ='" . $result_seEHR['PersonCode'] . "')";
                                                    //     $conditionemp13 = "";
                                                    //    // echo 'IF';
                                                    // }else {
                                                    //     $conditionemp11 = " AND CONVERT(DATE,DATEVLIN) = CONVERT(DATE,GETDATE()) AND (a.DOCUMENTCODE IS NULL OR a.DOCUMENTCODE = '')";
                                                    //     $conditionemp12 = " AND (a.EMPLOYEECODE1 ='" . $result_seEHR['PersonCode'] . "' OR a.EMPLOYEECODE2 ='" . $result_seEHR['PersonCode'] . "')";
                                                    //     $conditionemp13 = "";
                                                    //    // echo 'ELSE';
                                                    // }

                                                    $conditionemp11 = " AND CONVERT(DATE,DATEVLIN) = CONVERT(DATE,GETDATE()) AND (a.DOCUMENTCODE IS NULL OR a.DOCUMENTCODE = '')";
                                                    $conditionemp12 = " AND (a.EMPLOYEECODE1 ='" . $result_seEHR['PersonCode'] . "' OR a.EMPLOYEECODE2 ='" . $result_seEHR['PersonCode'] . "')";
                                                    $conditionemp13 = "";

                                                    $sql_seVehicletransportplan = "{call megVehicletransportplan_v2(?,?,?,?)}";
                                                    $params_seVehicletransportplan = array(
                                                        array('select_datevehicletransportplan', SQLSRV_PARAM_IN),
                                                        array($conditionemp11, SQLSRV_PARAM_IN),
                                                        array($conditionemp12, SQLSRV_PARAM_IN),
                                                        array($conditionemp13, SQLSRV_PARAM_IN)
                                                    );
                                                    $query_seVehicletransportplan = sqlsrv_query($conn, $sql_seVehicletransportplan, $params_seVehicletransportplan);
                                                    while ($result_seVehicletransportplan = sqlsrv_fetch_array($query_seVehicletransportplan, SQLSRV_FETCH_ASSOC)) {



                                                        $condMileagestart = " AND VEHICLEREGISNUMBER = '" . $result_seVehicletransportplan['VEHICLEREGISNUMBER1'] . "' AND MILEAGETYPE = 'MILEAGESTART' AND JOBNO = '" . $result_seVehicletransportplan['JOBNO'] . "'";
                                                        $sql_seMileagestart = "{call megMileage_v2(?,?)}";
                                                        $params_seMileagestart = array(
                                                            array('select_maxmileage', SQLSRV_PARAM_IN),
                                                            array($condMileagestart, SQLSRV_PARAM_IN)
                                                        );
                                                        $query_seMileagestart = sqlsrv_query($conn, $sql_seMileagestart, $params_seMileagestart);
                                                        $result_seMileagestart = sqlsrv_fetch_array($query_seMileagestart, SQLSRV_FETCH_ASSOC);

                                                        $condMileageend = " AND VEHICLEREGISNUMBER = '" . $result_seVehicletransportplan['VEHICLEREGISNUMBER1'] . "' AND MILEAGETYPE = 'MILEAGEEND' AND JOBNO = '" . $result_seVehicletransportplan['JOBNO'] . "'";
                                                        $sql_seMileageend = "{call megMileage_v2(?,?)}";
                                                        $params_seMileageend = array(
                                                            array('select_maxmileage', SQLSRV_PARAM_IN),
                                                            array($condMileageend, SQLSRV_PARAM_IN)
                                                        );
                                                        $query_seMileageend = sqlsrv_query($conn, $sql_seMileageend, $params_seMileageend);
                                                        $result_seMileageend = sqlsrv_fetch_array($query_seMileageend, SQLSRV_FETCH_ASSOC);

                                                        if ($result_seVehicletransportplan['DOCUMENTCODE'] == "") {

                                                            if ($result_seVehicletransportplan['DATEVLIN'] == "") {
                                                                $statusdoc = "<font style='color: green'>งานรับกลับ(unsuccess)</font> ";
                                                            } else {
                                                                $statusdoc = "<font style='color: red'>unsuccess</font> ";
                                                            }
                                                        } else {
                                                            if ($result_seVehicletransportplan['DATEVLIN'] == "") {
                                                                $statusdoc = "<font style='color: green'>งานรับกลับ(success)</font> ";
                                                            } else {
                                                                $statusdoc = "<font style='color: green'>success</font>";
                                                            }
                                                        }


                                                        $sql_seConfrimskb = "SELECT JOBEND FROM CONFRIMSKB WHERE VEHICLETRANSPORTPLANID = '" . $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] . "'
                                                        AND KM = (SELECT MAX(KM) FROM CONFRIMSKB WHERE VEHICLETRANSPORTPLANID = '" . $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] . "') ";

                                                        $query_seConfrimskb = sqlsrv_query($conn, $sql_seConfrimskb, $params_seConfrimskb);
                                                        $result_seConfrimskb = sqlsrv_fetch_array($query_seConfrimskb, SQLSRV_FETCH_ASSOC);
                                                        $VAR_JOBEND = ($result_seVehicletransportplan['CUSTOMERCODE'] == 'SKB') ? $result_seConfrimskb['JOBEND'] : $result_seVehicletransportplan['JOBEND'];
                                                        ?>
                                                        <tr class="gradeX odd" role="row"
                                                        <?php
                                                        if ($result_seVehicletransportplan['ACTUALPRICE'] == '' || $result_seVehicletransportplan['ACTUALPRICE'] == '0.00') {
                                                            ?>
                                                                style="color: red"
                                                                <?php
                                                            }
                                                            ?>
                                                            >
                                                            <td style="text-align: center;width: 100px;height: 55px">
                                                                <?php
                                                                if ($result_seVehicletransportplan['ACTUALPRICE'] == '' || $result_seVehicletransportplan['ACTUALPRICE'] == '0.00') {
                                                                    echo"-";
                                                                } else {
                                                                    ?>
                                                                    <div class="btn-group">
                                                                        <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                                                            <i class="fa fa-chevron-down"></i>
                                                                        </button>
                                                                        <ul class="dropdown-menu slidedown">


                                                                            <?php
                                                                            if ($result_seVehicletransportplan['COMPANYCODE'] == 'RRC') {
                                                                                ?>
                                                                                <li>
                                                                                    <a href="#" onclick="dirverdocaddrrc('<?= $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] ?>', '<?= $result_seVehicletransportplan1['COMPANYCODE'] ?>', '<?= $result_seVehicletransportplan['EMPLOYEECODE1'] ?>', '<?= $result_seVehicletransportplan['EMPLOYEENAME1'] ?>')" data-toggle="modal"  data-target="#modal_dirverdocrrc">เพิ่มค่าตอบแทน1</a>
                                                                                </li>
                                                                                <?php
                                                                            } else if ($result_seVehicletransportplan['COMPANYCODE'] == 'RCC' || $result_seVehicletransportplan['COMPANYCODE'] == 'RATC') {
                                                                                ?>
                                                                                <li>
                                                                                    <a href="#" onclick="dirverdocaddrrc('<?= $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] ?>', '<?= $result_seVehicletransportplan['COMPANYCODE'] ?>', '<?= $result_seVehicletransportplan['EMPLOYEECODE1'] ?>', '<?= $result_seVehicletransportplan['EMPLOYEENAME1'] ?>')" data-toggle="modal"  data-target="#modal_dirverdocrrc">เพิ่มค่าตอบแทน2</a>
                                                                                </li>

                                                                                <?php
                                                                            } else {
                                                                                ?>
                                                                                <li>
                                                                                    <a href="#" onclick="dirverdocaddrrc('<?= $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] ?>', '<?= $result_seVehicletransportplan['COMPANYCODE'] ?>', '<?= $result_seVehicletransportplan['EMPLOYEECODE1'] ?>', '<?= $result_seVehicletransportplan['EMPLOYEENAME1'] ?>')" data-toggle="modal"  data-target="#modal_dirverdocrrc">เพิ่มค่าตอบแทน3</a>
                                                                                </li>
                                                                                <?php
                                                                            }
                                                                            ?>






                                                                        </ul>
                                                                    </div>
                                                                    <?php
                                                                }
                                                                ?>

                                                            </td>

                                                            <td style="text-align: center;">
                                                                <button onclick="delete_vehicletransportplan('<?= $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] ?>');" title="ลบแผนการขนส่ง" type="button" class="btn btn-default btn-circle"><span class="fa fa-times"></span></button>
                                                            </td>

                                                            <!-- copy แผนงาน -->
                                                            <?php
                                                            if ($result_seVehicletransportplan['COMPANYCODE'] == 'RCC' || $result_seVehicletransportplan['COMPANYCODE'] == 'RATC') {
                                                            ?>
                                                                <td style="text-align: center;">
                                                                    <button title="COPY JOB" type="button" onclick="select_copyjob('<?= $result_seVehicletransportplan['JOBNO'] ?>', '<?= $result_seVehicletransportplan['JOBSTART'] ?>', '<?= $result_seVehicletransportplan['JOBEND'] ?>', '<?= $result_seVehicletransportplan['DATEVLIN'] ?>');" class="btn btn-default btn-circle" data-toggle="modal"  data-target="#modal_copyjob"><span class="fa fa-copy"></span></button>
                                                                </td>
                                                            <?php
                                                            }else{
                                                            ?>
                                                                
                                                                <td style="width: 100px"></td>
                                                            <?php
                                                            }
                                                            ?>

                                                            <td style="width: 100px"><?= $statusdoc ?></td>

                                                            <!-- ขาไป/กลับ -->
                                                            <?php
                                                            if ($result_seVehicletransportplan['COMPANYCODE'] == 'RCC' || $result_seVehicletransportplan['COMPANYCODE'] == 'RATC') {
                                                            ?>
                                                                <td style="width: 100px">
                                                                    <select id="txt_goreturn_rccratc" name="txt_goreturn_rccratc" class="form-control"  onchange="edit_planrccratc(this.value,'<?= $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] ?>','goreturn')" >
                                                                        <option value disabled selected hidden>(<?= ($result_seVehicletransportplan['C2'] == '0' || $result_seVehicletransportplan['C2'] == '' || $result_seVehicletransportplanadmin['C8'] == 'go') ? "ขาไป" : "ขาไป(มีรับกลับ)" ?>)</option>
                                                                        <option value="go">(ขาไป)</option>
                                                                        <option value="return">ขาไป(มีรับกลับ)</option>
                                                                    </select> 
                                                                </td>
                                                            <?php
                                                            }else{
                                                            ?>
                                                                <td style="width: 100px">(<?= ($result_seVehicletransportplan['C2'] != '' || $result_seVehicletransportplan['C8'] == 'return') ? "ขากลับ" : "ขาไป" ?>)</td>
                                                            <?php
                                                            }
                                                            ?>
                                                            <!-- แก้ไขวันที่และเวลาวิ่งงาน -->
                                                            <?php
                                                                if ($result_seVehicletransportplan['COMPANYCODE'] == 'RRC') {
                                                                    if ($result_seVehicletransportplan['CUSTOMERCODE'] == 'GMT') {
                                                              ?>
                                                                    <td style="width: 100px"><?= $result_seVehicletransportplan['DATEDEALERIN1'] ?></td>
                                                              <?php
                                                                    }else if ($result_seVehicletransportplan['CUSTOMERCODE'] == 'TTTC') {
                                                                        if ($result_seVehicletransportplan['JOBSTART'] = 'TCR') {
                                                                       ?>
                                                                       <td style="width: 100px"><?= $result_seVehicletransportplan['DATE_RETURN'] ?></td> 
                                                                       <?php
                                                                        }else{
                                                                        ?>
                                                                        <td style="width: 100px"><?= $result_seVehicletransportplan['DATE_VLIN'] ?></td> 
                                                                        <?php
                                                                        }
                                                                    }else {
                                                                       ?>
                                                                        <td style="width: 100px"><?= $result_seVehicletransportplan['DATE_VLIN'] ?></td>
                                                                       <?php
                                                                    }
                                                                }else if ($result_seVehicletransportplan['COMPANYCODE'] == 'RCC' || $result_seVehicletransportplan['COMPANYCODE'] == 'RATC'){
                                                                    ?>
                                                                    <td style="width: 100px"><input type="text" onchange="save_daterk(this.value,'<?= $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] ?>')" class="form-control datedef2" id="txt_editdaterk" name="txt_editdaterk" value="<?= $result_seVehicletransportplan['DATEWORKING'] ?>"></td>
                                                                    <?php
                                                                }else {
                                                                 ?>
                                                                    <td style="width: 100px"><?= $result_seVehicletransportplan['DATE_VLIN'] ?></td>
                                                                 <?php 
                                                                }
                                                            ?>
                                                            
                                                             <!-- จำนวนรอบวิ่งงาน -->
                                                            <?php
                                                            if ($result_seVehicletransportplan['COMPANYCODE'] == 'RKS'  && $result_seVehicletransportplan['CUSTOMERCODE'] == 'STM') {
                                                            ?>
                                                            
                                                                <td style="text-align:left"><input  style="width:60px;height:35px;font-size:12pt;text-align:center" type="button"  width="480" height="480"   id="btn_roundamount" name="btn_roundamount" class="btn btn-default" onclick ="open_modalstmeditround('<?= $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] ?>');" value="<?= $result_seVehicletransportplan['ROUNDAMOUNT'] ?>"></td>
                                                                
                                                            <?php
                                                            }else if ($result_seVehicletransportplan['COMPANYCODE'] == 'RCC' || $result_seVehicletransportplan['COMPANYCODE'] == 'RATC') {
                                                                ?>
                                                                <td style="text-align:left">
                                                                    <select id="txt_roundamount_rccratc" name="txt_roundamount_rccratc" class="form-control"  onchange="edit_planrccratc(this.value,'<?= $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] ?>','roundamount')" >
                                                                        <option value disabled selected hidden>รอบที่ <?= $result_seVehicletransportplan['ROUNDAMOUNT'] ?></option>
                                                                        <option value="1">รอบที่ 1</option>
                                                                        <option value="2">รอบที่ 2</option>
                                                                        <option value="3">รอบที่ 3</option>
                                                                        <option value="4">รอบที่ 4</option>
                                                                    </select>  
                                                                </td>
                                                                <!-- <td style="text-align:left"><input  style="width:60px;height:35px;font-size:12pt;text-align:center" type="button"  width="480" height="480"   id="btn_editplanrccratc" name="btn_editplanrccratc" class="btn btn-default" onclick ="open_modaleditplanrccratc('<?= $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] ?>');" value="<?= $result_seVehicletransportplan['ROUNDAMOUNT'] ?>"></td> -->
                                                                
                                                            <?php
                                                            }else {
                                                            ?>
                                                            
                                                                <td style="width: 100px"><?= $result_seVehicletransportplan['ROUNDAMOUNT'] ?></td>
                                                            
                                                            <?php
                                                            }
                                                            ?>

                                                            <td style="width: 100px"><?= $result_seVehicletransportplan['EMPLOYEECODE1'] ?></td>
                                                            <td style="width: 200px"><?= $result_seVehicletransportplan['EMPLOYEENAME1'] ?></td>
                                                            <td style="width: 100px"><?= $result_seVehicletransportplan['EMPLOYEECODE2'] ?></td>
                                                            <td style="width: 200px"><?= $result_seVehicletransportplan['EMPLOYEENAME2'] ?></td>

                                                            <!-- พขร.3 แสดงเฉพาะ  SKB-->
                                                            <?php
                                                            if ($result_seVehicletransportplan['COMPANYCODE'] == 'RKL' && $result_seVehicletransportplan['CUSTOMERCODE'] == 'SKB') {
                                                            ?>
                                                                <td style="width: 100px"><?= $result_seVehicletransportplan['EMPLOYEECODE3'] ?></td>
                                                                <td style="width: 200px"><?= $result_seVehicletransportplan['EMPLOYEENAME3'] ?></td>
                                                            <?php
                                                            }else{
                                                            ?>
                                                                <td style="width: 100px"></td>
                                                                <td style="width: 200px"></td>
                                                            <?php
                                                            }
                                                            ?>

                                                            <!-- แก้ไขข้อมูลเบอร์รถ -->
                                                            <?php
                                                            if ($result_seVehicletransportplan['COMPANYCODE'] == 'RCC'  || $result_seVehicletransportplan['COMPANYCODE'] == 'RATC') {
                                                            ?>
                                                                <td style="width: 100px">
                                                                    <input  type="button"     id="btn_thainame" name="btn_thainame" class="btn btn-default" onclick ="open_modalthainame('<?= $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] ?>');" value="<?= str_replace("(4L)","",$result_seVehicletransportplan['THAINAME']); ?>">
                                                                </td>
                                                            <?php
                                                            }else{
                                                            ?>
                                                                <td style="width: 100px"><?= $result_seVehicletransportplan['THAINAME'] ?></td>
                                                            <?php
                                                            }
                                                            ?>

                                                            <!-- แก้ไขข้อมูลแผนงาน -->
                                                            <?php
                                                            if ($result_seVehicletransportplan['COMPANYCODE'] == 'RCC'  || $result_seVehicletransportplan['COMPANYCODE'] == 'RATC') {
                                                            ?>
                                                                <td style="width: 200px"><input  style="width:60px;height:35px;font-size:12pt;text-align:center" type="button"  width="480" height="480"   id="btn_editplanrccratc" name="btn_editplanrccratc" class="btn btn-default" onclick ="open_modaleditplanrccratc('<?= $result_seVehicletransportplan['VEHICLETRANSPORTPLANID'] ?>','<?=$result_seVehicletransportplan['WORKTYPE']?>','<?=$result_seVehicletransportplan['JOBSTART']?>','<?=$VAR_JOBEND?>');" value="<?= $result_seVehicletransportplan['JOBSTART'] ?>"></td>
                                                            <?php
                                                            }else{
                                                            ?>
                                                                <td style="width: 200px"><?= $result_seVehicletransportplan['JOBSTART'] ?></td>
                                                            <?php
                                                            }
                                                            ?>

                                                            <td style="width: 200px"><?= $VAR_JOBEND ?></td>
                                                            <td style="width: 200px"><?= $result_seVehicletransportplan['JOBNO'] ?></td>
                                                            <td style="width: 100px"><?= $result_seVehicletransportplan['MATERIALTYPE'] ?></td>
                                                            <td style="width: 100px"><?= $result_seMileagestart['MILEAGENUMBER'] ?></td>
                                                            <td style="width: 100px"><?= $result_seMileageend['MILEAGENUMBER'] ?></td>
                                                            <td style="width: 100px"><?= $result_seVehicletransportplan['O4'] ?></td>

                                                            <td style="width: 100px"><?= $result_seVehicletransportplan['E1'] ?></td>
                                                            <td style="width: 100px"><?= $result_seVehicletransportplan['E2'] ?></td>

                                                            <td style="width: 100px"><?= ($result_seVehicletransportplan['C3']) ?></td>
                                                            <td style="width: 100px"><?= $result_seVehicletransportplan['C5'] ?></td>
                                                            <td style="width: 100px"><?= $result_seVehicletransportplan['C6'] ?></td>
                                                            <!--<td style="width: 100px"><?//= $result_seVehicletransportplan['E2'] + $result_seVehicletransportplan['C3'] + $result_seVehicletransportplan['C1'] + $result_seVehicletransportplan['C5'] + $result_seVehicletransportplan['C6'] ?></td>-->



                                                        </tr>
                                                        



                                                        <?php
                                                    }
                                                  
                                                    
                                                } else {
                                                   // echo $_SESSION["ROLENAME"];
                                                    $condition21 = " AND CONVERT(DATE,DATEVLIN) = CONVERT(DATE,GETDATE())";
                                                    $condition22 = " AND (a.DOCUMENTCODE IS NULL OR a.DOCUMENTCODE = '')";
                                                    $condition23 = "";
                                                    $sql_seVehicletransportplanadmin = "{call megVehicletransportplan_v2(?,?,?,?)}";
                                                    $params_seVehicletransportplanadmin = array(
                                                        array('select_datevehicletransportplan', SQLSRV_PARAM_IN),
                                                        array($condition21, SQLSRV_PARAM_IN),
                                                        array($condition22, SQLSRV_PARAM_IN),
                                                        array($condition23, SQLSRV_PARAM_IN)
                                                    );
                                                    $query_seVehicletransportplanadmin = sqlsrv_query($conn, $sql_seVehicletransportplanadmin, $params_seVehicletransportplanadmin);
                                                    while ($result_seVehicletransportplanadmin = sqlsrv_fetch_array($query_seVehicletransportplanadmin, SQLSRV_FETCH_ASSOC)) {




                                                        /* $condMileagestart = " AND VEHICLEREGISNUMBER = '" . $result_seVehicletransportplanadmin['VEHICLEREGISNUMBER1'] . "' AND MILEAGETYPE = 'MILEAGESTART' AND JOBNO = '" . $result_seVehicletransportplanadmin['JOBNO'] . "' AND REMARK = '" . $result_seVehicletransportplanadmin['ROUNDAMOUNT'] . "'";
                                                          $sql_seMileagestart = "{call megMileage_v2(?,?)}";
                                                          $params_seMileagestart = array(
                                                          array('select_maxmileage', SQLSRV_PARAM_IN),
                                                          array($condMileagestart, SQLSRV_PARAM_IN)
                                                          );
                                                          $query_seMileagestart = sqlsrv_query($conn, $sql_seMileagestart, $params_seMileagestart);
                                                          $result_seMileagestart = sqlsrv_fetch_array($query_seMileagestart, SQLSRV_FETCH_ASSOC);

                                                          $condMileageend = " AND VEHICLEREGISNUMBER = '" . $result_seVehicletransportplanadmin['VEHICLEREGISNUMBER1'] . "' AND MILEAGETYPE = 'MILEAGEEND' AND JOBNO = '" . $result_seVehicletransportplanadmin['JOBNO'] . "' AND REMARK = '" . $result_seVehicletransportplanadmin['ROUNDAMOUNT'] . "'";
                                                          $sql_seMileageend = "{call megMileage_v2(?,?)}";
                                                          $params_seMileageend = array(
                                                          array('select_maxmileage', SQLSRV_PARAM_IN),
                                                          array($condMileageend, SQLSRV_PARAM_IN)
                                                          );
                                                          $query_seMileageend = sqlsrv_query($conn, $sql_seMileageend, $params_seMileageend);
                                                          $result_seMileageend = sqlsrv_fetch_array($query_seMileageend, SQLSRV_FETCH_ASSOC); */
                                                        if ($result_seVehicletransportplanadmin['DOCUMENTCODE'] == "") {
                                                            if ($result_seVehicletransportplanadmin['DATEVLIN'] == "") {
                                                                $statusdoc = "<font style='color: green'>งานรับกลับ(unsuccess)</font> ";
                                                            } else {
                                                                $statusdoc = "<font style='color: red'>unsuccess</font> ";
                                                            }
                                                        } else {
                                                            if ($result_seVehicletransportplanadmin['DATEVLIN'] == "") {
                                                                $statusdoc = "<font style='color: green'>งานรับกลับ(success)</font> ";
                                                            } else {
                                                                $statusdoc = "<font style='color: green'>success</font>";
                                                            }
                                                        }

                                                        $sql_seConfrimskb = "SELECT JOBEND FROM CONFRIMSKB WHERE VEHICLETRANSPORTPLANID = '" . $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] . "'
                                                        AND KM = (SELECT MAX(KM) FROM CONFRIMSKB WHERE VEHICLETRANSPORTPLANID = '" . $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] . "') ";

                                                        $query_seConfrimskb = sqlsrv_query($conn, $sql_seConfrimskb, $params_seConfrimskb);
                                                        $result_seConfrimskb = sqlsrv_fetch_array($query_seConfrimskb, SQLSRV_FETCH_ASSOC);
                                                        $VAR_JOBEND = ($result_seVehicletransportplanadmin['CUSTOMERCODE'] == 'SKB') ? $result_seConfrimskb['JOBEND'] : $result_seVehicletransportplanadmin['JOBEND'];
                                                        ?>
                                                        <tr class="gradeX odd" role="row"
                                                        <?php
                                                        if ($result_seVehicletransportplanadmin['ACTUALPRICE'] == '' || $result_seVehicletransportplanadmin['ACTUALPRICE'] == '0.00') {
                                                            ?>
                                                                style="color: red"
                                                                <?php
                                                            }
                                                            ?>
                                                            >
                                                            <td style="text-align: center;width: 100px">
                                                                <?php
                                                                if ($result_seVehicletransportplanadmin['ACTUALPRICE'] == '' || $result_seVehicletransportplanadmin['ACTUALPRICE'] == '0.00') {
                                                                    echo"-";
                                                                } else {
                                                                    ?>
                                                                    <div class="btn-group">
                                                                        <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                                                            <i class="fa fa-chevron-down"></i>
                                                                        </button>
                                                                        <ul class="dropdown-menu slidedown">


                                                                            <?php
                                                                            if ($result_seVehicletransportplanadmin['COMPANYCODE'] == 'RRC') {
                                                                                ?>
                                                                                <li>
                                                                                    <a href="#" onclick="dirverdocaddrrc('<?= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>', '<?= $result_seVehicletransportplanadmin['COMPANYCODE'] ?>', '<?= $result_seVehicletransportplanadmin['EMPLOYEECODE1'] ?>', '<?= $result_seVehicletransportplanadmin['EMPLOYEENAME1'] ?>')" data-toggle="modal"  data-target="#modal_dirverdocrrc">เพิ่มค่าตอบแทน1</a>
                                                                                </li>
                                                                                <?php
                                                                            } else if ($result_seVehicletransportplanadmin['COMPANYCODE'] == 'RCC' || $result_seVehicletransportplanadmin['COMPANYCODE'] == 'RATC') {

                                                                                //if ($result_seVehicletransportplanadmin['C2'] == "") {
                                                                                ?>
                                                                                <li>
                                                                                    <a href="#" onclick="dirverdocaddrrc('<?= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>', '<?= $result_seVehicletransportplanadmin['COMPANYCODE'] ?>', '<?= $result_seVehicletransportplanadmin['EMPLOYEECODE1'] ?>', '<?= $result_seVehicletransportplanadmin['EMPLOYEENAME1'] ?>')" data-toggle="modal"  data-target="#modal_dirverdocrrc">เพิ่มค่าตอบแทน5</a>
                                                                                </li>

                                                                                <!--<li class="divider"></li>
                                                                                <li>
                                                                                <a href="#" onclick="jobreturn('<?//= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>')" data-toggle="modal"  data-target="#modal_jobreturn">งานรับกลับ</a>
                                                                              </li>-->
                                                                                <?php
                                                                                //} else {
                                                                                ?>
                                                                                <!-- <li>
                                                                                <a href="#" onclick="jobreturn('<?//= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>')" data-toggle="modal"  data-target="#modal_jobreturn">งานรับกลับ</a>
                                                                              </li>
                                                                                -->
                                                                                <?php
                                                                                //}
                                                                            } else {
                                                                                ?>
                                                                                <li>
                                                                                    <a href="#" onclick="dirverdocaddrrc('<?= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>', '<?= $result_seVehicletransportplanadmin['COMPANYCODE'] ?>', '<?= $result_seVehicletransportplanadmin['EMPLOYEECODE1'] ?>', '<?= $result_seVehicletransportplanadmin['EMPLOYEENAME1'] ?>')" data-toggle="modal"  data-target="#modal_dirverdocrrc">เพิ่มค่าตอบแทน6</a>
                                                                                </li>
                                                                                <?php
                                                                            }
                                                                            ?>






                                                                        </ul>
                                                                    </div>

                                                                    <?php
                                                                }
                                                                ?>
                                                            </td>

                                                            <td style="text-align: center;">
                                                                <button onclick="delete_vehicletransportplan('<?= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>');" title="ลบแผนการขนส่ง" type="button" class="btn btn-default btn-circle"><span class="fa fa-times"></span></button>
                                                            </td>

                                                            <!-- copy แผนงาน -->
                                                            <?php
                                                            if ($result_seVehicletransportplanadmin['COMPANYCODE'] == 'RCC' || $result_seVehicletransportplanadmin['COMPANYCODE'] == 'RATC') {
                                                            ?>
                                                                <td style="text-align: center;">
                                                                    <button title="COPY JOB" type="button" onclick="select_copyjob('<?= $result_seVehicletransportplanadmin['JOBNO'] ?>', '<?= $result_seVehicletransportplanadmin['JOBSTART'] ?>', '<?= $result_seVehicletransportplanadmin['JOBEND'] ?>', '<?= $result_seVehicletransportplanadmin['DATEVLIN'] ?>');" class="btn btn-default btn-circle" data-toggle="modal"  data-target="#modal_copyjob"><span class="fa fa-copy"></span></button>
                                                                </td>
                                                            <?php
                                                            }else{
                                                            ?>
                                                                <!--  -->
                                                                <td style="width: 100px"></td>
                                                            <?php
                                                            }
                                                            ?>

                                                            <td style="width: 100px"><?= $statusdoc ?></td>

                                                            <!-- ขาไป/กลับ -->
                                                            <?php
                                                            if ($result_seVehicletransportplanadmin['COMPANYCODE'] == 'RCC' || $result_seVehicletransportplanadmin['COMPANYCODE'] == 'RATC') {
                                                            ?>
                                                                <td style="width: 100px">
                                                                    <select id="txt_goreturn_rccratc" name="txt_goreturn_rccratc" class="form-control"  onchange="edit_planrccratc(this.value,'<?= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>','goreturn')" >
                                                                        <option value disabled selected hidden>(<?= ($result_seVehicletransportplanadmin['C2'] == '0' || $result_seVehicletransportplanadmin['C2'] == '' || $result_seVehicletransportplanadmin['C8'] == 'go') ? "ขาไป" : "ขาไป(มีรับกลับ)" ?>)</option>
                                                                        <option value="go">ขาไป</option>
                                                                        <option value="return">ขาไป(มีรับกลับ)</option>
                                                                    </select> 
                                                                </td>
                                                            <?php
                                                            }else{
                                                            ?>
                                                                <!--  -->
                                                                <td style="width: 100px">(<?= ($result_seVehicletransportplanadmin['C2'] != '' || $result_seVehicletransportplanadmin['C8'] == 'return') ? "ขากลับ" : "ขาไป" ?>)</td>
                                                            <?php
                                                            }
                                                            ?>

                                                            <!-- แก้ไขวันที่และเวลาวิ่งงาน -->
                                                            <?php
                                                            if ($result_seVehicletransportplanadmin['COMPANYCODE'] == 'RRC' && $result_seVehicletransportplanadmin['CUSTOMERCODE'] == 'GMT') {
                                                                ?>
                                                                <td style="width: 100px"><?= $result_seVehicletransportplanadmin['DATEDEALERIN1'] ?></td>
                                                                <?php
                                                            }else if ($result_seVehicletransportplanadmin['COMPANYCODE'] == 'RCC' || $result_seVehicletransportplanadmin['COMPANYCODE'] == 'RATC'){
                                                                ?>
                                                                <td style="width: 100px"><input type="text" onchange="save_daterk(this.value,'<?= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>')" class="form-control datedef2" id="txt_editdaterk" name="txt_editdaterk" value="<?= $result_seVehicletransportplanadmin['DATEWORKING'] ?>"></td>
                                                                <?php
                                                            }else {
                                                                ?>

                                                                <td style="width: 100px"><?= $result_seVehicletransportplanadmin['DATE_VLIN'] ?></td>
                                                                <?php
                                                            }
                                                            ?>

                                                            <!-- จำนวนรอบวิ่งงาน -->
                                                            <?php
                                                            if ($result_seVehicletransportplanadmin['COMPANYCODE'] == 'RKS'  && $result_seVehicletransportplanadmin['CUSTOMERCODE'] == 'STM') {
                                                            ?>
                                                            
                                                                <td style="text-align:left"><input  style="width:60px;height:35px;font-size:12pt;text-align:center" type="button"  width="480" height="480"   id="btn_roundamount" name="btn_roundamount" class="btn btn-default" onclick ="open_modalstmeditround('<?= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>');" value="<?= $result_seVehicletransportplanadmin['ROUNDAMOUNT'] ?>"></td>
                                                                
                                                            <?php
                                                            }else if ($result_seVehicletransportplanadmin['COMPANYCODE'] == 'RCC' || $result_seVehicletransportplanadmin['COMPANYCODE'] == 'RATC') {
                                                                ?>
                                                                
                                                                <td style="text-align:left">
                                                                    <select id="txt_roundamount_rccratc" name="txt_roundamount_rccratc" class="form-control"  onchange="edit_planrccratc(this.value,'<?= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>','roundamount')" >
                                                                        <option value disabled selected hidden>รอบที่ <?= $result_seVehicletransportplanadmin['ROUNDAMOUNT'] ?></option>
                                                                        <option value="1">รอบที่ 1</option>
                                                                        <option value="2">รอบที่ 2</option>
                                                                        <option value="3">รอบที่ 3</option>
                                                                        <option value="4">รอบที่ 4</option>
                                                                    </select>  
                                                                </td>
                                                                <!-- <td style="text-align:left"><input  style="width:60px;height:35px;font-size:12pt;text-align:center" type="button"  width="480" height="480"   id="btn_editplanrccratc" name="btn_editplanrccratc" class="btn btn-default" onclick ="open_modaleditplanrccratc('<?= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>');" value="<?= $result_seVehicletransportplanadmin['ROUNDAMOUNT'] ?>"></td> -->
                                                            <?php
                                                            }else {
                                                            ?>
                                                            
                                                                <td style="width: 100px"><?= $result_seVehicletransportplanadmin['ROUNDAMOUNT'] ?></td>
                                                            
                                                            <?php
                                                            }
                                                            ?>

                                                            <?php if(($_SESSION["ROLENAME"] == "ADMIN")||($_SESSION["ROLENAME"] == "PLANNING(AMT)")||($_SESSION["ROLENAME"] == "PLANNING(GW)")||($_SESSION["ROLENAME"] == "TENKO(AMT)")||($_SESSION["ROLENAME"] == "TENKO(GW)")||($_SESSION["ROLENAME"] == "OIL(GW)")){ ?>
                                                                <td style="width: 100px"><a href="meg_transportcompensation_admincheck.php?PSC=<?= $result_seVehicletransportplanadmin['EMPLOYEECODE1'] ?>&DATE=<?=$_POST['datestart']?>" target="_blank"><?= $result_seVehicletransportplanadmin['EMPLOYEECODE1'] ?></a></td>
                                                                <td style="width: 200px"><a href="meg_transportcompensation_admincheck.php?PSC=<?= $result_seVehicletransportplanadmin['EMPLOYEECODE1'] ?>&DATE=<?=$_POST['datestart']?>" target="_blank"><?= $result_seVehicletransportplanadmin['EMPLOYEENAME1'] ?></a>
                                                                    <div class="btn-group">
                                                                        <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                                                                            <i class="fa fa-chevron-down"></i>
                                                                        </button>
                                                                        <ul class="dropdown-menu slidedown">
                                                                            <li><a href="#" onclick="checkoil('<?=$result_seVehicletransportplanadmin['JOBNO'];?>')" data-toggle="modal"  data-target="#modal_checkoil">ตรวจสอบข้อมูลน้ำมัน<?=$result_seOilaverage['OILAVERAGE'];?></a></li>
                                                                        </ul>
                                                                    </div>
                                                                </td>
                                                                <td style="width: 100px"><a href="meg_transportcompensation_admincheck.php?PSC=<?= $result_seVehicletransportplanadmin['EMPLOYEECODE2'] ?>&DATE=<?=$_POST['datestart']?>" target="_blank"><?= $result_seVehicletransportplanadmin['EMPLOYEECODE2'] ?></a></td>
                                                                <td style="width: 200px"><a href="meg_transportcompensation_admincheck.php?PSC=<?= $result_seVehicletransportplanadmin['EMPLOYEECODE2'] ?>&DATE=<?=$_POST['datestart']?>" target="_blank"><?= $result_seVehicletransportplanadmin['EMPLOYEENAME2'] ?></a></td>
																
                                                                <!-- พขร.3 แสดงเฉพาะ  SKB-->
                                                                <?php
                                                                if ($result_seVehicletransportplanadmin['COMPANYCODE'] == 'RKL' && $result_seVehicletransportplanadmin['CUSTOMERCODE'] == 'SKB') {
                                                                ?>
                                                                    <td style="width: 100px"><?= $result_seVehicletransportplanadmin['EMPLOYEECODE3'] ?></td>
                                                                    <td style="width: 200px"><?= $result_seVehicletransportplanadmin['EMPLOYEENAME3'] ?></td>
                                                                <?php
                                                                }else{
                                                                ?>
                                                                    <td style="width: 100px"></td>
                                                                    <td style="width: 200px"></td>
                                                                <?php
                                                                }
                                                                ?>

                                                                <script>                                                                    
                                                                    function checkoil(jobno){
                                                                        $.ajax({
                                                                            type: 'post',
                                                                            url: 'meg_data2.php',
                                                                            data: {
                                                                                txt_flg: "select_checkoil", 
                                                                                jobno: jobno
                                                                            },
                                                                            success: function (response) {
                                                                                if (response) {
                                                                                    document.getElementById("divcheckoil").innerHTML = response;             
                                                                                    // alert(vehicletransportplanid)
                                                                                }
                                                                            }
                                                                        });
                                                                    }                                          
                                                                    function notactioncaloavg(){
                                                                        $.ajax({
                                                                            type: 'post',
                                                                            url: 'manage_oil/manage_oil.php',
                                                                            data: {
                                                                                txt_flg: "notactioncaloavg",
                                                                                datestart: document.getElementById('txt_datestart').value, 
                                                                                dateend: document.getElementById('txt_dateend').value
                                                                            },
                                                                            success: function (response) {
                                                                                if (response) {
                                                                                    document.getElementById("divnotactioncaloavg").innerHTML = response;             
                                                                                    // alert(vehicletransportplanid)
                                                                                }
                                                                            }
                                                                        });
                                                                    }
                                                                </script>
                                                            <?php }else{ ?>
                                                                <td style="width: 100px"><?= $result_seVehicletransportplanadmin['EMPLOYEECODE1'] ?></td>
                                                                <td style="width: 200px"><?= $result_seVehicletransportplanadmin['EMPLOYEENAME1'] ?></td>
                                                                <td style="width: 100px"><?= $result_seVehicletransportplanadmin['EMPLOYEECODE2'] ?></td>
                                                                <td style="width: 200px"><?= $result_seVehicletransportplanadmin['EMPLOYEENAME2'] ?></td>
                                                                
                                                                <!-- พขร.3 แสดงเฉพาะ  SKB-->
                                                                <?php
                                                                if ($result_seVehicletransportplanadmin['COMPANYCODE'] == 'RKL' && $result_seVehicletransportplanadmin['CUSTOMERCODE'] == 'SKB') {
                                                                ?>
                                                                    <td style="width: 100px"><?= $result_seVehicletransportplanadmin['EMPLOYEECODE3'] ?></td>
                                                                    <td style="width: 200px"><?= $result_seVehicletransportplanadmin['EMPLOYEENAME3'] ?></td>
                                                                <?php
                                                                }else{
                                                                ?>
                                                                    <td style="width: 100px"></td>
                                                                    <td style="width: 200px"></td>
                                                                <?php
                                                                }
                                                                ?>
                                                            <?php } ?>

                                                            
                                                            <!-- แก้ไขข้อมูลเบอร์รถ -->
                                                            <?php
                                                            if ($result_seVehicletransportplanadmin['COMPANYCODE'] == 'RCC'  || $result_seVehicletransportplanadmin['COMPANYCODE'] == 'RATC') {
                                                            ?>
                                                                <td style="width: 100px">
                                                                    <input  type="button"     id="btn_thainame" name="btn_thainame" class="btn btn-default" onclick ="open_modalthainame('<?= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>');" value="<?= str_replace("(4L)","",$result_seVehicletransportplanadmin['THAINAME']); ?>">
                                                                </td>
                                                            <?php
                                                            }else{
                                                            ?>
                                                                <td style="width: 100px"><?= $result_seVehicletransportplanadmin['THAINAME'] ?></td>
                                                            <?php
                                                            }
                                                            ?>

                                                            <!-- แก้ไขข้อมูลแผนงาน -->
                                                            <?php
                                                            if ($result_seVehicletransportplanadmin['COMPANYCODE'] == 'RCC'  || $result_seVehicletransportplanadmin['COMPANYCODE'] == 'RATC') {
                                                            ?>
                                                                <td style="width: 200px"><input  style="width:60px;height:35px;font-size:12pt;text-align:center" type="button"  width="480" height="480"   id="btn_editplanrccratc" name="btn_editplanrccratc" class="btn btn-default" onclick ="open_modaleditplanrccratc('<?= $result_seVehicletransportplanadmin['VEHICLETRANSPORTPLANID'] ?>','<?=$result_seVehicletransportplanadmin['WORKTYPE']?>','<?=$result_seVehicletransportplanadmin['JOBSTART']?>','<?=$VAR_JOBEND?>');" value="<?= $result_seVehicletransportplanadmin['JOBSTART'] ?>"></td>
                                                            <?php
                                                            }else{
                                                            ?>
                                                                <td style="width: 200px"><?= $result_seVehicletransportplanadmin['JOBSTART'] ?></td>
                                                            <?php
                                                            }
                                                            ?>

                                                            <td style="width: 200px"><?= $VAR_JOBEND ?></td>
                                                            <td style="width: 200px"><?= $result_seVehicletransportplanadmin['JOBNO'] ?></td>
                                                            <td style="width: 100px"><?= $result_seVehicletransportplanadmin['MATERIALTYPE'] ?></td>
                                                            <td style="width: 100px">-</td>
                                                            <td style="width: 100px">-</td>
                                                            <td style="width: 100px"><?= $result_seVehicletransportplanadmin['O4'] ?></td>

                                                            <td style="width: 100px"><?= $result_seVehicletransportplanadmin['E1'] ?></td>
                                                            <td style="width: 100px"><?= $result_seVehicletransportplanadmin['E2'] ?></td>

                                                            <td style="width: 100px"><?= ($result_seVehicletransportplanadmin['C3']) ?></td>
                                                            <td style="width: 100px"><?= $result_seVehicletransportplanadmin['C5'] ?></td>
                                                            <td style="width: 100px"><?= $result_seVehicletransportplanadmin['C6'] ?></td>
                                                            <!--<td style="width: 100px"><?//= $result_seVehicletransportplanadmin['E2'] + $result_seVehicletransportplanadmin['C3'] + $result_seVehicletransportplanadmin['C1'] + $result_seVehicletransportplanadmin['C5'] + $result_seVehicletransportplanadmin['C6'] ?></td>-->



                                                        </tr>
                                                        <?php
                                                    }
                                                   
                                                }
                                                ?>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div id="data_sr">

                                    </div>


                                </div>
                                <!-- /.panel-body -->
                            </div>
                            <!-- /.panel -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
                                            
        <!-- Modal แก้ไขรอบวิ่งงาน STM-->
        <div  class="modal fade" id="modal_modalstmeditround" name="modal_modalstmeditround" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div style="width: 400px;" class="modal-dialog modal-sm" role="document"  >
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div class="col-lg-12">
                                <h5 class="modal-title" ><b>แก้ไขรอบวิ่งงาน สายงาน STM</b></h5>
                            </div>
                        </div>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-12" style="text-align:left">
                                <label>เลือกรอบวิ่งงาน STM</label>
                                <input type="text" class="form-control"  id="txt_editstmround" name="txt_editstmround">
                                
                                <!-- <select   id="cb_seround" name="cb_seround" class="selectpicker form-control"  data-container="body" data-live-search="true" title="เลือก รอบที่วิ่งงาน..." data-hide-disabled="true" data-actions-box="true" data-virtual-scroll="false" tabindex="-98">
                                     <?php
                                    $sql_seStmround = "SELECT STM_ROUND AS 'ROUND' FROM STM_ROUNDAMOUNT
                                    ORDER BY STM_ROUND ASC";
                                    $params_seStmround = array();
                                    $query_seStmround = sqlsrv_query($conn, $sql_seStmround, $params_seStmround);
                                    while ($result_seStmround = sqlsrv_fetch_array($query_seStmround, SQLSRV_FETCH_ASSOC)) {
                                        ?>
                                        <option value="<?= $result_seStmround['ROUND'] ?>"><?= $result_seStmround['ROUND'] ?></option>
                                        
                                        <?php
                                    }
                                    ?> 
                                    
                                    
                                    
                                </select>    -->
                                 
                            </div>
                        </div>
                        <div id="datacompdetaildatepresentsr"></div> 
                        <!-- txt_planid อยู่ตรงนี้ -->
                        <input type="hidden"  autocomplete="off" disabled ="" id="txt_planid_stmround" name="txt_planid_stmround" value="">
                    </div>
                    <div class="modal-footer">
                        <div class="row">
                            <div class="col-lg-12">
                            <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="fa fa-close"></span> ปิด</button>
                            <button type="button" class="btn btn-primary"  onclick="save_stmround()">บันทึก</button>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal แก้ไขข้อมูลการวิ่งงาน RCC&RATC -->
        <div  class="modal fade" id="modal_modaleditplanrccratc" name="modal_modaleditplanrccratc" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div style="" class="modal-dialog modal-lg" role="document"  >
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div class="col-lg-12">
                                <h5 class="modal-title" ><b>แก้ไขข้อมูลการวิ่งงาน RCC&RATC</b></h5>
                            </div>
                        </div>
                    </div>
                    <div>
                        <!-- txt_planid อยู่ตรงนี้ -->
                        <input disabled="" type="" class="form-control" style="display:none"  id="txt_planid_rccratc"   name="txt_planid_rccratc" value="">
                        <!-- txt ประเภทงาน -->
                        <input disabled="" type="" class="form-control" style="display:none"  id="txt_worktype_rccratc" name="txt_worktype_rccratc"  value="" >
                    </div>
					<div class="col-lg-4">
                        <b><u>ข้อมูลแผนงานนี้</u></b>
                    </div>
                    <div class="row">
                        <div class="col-lg-12" >
                            <div class="col-lg-4" style="text-align:center;">
                                <br>
                                <b>ประเภทงาน:&nbsp;<br><input  disabled="" style="text-align:center;width: 200px;height: 30px;" type="text"  autocomplete="off"  id="txt_worktype_rccratc_show" name="txt_worktype_rccratc_show" value=""></b>
                            </div>
                            <div class="col-lg-4" style="text-align:center;">
                                <br>
                                <b>ต้นทาง:&nbsp;<br><input  disabled="" style="text-align:center;width: 200px;height: 30px;" type="text"  autocomplete="off"  id="txt_jobstart_rccratc_show" name="txt_jobstart_rccratc_show" value=""></b>
                            </div>   
                            <div class="col-lg-4" style="text-align:center;">
                                <br>
                                <b>ปลายทาง:&nbsp;<br> <input  disabled="" style="text-align:center;width: 200px;height: 30px;" type="text"  autocomplete="off"  id="txt_jobend_rccratc_show"   name="txt_jobend_rccratc_show"  value=""></b>
                            </div>
                        </div>
                    </div>
                    <div class="modal-body">
                        <br>
                        <div class="col-lg-4" style="text-align: center;" >
                            <label style="font-size: 16px;"><font color="black">เลือกประเภทงาน</font></label><br><br>
                            <input type="checkbox"  <?=$rsnmround1?>  class="chk_rsnmround"  onchange="edit_rscheckboxround('nm')"  style="transform: scale(3)" id="chk_rsnmround" name="chk_rsnmround" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font style="font-size: 16px;">[ดีลเลอร์]</font></b>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <input type="checkbox"  <?=$rsshround1?>  class="chk_rsshround"  onchange="edit_rscheckboxround('sh')"  style="transform: scale(3)" id="chk_rsshround" name="chk_rsshround" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font style="font-size: 16px;">[SH]</font></b>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-lg-4">
                                <label style="font-size: 16px;">ต้นทาง:</label>&nbsp;&nbsp;<font style="color: red;font-size: 16px;"><b>*</b></font>
                                <div class="dropdown bootstrap-select show-tick form-control" onchange ="check_jobstart()">
                                    <select  multiple=""  id="txt_jobstart_rccratc" name="txt_jobstart_rccratc"  class="selectpicker form-control" data-container="body" data-live-search="true" title="เลือก ต้นทาง รอบวิ่งงานที่ 4..." data-hide-disabled="true" data-actions-box="true" data-virtual-scroll="false" tabindex="-98" >
                                        <?php
                                        // $condiLocation1 = " AND COMPANYCODE = 'RKR' AND CUSTOMERCODE = 'TTASTSTC'";
                                        $sql_seJobstartRound4 = "{call megJobstartrccratc_v2(?,?)}";
                                        $params_seJobstartRound4 = array(
                                            array('select_jobstart', SQLSRV_PARAM_IN),
                                            array('', SQLSRV_PARAM_IN)
                                        );
                                        $query_seJobstartRound4 = sqlsrv_query($conn, $sql_seJobstartRound4, $params_seJobstartRound4);
                                        while ($result_seJobstartRound4 = sqlsrv_fetch_array($query_seJobstartRound4, SQLSRV_FETCH_ASSOC)) {
                                            ?>
                                            <option value="<?= $result_seJobstartRound4['JOBSTART'] ?>"><?= $result_seJobstartRound4['JOBSTART'] ?></option>
                                            <?php
                                        }
                                        ?>
                                    </select>
                                    <input class="form-control" style="display:none"   id="txt_jobstart_rccratc_check" name="txt_jobstart_rccratc_check" maxlength="500" value="" >
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <label style="font-size: 16px;">ปลายทาง :</label>
                                <div id="data_copydiagramclusterdef">
                                    <div class="dropdown bootstrap-select show-tick form-control" onclick="check_jobtype()">
                                        <select  data-size="5" multiple="" id="cb_copydiagramcluster_rccratc" name="cb_copydiagramcluster_rccratc" class="selectpicker_rccratc form-control"  data-container="body" data-live-search="true" title="เลือก คลัสเตอร์ รอบวิ่งงานที่ 4..." data-hide-disabled="true" data-actions-box="true" data-virtual-scroll="false" tabindex="-98" >
                                        </select>
                                        <input class="form-control" style=""   id="txt_cluster_rccratc" name="txt_cluster_rccratc" maxlength="200" value="" >
                                        <div class="dropdown-menu open" role="combobox">
                                            <div class="bs-searchbox">
                                                <input type="text" class="form-control" autocomplete="off" role="textbox" aria-label="Search"></div>
                                            <div class="bs-actionsbox">
                                                <div class="btn-group btn-group-sm btn-block">
                                                    <button type="button" class="actions-btn bs-select-all btn btn-default">Select All</button>
                                                    <button type="button" class="actions-btn bs-deselect-all btn btn-default">Deselect All</button>
                                                </div>
                                            </div>
                                            <div class="inner open" role="listbox" aria-expanded="false" tabindex="-1">
                                                <ul class="dropdown-menu inner "></ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="data_copydiagramclustersr"></div>
                            </div>
                        </div>

                        <div id="datacompdetaildiagramsr"></div> 
                    </div>
                    <div class="modal-footer">
                        <div class="row">
                            <div class="col-lg-12">
                            <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="fa fa-close"></span> ปิด</button>
                            <button type="button" class="btn btn-primary"  onclick="save_editplanrccratc()">บันทึก</button>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal ทะเบียนรถ-->
        <div class="modal fade" id="modal_modalthainame" name="modal_modalthainame" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-md" role="document"  >
                <div class="modal-content">
                    <div class="modal-header">
                        <div class="row">
                            <div class="col-lg-6">
                                <h5 class="modal-title" ><b>แก้ไขชื่อรถ</b></h5>
                            </div>
                        </div>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-6">
                                <label>เลือกชื่อรถ</label>
                                <!-- <input type="text"  class="form-control" id="txt_copydiagramthainame11" name="txt_copydiagramthainame11"> -->
                                <select  onchange="select_sethainame()" id="cb_sethainame" name="cb_sethainame" class="selectpicker form-control"  data-container="body" data-live-search="true" title="เลือก ชื่อรถ..." data-hide-disabled="true" data-actions-box="true" data-virtual-scroll="false" tabindex="-98">
                                    <?php
                                    $sql_seThainame = "SELECT a.VEHICLEINFOID, a.VEHICLEREGISNUMBER, a.THAINAME,a.REGISTYPE
                                        FROM VEHICLEINFO a
                                        WHERE a.ACTIVESTATUS = 1
                                        AND a.THAINAME != '-' 
                                        AND a.THAINAME != '--'
                                        AND a.REGISTYPE = 'ทะเบียนหัว'
                                        AND (a.ENGNAME  LIKE '%R-%' OR a.ENGNAME  LIKE '%RA-%')
                                        ORDER BY THAINAME,VEHICLEINFOID ASC";
                                    $params_seThainame = array();
                                    $query_seThainame = sqlsrv_query($conn, $sql_seThainame, $params_seThainame);
                                    while ($result_seThainame = sqlsrv_fetch_array($query_seThainame, SQLSRV_FETCH_ASSOC)) {
                                        ?>
                                        <option value="<?= $result_seThainame['THAINAME'] ?>"><?= str_replace("(4L)","",$result_seThainame['THAINAME']); ?></option>
                                        
                                        <?php
                                    }
                                    ?>
                                    
                                </select>   
                                <input class="form-control" type="hidden"  id="txt_thainame" name="txt_thainame" maxlength="500" value="" >  
                            </div>
                        </div>
                        <div id="datacompdetaildatepresentsr"></div> 
                        <!-- txt_planid อยู่ตรงนี้ -->
                        <input type="hidden"  autocomplete="off" disabled ="" id="txt_planidthainame" name="txt_planidthainame" value="">
                    </div>
                    <div class="modal-footer">
                        <div class="row">
                            <div class="col-lg-12">
                            <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="fa fa-close"></span> ปิด</button>
                            <button type="button" class="btn btn-primary"  onclick="edit_thainame()">บันทึก</button>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        <!-- Model Update -->
        <div class="modal fade" id="modal_copyjob" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="title_copyjob">COPY JOB</h5>

                    </div>
                    <div class="modal-body">
                        <div class="row" >
                            <div class="col-lg-6">
                                <div class="form-group">

                                    <label>จำนวน (JOB) : </label>

                                    <input class="form-control" id="txt_startdatejobcopy" name="txt_startdatejobcopy" style="display:none">
                                    <input class="form-control" id="txt_jobnocopy"  name="txt_jobnocopy" style="display:none">
                                    <input class="form-control" onkeyup="checknumber()" id="txt_rowsamount" name="txt_rowsamount" value="">

                                </div>
                            </div>
                        </div>
                        <div class="row">&nbsp;</div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="fa fa-close"></span> ปิด</button>
                        <button type="button" class="btn btn-primary" onclick="save_copyjob()">บันทึก</button>
                    </div>
                </div>
            </div>
        </div>
       

        <!-- this will show our spinner -->
        <div  id="loading" class="center" >
            <p><img style="" src="../images/truckload5.gif" /></p>
        </div>

        <script src="../vendor/jquery/jquery.min.js"></script>
        <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
        <script src="../vendor/datatables/js/jquery.dataTables.min.js"></script>
        <script src="../vendor/datatables-plugins/dataTables.bootstrap.min.js"></script>
        <script src="../js/jquery.datetimepicker.full.js"></script>
        <!-- <script src="../vendor/metisMenu/metisMenu.min.js"></script> -->
        <!-- <script src="../vendor/raphael/raphael.min.js"></script> -->
        <!-- <script src="../dist/js/sb-admin-2.js"></script> -->
        <!-- <script src="../vendor/datatables-responsive/dataTables.responsive.js"></script> -->
        <!-- <script src="../dist/js/jszip.min.js"></script> -->
        <!-- <script src="../dist/js/dataTables.buttons.min.js"></script> -->
        <!-- <script src="../dist/js/buttons.html5.min.js"></script> -->
        <!-- <script src="../dist/js/buttons.print.min.js"></script> -->
        <script src="../dist/js/jquery.autocomplete.js"></script>
        <script src="../dist/js/bootstrap-select.js"></script>
        <!-- <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script> -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.12/dist/sweetalert2.all.min.js"></script>
        <script language="JavaScript">
            function ajaxload() {
                var realVHCTPPID = $('#realVHCTPPID').val();
                return $.ajax({
                        url:"meg_transportcompensation_ajaxload.php",
                        data:'mySort=' + realVHCTPPID,
                        async:false,
                        success:function(getData){
                            // alert(getData)
                            if (getData == '0'){
                                document.getElementById("caloutside").value = '0';
                            }else{
                                document.getElementById("caloutside").value = getData;
                            } 
                        }
                }).responseText;                    
            }
            function ajaxload_gw() {
                var realCOMPANYCODE = $('#realCOMPANYCODE').val(); 
                var realVHCTPPID = $('#realVHCTPPID').val();
                var realNEWDATE = $('#realNEWDATE').val();  
                var realEMPLOYEECODE = $('#realEMPLOYEECODE').val();  
                return $.ajax({
                        url:"meg_transportcompensation_ajaxload_gw.php",
                        data:'EMP='+realEMPLOYEECODE+'&DATE='+realNEWDATE+'&VHCTPPID='+realVHCTPPID+'&COMPANYCODE='+realCOMPANYCODE,
                        async:false,
                        success:function(getData_gw){
                            // alert(getData_gw)
                        }
                }).responseText;                    
            }
            function savenotactioncaloavg(planid) {
                // alert(planid)                    
                $.ajax({
                    url: "meg_transportcompensation_saveoildetail.php",
                    type: "POST",
                    data: {
                        realVHCTPPID: planid,
                        butsavenotactioncaloavg: "newvalue"			
                    },                    
                    cache: false,
                    success: function(dataResult1){           
                        // alert("บันทึกเรียบร้อย");     
                    } 
                });	                      
            }
            
        </script>
    </body>

    <script>                                                                            <?php
                                                                                        $stmround = select_vehiclenumberautocomplate('megVehicleinfo_v2', 'select_roundstm', '');
                                                                                        
                                                                                        ?>
                                                                                        function checknumber()
                                                                                        {
                                                                                            var elem = document.getElementById('txt_rowsamount').value;
                                                                                            if(!elem.match(/^([0-9])+$/i))
                                                                                            {
                                                                                                // alert("กรอกได้เฉพาะตัวเลขและตัวอักษรภาษาอังกฤษเท่านั้น");
                                                                                                swal.fire({
                                                                                                    title: "Warning !",
                                                                                                    text: "กรอกได้เฉพาะตัวเลขเท่านั้น !!!",
                                                                                                    showConfirmButton: true,
                                                                                                    icon: "warning"
                                                                                                });
                                                                                                document.getElementById('txt_rowsamount').value = "";
                                                                                            }
                                                                                        }
                                                                                        function select_copyjob(jobno, jobstrat, jobend, startdate) {
                                                                                            // alert(jobno);
                                                                                            // alert(jobstrat);
                                                                                            // alert(jobend);
                                                                                            // alert(startdate);
                                                                                            document.getElementById("title_copyjob").innerHTML = '<b>Copy Job เส้นทาง : ' + jobstrat + '-' + jobend + '</b>';
                                                                                            document.getElementById("txt_startdatejobcopy").value = startdate;
                                                                                            document.getElementById("txt_jobnocopy").value = jobno;
                                                                                        }
                                                                                        function save_copyjob() {

                                                                                            let jobno = document.getElementById("txt_jobnocopy").value;
                                                                                            let roundamount = document.getElementById("txt_rowsamount").value;

                                                                                            // alert(jobno);
                                                                                            // alert(roundamount);

                                                                                            if (roundamount > '3') {
                                                                                                swal.fire({
                                                                                                    title: "Warning !",
                                                                                                    text: "คัดลอกแผนงานได้ไม่เกิน 3 แผนงาน !!!",
                                                                                                    showConfirmButton: true,
                                                                                                    icon: "warning"
                                                                                                });  
                                                                                            }else{
                                                                                                $.ajax({
                                                                                                    type: 'post',
                                                                                                    url: 'meg_data2.php',
                                                                                                    data: {
                                                                                                        txt_flg: "save_copyjobvehicletransportplan_newrccratc", JOBNO: jobno, ROWSAMOUNT: roundamount
                                                                                                    },
                                                                                                    success: function (rs) {
                                                                                                        // alert(rs);
                                                                                                        // window.location.reload();
                                                                                                        
                                                                                                        swal.fire({
                                                                                                            title: "Good Job!",
                                                                                                            text: "คัดลอกข้อมูลเรียบร้อย",
                                                                                                            showConfirmButton: false,
                                                                                                            icon: "success"
                                                                                                        });
                                                                                                        // alert(rs);   
                                                                                                        setTimeout(() => {
                                                                                                            document.location.reload();
                                                                                                        }, 1200);

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            // $.ajax({
                                                                                            //     type: 'post',
                                                                                            //     url: 'meg_data.php',
                                                                                            //     data: {
                                                                                            //         txt_flg: "save_copyjobvehicletransportplan", JOBNO: jobno, ROWSAMOUNT: roundamount
                                                                                            //     },
                                                                                            //     success: function (rs) {
                                                                                            //         alert(rs);
                                                                                            //         // window.location.reload();
                                                                                            //     }
                                                                                            // });

                                                                                        }
                                                                                        function save_daterk(data,planid) {
                                                                                            // alert(data);
                                                                                            // alert(planid);

                                                                                            // datepresent format YYYY/MM/DD example 2023/10/03
                                                                                            let dateworking_chk = data;
                                                                                            let result = dateworking_chk.substring(0, 16);

                                                                                            // result1 คือวัน Format DD Ex 11
                                                                                            let result1 = result.substring(0, 2);
                                                                                            
                                                                                            // result2 คือเดือน Format MM Ex 09
                                                                                            let result2 = result.substring(3, 5);

                                                                                            // result3 คือปี Format YYYY Ex 2023
                                                                                            let result3 = result.substring(6, 10);

                                                                                            // result4 คือ เวลา Format H:i Ex 10:00
                                                                                            let result4 = result.substring(11, 18);

                                                                                            //วันที่สำหรับส่ง parameter format 
                                                                                            let dateworking = result3+"-"+result2+"-"+result1+" "+result4+":00.000";

                                                                                            // alert(dateworking);

                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data2.php',
                                                                                                data: {
                                                                                                    txt_flg: "update_dateworking_bydriver", vehicletransportplanid: planid,dateworking: dateworking,datevlin: dateworking
                                                                                                },
                                                                                                success: function (rs) {
                                                                                                    // alert('ลบข้อมูลเรียบร้อย');
                                                                                                    // location.reload();

                                                                                                    // swal.fire({
                                                                                                    //     title: "Good Job!",
                                                                                                    //     text: "ลบข้อมูลเรียบร้อย",
                                                                                                    //     showConfirmButton: true,
                                                                                                    //     icon: "success"
                                                                                                    // });
                                                                                                    // alert(rs);   
                                                                                                    // setTimeout(() => {
                                                                                                    //     document.location.reload();
                                                                                                    // }, 1500);

                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function edit_thainame() {
                                                                                           
                                                                                            var vehicleplanid = document.getElementById("txt_planidthainame").value;
                                                                                            var thainame  = document.getElementById("cb_sethainame").value;
                                                                                          
                                                                                            // alert(thainame);
                                                                                            // alert(vehicleplanid);

                                                                                            if (thainame == '') {
                                                                                                swal.fire({
                                                                                                    title: "Warning !!!",
                                                                                                    text: "ยังไม่ได้เลือกชื่อรถ",
                                                                                                    showConfirmButton: true,
                                                                                                    icon: "warning"
                                                                                                });
                                                                                            }else{
                                                                                                $.ajax({
                                                                                                    type: 'post',
                                                                                                    url: 'meg_data2.php',
                                                                                                    data: {
                                                                                                        txt_flg: "update_thainame_bydriver", vehicletransportplanid: vehicleplanid,thainame: thainame
                                                                                                    },
                                                                                                    success: function (rs) {
                                                                                                        // alert('ลบข้อมูลเรียบร้อย');
                                                                                                        // location.reload();

                                                                                                        swal.fire({
                                                                                                            title: "Good Job!",
                                                                                                            text: "แก้ไขข้อมูลเรียบร้อย",
                                                                                                            showConfirmButton: false,
                                                                                                            icon: "success"
                                                                                                        });
                                                                                                        // alert(rs);   
                                                                                                        setTimeout(() => {
                                                                                                            document.location.reload();
                                                                                                        }, 1200);

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                        }
                                                                                        function delete_vehicletransportplan(vehicletransportplanid)
                                                                                        {
                                                                                            // alert('delete');
                                                                                            // alert(vehicletransportplanid);

                                                                                            Swal.fire({
                                                                                                title: 'ต้องการลบข้อมูล?',
                                                                                                text: "กรุณากด 'ตกลง' เพื่อยืนยันการลบข้อมูล!!!",
                                                                                                icon: 'warning',
                                                                                                showCancelButton: true,
                                                                                                confirmButtonColor: '#3085d6',
                                                                                                cancelButtonColor: '#d33',
                                                                                                confirmButtonText: 'ตกลง',
                                                                                                cancelButtonText: 'ยกเลิก'
                                                                                            }).then((result) => {
                                                                                                
                                                                                                if (result.isConfirmed) {
                                                                                                    
                                                                                                    $.ajax({
                                                                                                        type: 'post',
                                                                                                        url: 'meg_data.php',
                                                                                                        data: {
                                                                                                            txt_flg: "delete_vehicletransportplan", vehicletransportplanid: vehicletransportplanid
                                                                                                        },
                                                                                                        success: function (rs) {
                                                                                                            // alert('ลบข้อมูลเรียบร้อย');
                                                                                                            // location.reload();

																											save_logprocess('Compensation', 'Delete Job', '<?= $result_seLogin['PersonCode'] ?>');	

                                                                                                            swal.fire({
                                                                                                                title: "Good Job!",
                                                                                                                text: "ลบข้อมูลเรียบร้อย",
                                                                                                                showConfirmButton: false,
                                                                                                                icon: "success"
                                                                                                            });
                                                                                                            // alert(rs);   
                                                                                                            setTimeout(() => {
                                                                                                                document.location.reload();
                                                                                                            }, 1500);

                                                                                                        }
                                                                                                    });



                                                                                                }else{
                                                                                                    //else check การลบข้อมูล
                                                                                                    // window.location.reload();
                                                                                                }
                                                                                            })
                                                                                            
                                                                                            // var confirmation = confirm("ต้องการลบข้อมูล ?");
                                                                                            // if (confirmation) {
                                                                                            //     $.ajax({
                                                                                            //         type: 'post',
                                                                                            //         url: 'meg_data.php',
                                                                                            //         data: {
                                                                                            //             txt_flg: "delete_vehicletransportplan", vehicletransportplanid: vehicletransportplanid
                                                                                            //         },
                                                                                            //         success: function () {

                                                                                            //             window.location.reload();
                                                                                            //         }
                                                                                            //     });
                                                                                            // }
                                                                                        }
                                                                                        function open_modalthainame(x){
                                                                                            $('#modal_modalthainame').modal('show');
                                                                                            document.getElementById("txt_planidthainame").value = x;
                                                                                        } 
                                                                                        function showLoading() {
                                                                                            $("#loading").show();
                                                                                            
                                                                                        }

                                                                                        function hideLoading() {
                                                                                            $("#loading").hide();
                                                                                        }

                                                                                        // EDIT PLAN RCC&RATC
                                                                                        function open_modaleditplanrccratc(planid,worktype,jobstart,jobend){
                                                                                            // alert(planid);
                                                                                            // alert(worktype);
                                                                                            // alert(jobstart);
                                                                                            // alert(jobend);
                                                                                            $('#modal_modaleditplanrccratc').modal('show');
                                                                                            document.getElementById("txt_planid_rccratc").value = planid;
                                                                                            document.getElementById("txt_worktype_rccratc_show").value = worktype;
                                                                                            document.getElementById("txt_jobstart_rccratc_show").value = jobstart;
                                                                                            document.getElementById("txt_jobend_rccratc_show").value = jobend;
                                                                                        } 
                                                                                        function check_jobstart() {
                                                                                            
                                                                                            // alert(checkround);
                                                                                            
                                                                                            var options = document.getElementById('txt_jobstart_rccratc').selectedOptions;
                                                                                            var values = Array.from(options).map(({ value }) => value);
                                                                                            
                                                                                            document.getElementById('txt_jobstart_rccratc_check').value = values;
                                                                                            
                                                                                            // alert(values);
                                                                                        }
                                                                                        // EDIT PLAN RCC&RATC
                                                                                        function open_modaleditplanrccratc(planid,worktype,jobstart,jobend){
                                                                                            // alert(planid);
                                                                                            // alert(worktype);
                                                                                            // alert(jobstart);
                                                                                            // alert(jobend);
                                                                                            $('#modal_modaleditplanrccratc').modal('show');
                                                                                            document.getElementById("txt_planid_rccratc").value = planid;
                                                                                            document.getElementById("txt_worktype_rccratc_show").value = worktype;
                                                                                            document.getElementById("txt_jobstart_rccratc_show").value = jobstart;
                                                                                            document.getElementById("txt_jobend_rccratc_show").value = jobend;
                                                                                        }
                                                                                        // function เช็คการกด checkbox รอบวิ่งงาน
                                                                                        function edit_rscheckboxround(checkround){
                                                                                            // alert("Round1 Checked");
                                                                                            if (checkround == 'nm') {
                                                                                                document.getElementById('chk_rsshround').checked  = false;
                                                                                                document.getElementById('txt_worktype_rccratc').value = 'nm';
                                                                                            }else if(checkround == 'sh'){
                                                                                                document.getElementById('chk_rsnmround').checked  = false;
                                                                                                document.getElementById('txt_worktype_rccratc').value = 'sh';
                                                                                            }else{
                                                                                                
                                                                                            }

                                                                                            select_cluster(checkround);
                                                                                        } 
                                                                                        // function เช็คการกด checkbox รอบวิ่งงาน
                                                                                        function edit_rscheckboxround(checkround){
                                                                                            // alert("Round1 Checked");
                                                                                            if (checkround == 'nm') {
                                                                                                document.getElementById('chk_rsshround').checked  = false;
                                                                                                document.getElementById('txt_worktype_rccratc').value = 'nm';
                                                                                            }else if(checkround == 'sh'){
                                                                                                document.getElementById('chk_rsnmround').checked  = false;
                                                                                                document.getElementById('txt_worktype_rccratc').value = 'sh';
                                                                                            }else{
                                                                                                
                                                                                            }

                                                                                            select_cluster(checkround);
                                                                                        }
                                                                                        // function แจ้งเตือนการเลือกประเภทงาน
                                                                                        function check_jobtype(){
                                                                                            let checkBoxnm = document.getElementById("chk_rsnmround");
                                                                                            let checkBoxsh = document.getElementById("chk_rsshround");

                                                                                            if (checkBoxnm.checked == true){
                                                                                                // alert('ยังไม่เลือกประเภทงาน');
                                                                                                select_cluster('nm');
                                                                                            }else if (checkBoxsh.checked == true){
                                                                                                select_cluster('sh');
                                                                                            }else{
                                                                                                swal.fire({
                                                                                                    title: "Warning!",
                                                                                                    text: "ยังไม่ได้เลือกประเภทงาน !!",
                                                                                                    icon: "warning",
                                                                                                    showConfirmButton: true,
                                                                                                });
                                                                                            }
                                                                                        }
                                                                                        // function แสดง cluster
                                                                                        function select_cluster(checkround)
                                                                                        {

                                                                                            // var copydiagramthainame = document.getElementById("txt_copydiagramthainame").value;
                                                                                            //var copydiagramjobstart = document.getElementById("txt_copydiagramjobstart").value;
                                                                                            // var companycode = document.getElementById("txt_copydiagramcompany").value;
                                                                                            // var customercode = document.getElementById("txt_copydiagramcustomer").value;
                                                                                            
                                                                                            var worktype      = checkround;
                                                                                            var companycode   = 'RCC_RATC';
                                                                                            var customercode  = 'TTT';
                                                                                            // alert(worktype);
                                                                                            // alert(companycode);
                                                                                            // alert(customercode);

                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data_transportplan_newrccratc.php',
                                                                                                data: {
                                                                                                    txt_flg: "show_copydiagramcluster_compen", worktype: worktype, companycode: companycode, customercode: customercode
                                                                                                            // txt_flg: "show_copydiagramjobend", cluster: document.getElementById('txt_copydiagramcluster').value, copydiagramthainame: copydiagramthainame
                                                                                                },
                                                                                                success: function (rs) {

                                                                                                    document.getElementById("data_copydiagramclustersr").innerHTML = rs;
                                                                                                    document.getElementById("data_copydiagramclusterdef").innerHTML = "";

                                                                                                    $("#cb_copydiagramcluster_rccratc").html(rs).selectpicker('refresh');
                                                                                                    $('.selectpicker_rccratc').on('changed.bs.select', function () {
                                                                                                        document.getElementById('txt_cluster_rccratc').value = $(this).val();

                                                                                                    });


                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        //function แก้ไขข้อมูลแผนงาน
                                                                                        function edit_planrccratc(value,planid,feildcheck){

                                                                                            // var planid  = $("#txt_planid_rccratc").val();
                                                                                            
                                                                                            // alert(value);
                                                                                            // alert(planid);
                                                                                            // alert(feildcheck);
                                                                                            if (feildcheck == 'roundamount') {

                                                                                                // alert("roundamount");
                                                                                                var valuecheck = value;
                                                                                                var fieldnamecheck = "ROUNDAMOUNT";
                                                                                            }else if (feildcheck == 'goreturn'){

                                                                                                // alert("goreturn");
                                                                                                var valuecheck = value;
                                                                                                var fieldnamecheck = "C8";

                                                                                            }else if (feildcheck == 'unit'){

                                                                                                // alert("unit");
                                                                                                var valuecheck = value;
                                                                                                var fieldnamecheck = "C2";

                                                                                            }else{

                                                                                            }
                                                                                            
                                                                                                // alert(valuecheck);
                                                                                                // alert(fieldnamecheck);

                                                                                                $.ajax({
                                                                                                    url: 'meg_data_transportplan_newrccratc.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportplanrccratc", planid: planid, fieldname: fieldnamecheck, editableObj: valuecheck
                                                                                                    },
                                                                                                    success: function () {

                                                                                                        // alert('แก้ไขข้อมูลวิ่งงานเรียบร้อย');
                                                                                                        swal.fire({
                                                                                                            title: "Good Job!",
                                                                                                            text: "แก้ไขข้อมูลเรียบร้อย",
                                                                                                            icon: "success",
                                                                                                        });

                                                                                                        // $('#modal_modaleditplanrccratc').modal('hide');
                                                                                                        // window.location.reload();     
                                                                                                    }
                                                                                                });    

                                                                                           
                                                                                        }
                                                                                        //function แก้ไขข้อมูลแผนงาน
                                                                                        function save_editplanrccratc(){

                                                                                            var planidcheck      = $("#txt_planid_rccratc").val();
                                                                                            var worktypecheck    = $("#txt_worktype_rccratc").val();
                                                                                            var jobstartcheck    = $("#txt_jobstart_rccratc_check").val();
                                                                                            var clustercheck     = $("#txt_cluster_rccratc").val();


                                                                                            // alert(planidcheck);
                                                                                            // alert(worktypecheck);    
                                                                                            // alert(jobstartcheck);
                                                                                            // alert(clustercheck);
                                                                                            
                                                                                            if (worktypecheck == '' || jobstartcheck == '' || clustercheck == '') {
                                                                                                // alert('กรุณาเลือกรอบวิ่งงานให้ถูกต้อง หรือ กดปิดถ้าไม่ต้องการแก้ไข');
                                                                                                // $('#modal_modaleditplanrccratc').modal('hide');

                                                                                                swal.fire({
                                                                                                    title: "warning",
                                                                                                    text: "กรุณาเลือกข้อมูลให้ถูกต้อง กดปิดถ้าไม่ต้องการแก้ไข",
                                                                                                    icon: "warning",

                                                                                                    // text: "กรุณาเลือกรอบวิ่งงานให้ถูกต้อง หรือ\n <br>กดปิดถ้าไม่ต้องการแก้ไข",
                                                                                                });
                                                                                                //  window.location.reload();  
                                                                                            }else{
                                                                                                // alert('edit');
                                                                                                
                                                                                                $.ajax({
                                                                                                    type: 'post',
                                                                                                    url: 'meg_data_transportplan_newrccratc.php',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportplanmix_newrccratc",
                                                                                                        VEHICLETRANSPORTPLANID: planidcheck,
                                                                                                        EMPLOYEENAME1: '',
                                                                                                        EMPLOYEENAME2: '',
                                                                                                        VEHICLEINFO: '',
                                                                                                        CLUSTER: clustercheck,
                                                                                                        JOBEND: clustercheck,
                                                                                                        LOAD: '',
                                                                                                        copydiagramdaterkupd: '',
                                                                                                        copydiagramdatevlinupd: '',
                                                                                                        copydiagramdatevloutupd: '',
                                                                                                        copydiagramdatedealerinupd: '',
                                                                                                        copydiagramdatereturnupd: '',
                                                                                                        JOBSTART: jobstartcheck,
                                                                                                        WORKTYPE: worktypecheck


                                                                                                    },
                                                                                                    success: function (rs) {
                                                                                                        // alert(rs)
                                                                                                        
                                                                                                        swal.fire({
                                                                                                            title: "Good Job!",
                                                                                                            text: "ยืนยันและบันทึกข้อมูลทั้งหมดเรียบร้อย",
                                                                                                            showConfirmButton: false,
                                                                                                            icon: "success"
                                                                                                        });
                                                                                                        $('#modal_modaleditplanrccratc').modal('hide');
                                                                                                        setTimeout(() => {
                                                                                                            document.location.reload();
                                                                                                        }, 1200);
                                                                                                        // alert('บันทึกข้อมูลเรียบร้อย...');
                                                                                                        // window.location.reload();
                                                                                                    }
                                                                                                });
                                                                                            }

                                                                                        }
                                                                                        ///////////////////////////////////////////////////////////////////
                                                                                        // EDIT STM ROUND
                                                                                        var txt_editstmround = [<?= $stmround ?>];
                                                                                        $("#txt_editstmround").autocomplete({
                                                                                            source: [txt_editstmround]
                                                                                        });

                                                                                        function open_modalstmeditround(x){
                                                                                            $('#modal_modalstmeditround').modal('show');
                                                                                            document.getElementById("txt_planid_stmround").value = x;
                                                                                        } 

                                                                                        //function แก้ไขรอบวิ่งงานสายงาย STM
                                                                                        function save_stmround(){
                                                                                            var vehicleplanid = document.getElementById("txt_planid_stmround").value;
                                                                                            var value  = document.getElementById("txt_editstmround").value;

                                                                                            // alert(vehicleplanid);
                                                                                            // alert(value);
                                                                                            
                                                                                            if (value == '') {
                                                                                                // alert('กรุณาเลือกรอบวิ่งงานให้ถูกต้อง หรือ กดปิดถ้าไม่ต้องการแก้ไข');
                                                                                                swal.fire({
                                                                                                    title: "warning",
                                                                                                    text: "กรุณาเลือกรอบวิ่งงานให้ถูกต้อง กดปิดถ้าไม่ต้องการแก้ไข",
                                                                                                    icon: "warning",
                                                                                                });
                                                                                            }else{
                                                                                                $.ajax({
                                                                                                    url: 'meg_data2.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentsavestmround", ID: vehicleplanid, fieldname: 'ROUNDAMOUNT', editableObj: value
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        // alert('แก้ไขรอบวิ่งงานเรียบร้อย');
                                                                                                        swal.fire({
                                                                                                            title: "Good Job!",
                                                                                                            text: "แก้ไขรอบวิ่งงานเรียบร้อย",
                                                                                                            icon: "success",
                                                                                                        });
                                                                                                        $('#modal_modalstmeditround').modal('hide');
                                                                                                        window.location.reload();     
                                                                                                    }
                                                                                                });
                                                                                            }

                                                                                        }
                                                                                        function chk_clearcompensation(ID, ID2,COMPANYCODE,CUSTOMERCODE) {
                                                                                            Swal.fire({
                                                                                                title: 'ต้องการลงค่าเที่ยวใหม่?',
                                                                                                text: "กรุณากด 'ตกลง' เพื่อยืนยัน!!!",
                                                                                                icon: 'warning',
                                                                                                showCancelButton: true,
                                                                                                confirmButtonColor: '#3085d6',
                                                                                                cancelButtonColor: '#d33',
                                                                                                confirmButtonText: 'ตกลง',
                                                                                                cancelButtonText: 'ยกเลิก'
                                                                                            }).then((result) => {
                                                                                                if (result.isConfirmed) {
                                                                                                    Swal.fire(
                                                                                                    'Clear!',
                                                                                                    'Your info has been deleted.',
                                                                                                    'success'
                                                                                                    )

                                                                                                    update_compendata(ID, ID2,COMPANYCODE,CUSTOMERCODE);
                                                                                                    // ล้างค่าขอมูลค่าเที่ยว พขร.1,พขร.2,รายได้อื่นๆ และค่าเที่ยวรวม ให้เป็นค่า 0 
                                                                                                    document.getElementById('txt_compensation1').value  = 0;
                                                                                                    document.getElementById('txt_compensation2').value  = 0;
                                                                                                    document.getElementById('txt_compensation').value   = 0;
                                                                                                    document.getElementById('txt_orthermoney').value    = 0;

                                                                                                    // ล้างข้อมูลการเลือกเช็คทั้งหมดให้เป็น false
                                                                                                    document.getElementById("chk_50trip").checked = false;
                                                                                                    document.getElementById("chk_2dropthaitohken").checked = false;
                                                                                                    document.getElementById("chk_3dropthaitohken").checked = false;
                                                                                                    document.getElementById("chk_trainer").checked = false; 
                                                                                                    document.getElementById("chk_ojt").checked = false; 
                                                                                                    document.getElementById("chk_multiskill").checked = false; 
                                                                                                    document.getElementById("chk_emp1multi2").checked = false;   
                                                                                                    document.getElementById("chk_emp2multi2").checked = false;                                                                                                    

                                                                                                }else{
                                                                                                    // window.location.reload();
                                                                                                }
                                                                                                
                                                                                            })
                                                                                           
                                                                                        }
                                                                                        function update_compendata(planid, driverid,companycode,customercode) {
                                                                                            // alert(planid);
                                                                                            // alert(driverid);
                                                                                            // alert(companycode);
                                                                                            // alert(customercode);

                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data2.php',
                                                                                                data: {
                                                                                                    txt_flg: "update_compendata", 
                                                                                                    planid: planid, 
                                                                                                    driverid: driverid, 
                                                                                                    companycode: companycode, 
                                                                                                    customercode: customercode
                                                                                                },
                                                                                                success: function () {

                                                                                                    

                                                                                                }
                                                                                            });

                                                                                        }
                                                                                        // function คำนวณค่าเที่ยว
                                                                                        function edit_vehicletransportdocumentdriverconm_stc(ID, ID2,COMPANYCODE,CUSTOMERCODE) {

                                                                                            // alert(COMPANYCODE);
                                                                                            // alert(CUSTOMERCODE);

                                                                                            // รวมค่าเที่ยวคนที่ 1 
                                                                                            //เช็คในการกด คำนวณรอบแรก กรณี compensation1 เป็น NULL ,ว่าง  หรือ 0 จะใช้ E1 แทน
                                                                                            
                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            var eempty1 = (document.getElementById('txt_eempty1').value != "") ? document.getElementById('txt_eempty1').value : 0;
                                                                                            var eempty2 = (document.getElementById('txt_eempty2').value != "") ? document.getElementById('txt_eempty2').value : 0;
                                                                                            var eempty3 = (document.getElementById('txt_eempty3').value != "") ? document.getElementById('txt_eempty3').value : 0;
                                                                                            var crosswork = (document.getElementById('txt_crosswork').value != "") ? document.getElementById('txt_crosswork').value : 0;

                                                                                            // if (document.getElementById('txt_compensation1').value == "" || document.getElementById('txt_compensation1').value == 0) {
                                                                                            //     // alert('1');
                                                                                            //     var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            // }else{
                                                                                            //     // alert('2');
                                                                                            //     var e1 = (document.getElementById('txt_compensation1').value != "") ? document.getElementById('txt_compensation1').value : 0;
                                                                                            // }

                                                                                            // //เช็คในการกด คำนวณรอบแรก กรณี compensation2 เป็น NULL ,ว่าง  หรือ 0  จะใช้ E2 แทน
                                                                                            // if (document.getElementById('txt_compensation2').value == "" || document.getElementById('txt_compensation2').value == 0) {
                                                                                            //     // alert('1');
                                                                                            //     var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            // }else{
                                                                                            //     // alert('2');
                                                                                            //     var e2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            // }

                                                                                            // var e2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            // var e3 = (document.getElementById('txt_compensation3').value != "") ? document.getElementById('txt_compensation3').value : 0;
                                                                                            // var eempty1 = (document.getElementById('txt_compensation_empty1').value != "") ? document.getElementById('txt_compensation_empty1').value : 0;
                                                                                            // var eempty2 = (document.getElementById('txt_compensation_empty2').value != "") ? document.getElementById('txt_compensation_empty2').value : 0;
                                                                                            // var eempty3 = (document.getElementById('txt_compensation_empty3').value != "") ? document.getElementById('txt_compensation_empty3').value : 0;
                                                                                            // var othermoney = (document.getElementById('txt_orthermoney').value != "") ? document.getElementById('txt_orthermoney').value : 0;
                                                                                            
                                                                                            // alert(e1);
                                                                                            // alert(e2);
                                                                                            // alert(e3);
                                                                                            // alert(crosswork);
                                                                                            // //กรณีเลือก รับงาน 2 โรง ได้รับเพิ่ม 50 บาท สำหรับสายงาน TGT
                                                                                            // if(chk_50trip.checked == true){
                                                                                            //     var tgt50trip = 50;

                                                                                            // }else{
                                                                                            //     var tgt50trip = 0;
                                                                                            // }

                                                                                            // //กรณีเลือก วิ่งงาน 2 Drop รับเพิ่ม 50 บาท THAITOHKEN
                                                                                            // if(chk_2dropthaitohken.checked == true){
                                                                                            //     var twodropthaitohken = 50;

                                                                                            // }else{
                                                                                            //     var twodropthaitohken = 0;
                                                                                            // }

                                                                                            // //กรณีเลือก วิ่งงาน 3 Drop รับเพิ่ม 100 บาท THAITOHKEN
                                                                                            // if(chk_3dropthaitohken.checked == true){
                                                                                                
                                                                                            //     var threedropthaitohken = 100;
                                                                                            // }else{
                                                                                            //     var threedropthaitohken = 0;
                                                                                            // }


                                                                                            // แสดงค่าเที่ยวรวม
                                                                                            document.getElementById('txt_compensation').value = parseInt(e1) + parseInt(e2) + parseInt(e3) + parseInt(eempty1) + parseInt(eempty2) + parseInt(eempty3) 
                                                                                                                                    + parseInt(crosswork);
                                                                                            // แสดงค่าเที่ยวรวมทั้งหมด
                                                                                            document.getElementById('txt_compensationall').value = parseInt(e1) + parseInt(e2) + parseInt(e3) + parseInt(eempty1) + parseInt(eempty2) + parseInt(eempty3) 
                                                                                                                                    + parseInt(crosswork);
                                                                                            // แสดงค่า พนักงาน 1
                                                                                            document.getElementById('txt_e1').value = parseInt(e1);
                                                                                            // แสดงค่า พนักงาน 2
                                                                                            document.getElementById('txt_e2').value = parseInt(e2);
                                                                                            
                                                                                            
                                                                                            // E1 บันทึกค่าเที่ยวไปใน column E1 ในตารางแผนงาน VEHICLETRANSPORTPLAN
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_e1').value, ID: ID, fieldname: 'E1'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'TOTALCOMPEN'
                                                                                                    
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                    
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION1'
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_e2').value, ID: ID2, fieldname: 'COMPENSATION2'
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                }
                                                                                            });

                                                                                        }
                                                                                        // function คำนวณค่าเที่ยว
                                                                                        function edit_vehicletransportdocumentdriverconm(ID, ID2,COMPANYCODE,CUSTOMERCODE) {

                                                                                            // alert(COMPANYCODE);
                                                                                            // alert(CUSTOMERCODE);
                                                                                            
                                                                                            // รวมค่าเที่ยวคนที่ 1 
                                                                                            //เช็คในการกด คำนวณรอบแรก กรณี compensation1 เป็น NULL ,ว่าง  หรือ 0 จะใช้ E1 แทน
                                                                                            if (document.getElementById('txt_compensation1').value == "" || document.getElementById('txt_compensation1').value == 0) {
                                                                                                // alert('1');
                                                                                                var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            }else{
                                                                                                // alert('2');
                                                                                                var e1 = (document.getElementById('txt_compensation1').value != "") ? document.getElementById('txt_compensation1').value : 0;
                                                                                            }
                                                                                            
                                                                                            //เช็คในการกด คำนวณรอบแรก กรณี compensation2 เป็น NULL ,ว่าง  หรือ 0  จะใช้ E2 แทน
                                                                                            if (document.getElementById('txt_compensation2').value == "" || document.getElementById('txt_compensation2').value == 0) {
                                                                                                // alert('1');
                                                                                                var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            }else{
                                                                                                // alert('2');
                                                                                                var e2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            }

                                                                                            // var e2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_compensation3').value != "") ? document.getElementById('txt_compensation3').value : 0;
                                                                                            var eempty1 = (document.getElementById('txt_compensation_empty1').value != "") ? document.getElementById('txt_compensation_empty1').value : 0;
                                                                                            var eempty2 = (document.getElementById('txt_compensation_empty2').value != "") ? document.getElementById('txt_compensation_empty2').value : 0;
                                                                                            var eempty3 = (document.getElementById('txt_compensation_empty3').value != "") ? document.getElementById('txt_compensation_empty3').value : 0;
                                                                                            var othermoney = (document.getElementById('txt_orthermoney').value != "") ? document.getElementById('txt_orthermoney').value : 0;
                                                                                             
                                                                                            // //กรณีเลือก รับงาน 2 โรง ได้รับเพิ่ม 50 บาท สำหรับสายงาน TGT
                                                                                            // if(chk_50trip.checked == true){
                                                                                            //     var tgt50trip = 50;
                                                                                            
                                                                                            // }else{
                                                                                            //     var tgt50trip = 0;
                                                                                            // }
                                                                                            
                                                                                            // //กรณีเลือก วิ่งงาน 2 Drop รับเพิ่ม 50 บาท THAITOHKEN
                                                                                            // if(chk_2dropthaitohken.checked == true){
                                                                                            //     var twodropthaitohken = 50;
                                                                                            
                                                                                            // }else{
                                                                                            //     var twodropthaitohken = 0;
                                                                                            // }

                                                                                            // //กรณีเลือก วิ่งงาน 3 Drop รับเพิ่ม 100 บาท THAITOHKEN
                                                                                            // if(chk_3dropthaitohken.checked == true){
                                                                                                
                                                                                            //     var threedropthaitohken = 100;
                                                                                            // }else{
                                                                                            //     var threedropthaitohken = 0;
                                                                                            // }

                                                                                            

                                                                                            if (COMPANYCODE == 'RKS' && CUSTOMERCODE == 'STM') {
                                                                                                //กรณีสายงาน STM จะเอาจำนวนรอบวิ่งงาน * ค่าเที่ยว 
                                                                                                //stmround คือ จำนวนรอบวิ่งงาน substring เอาแค่ตัวเลข
                                                                                                var stmround =  document.getElementById('txt_tripamountstm').value.substring(0,2); 
                                                                                                // alert(stmround);

                                                                                                // แสดงค่าเที่ยวรวม
                                                                                                document.getElementById('txt_compensation').value = parseInt(e1*stmround) + parseInt(e2) + parseInt(e3) + parseInt(eempty1) + parseInt(eempty2) + parseInt(eempty3) + parseInt(othermoney);
                                                                                                // แสดงค่า พนักงาน 1
                                                                                                document.getElementById('txt_compensation1').value = parseInt(e1*stmround);
                                                                                                // แสดงค่า พนักงาน 2
                                                                                                document.getElementById('txt_compensation2').value = parseInt(e2);

                                                                                            }else{
                                                                                               
                                                                                                // แสดงค่าเที่ยวรวม
                                                                                                document.getElementById('txt_compensation').value = parseInt(e1) + parseInt(e2) + parseInt(e3) + parseInt(eempty1) + parseInt(eempty2) + parseInt(eempty3) 
                                                                                                                                           + parseInt(othermoney) 
                                                                                                // แสดงค่า พนักงาน 1
                                                                                                document.getElementById('txt_compensation1').value = parseInt(e1);
                                                                                                // แสดงค่า พนักงาน 2
                                                                                                document.getElementById('txt_compensation2').value = parseInt(e2);
                                                                                            }
                                                                                             
                                                                                            // E1 บันทึกค่าเที่ยวไปใน column E1 ในตารางแผนงาน VEHICLETRANSPORTPLAN
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_compensation1').value, ID: ID, fieldname: 'E1'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                             //OTHER
                                                                                             $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: othermoney, ID: ID2, fieldname: 'OTHER'
                                                                                                    
                                                                                                },
                                                                                                success: function () {

                                                                                                }
                                                                                             });

                                                                                             $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'TOTALCOMPEN'
                                                                                                    
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                }
                                                                                             });

                                                                                             $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                    
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                }
                                                                                             });

                                                                                             $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation1').value, ID: ID2, fieldname: 'COMPENSATION1'
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                }
                                                                                             });

                                                                                             $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation2').value, ID: ID2, fieldname: 'COMPENSATION2'
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                }
                                                                                             });

                                                                                        }
                                                                                        function edit_vehicletransportplan_rks(ID, ID2,COMPANYCODE,EMPCHK)
                                                                                        {
                                                                                                // alert(ID);
                                                                                                // alert(ID2);
                                                                                                // alert(COMPANYCODE);

                                                                                                // alert(EMPCHK);
                                                                                                var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                                var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                                var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                                // var eempty1 = (document.getElementById('txt_eempty1').value != "") ? document.getElementById('txt_eempty1').value : 0;
                                                                                                // var eempty2 = (document.getElementById('txt_eempty2').value != "") ? document.getElementById('txt_eempty2').value : 0;
                                                                                                // var eempty3 = (document.getElementById('txt_eempty3').value != "") ? document.getElementById('txt_eempty3').value : 0;
                                                                                                
                                                                                                if (EMPCHK == 'E1') {
                                                                                                    document.getElementById('txt_compensation1').value = parseInt(e1); 
                                                                                                }else if(EMPCHK == 'E2'){
                                                                                                    document.getElementById('txt_compensation2').value = parseInt(e2); 
                                                                                                }else if (EMPCHK == 'E3'){
                                                                                                    document.getElementById('txt_compensation3').value = parseInt(e3); 
                                                                                                }else{
                                                                                                   
                                                                                                }

                                                                                                document.getElementById('txt_compensation').value = '0';
                                                                                                // document.getElementById('txt_compensationall').value = parseInt(e1) + parseInt(e2) + parseInt(e3) + parseInt(eempty1) + parseInt(eempty2) + parseInt(eempty3);
                                                                                                

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "updatevehicletransportplan_getwaye1", ID: ID, e1: document.getElementById('txt_e1').value
                                                                                                },
                                                                                                success: function (rs) {
                                                                                                    // document.getElementById('txt_ot1').value = rs;

                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "updatevehicletransportplan_getwaye2", ID: ID, e2: document.getElementById('txt_e2').value
                                                                                                },
                                                                                                success: function (rs) {
                                                                                                    // document.getElementById('txt_ot2').value = rs;

                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "updatevehicletransportplan_getwaye3", ID: ID, e3: document.getElementById('txt_e3').value
                                                                                                },
                                                                                                success: function (rs) {

                                                                                                    // document.getElementById('txt_ot3').value = rs;

                                                                                                }
                                                                                            });


                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_e1').value, ID: ID, fieldname: 'E1'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_e2').value, ID: ID, fieldname: 'E2'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_e3').value, ID: ID, fieldname: 'E3'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_e1').value, ID: ID2, fieldname: 'COMPENSATION1'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_e2').value, ID: ID2, fieldname: 'COMPENSATION2'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_e3').value, ID: ID2, fieldname: 'COMPENSATION3'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'TOTALCOMPEN'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });

                                                                                            // $.ajax({
                                                                                            //     url: 'meg_data.php',
                                                                                            //     type: 'POST',
                                                                                            //     data: {
                                                                                            //         txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value,editableObj: e1, fieldname: 'TOTALCOMPEN'
                                                                                            //     },
                                                                                            //     success: function () {


                                                                                            //     }
                                                                                            // });

                                                                                            // $.ajax({
                                                                                            //     url: 'meg_data.php',
                                                                                            //     type: 'POST',
                                                                                            //     data: {
                                                                                            //         txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value,editableObj: e1, fieldname: 'TOTALNET'
                                                                                            //     },
                                                                                            //     success: function () {


                                                                                            //     }
                                                                                            // });
                                                                                            
                                                                                        }
                                                                                        function edit_vehicletransportplan_eemptyrks(ID, ID2,EMPTYCHK)
                                                                                        {

                                                                                            // var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            // var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            // var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            var eempty1 = (document.getElementById('txt_eempty1').value != "") ? document.getElementById('txt_eempty1').value : 0;
                                                                                            var eempty2 = (document.getElementById('txt_eempty2').value != "") ? document.getElementById('txt_eempty2').value : 0;
                                                                                            var eempty3 = (document.getElementById('txt_eempty3').value != "") ? document.getElementById('txt_eempty3').value : 0;
                                                                                            // document.getElementById('txt_compensation').value = parseInt(e1) + parseInt(e2) + parseInt(e3) + parseInt(eempty1) + parseInt(eempty2) + parseInt(eempty3);
                                                                                           
                                                                                            if (EMPTYCHK == 'EMPTY1') {
                                                                                                    document.getElementById('txt_compensation_empty1').value = parseInt(eempty1); 
                                                                                                }else if(EMPTYCHK == 'EMPTY2'){
                                                                                                    document.getElementById('txt_compensation_empty2').value = parseInt(eempty2); 
                                                                                                }else if (EMPTYCHK == 'EMPTY3'){
                                                                                                    document.getElementById('txt_compensation_empty3').value = parseInt(eempty3); 
                                                                                                }else{
                                                                                                   
                                                                                                }
                                                                                            
                                                                                            document.getElementById('txt_compensation').value = '0';
                                                                                           

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_eempty1').value, ID: ID, fieldname: 'EEMPTY1'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_eempty2').value, ID: ID, fieldname: 'EEMPTY2'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_eempty3').value, ID: ID, fieldname: 'EEMPTY3'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_eempty1').value, ID: ID2, fieldname: 'COMPENSATIONEMPTY1'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_eempty2').value, ID: ID2, fieldname: 'COMPENSATIONEMPTY2'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_eempty3').value, ID: ID2, fieldname: 'COMPENSATIONEMPTY3'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'TOTALCOMPEN'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });


                                                                                        }
                                                                                        function select_50trip(ID, ID2){
                                                                                            // <!-- รถสายงาน RKS TGT จะใช้ Column SELECT_4LOAD1 และ PAY_4LOAD1REMARK -->
                                                                                            // ในการคิดค่าเที่ยวเพิ่มเติม กรณีรับงาน 2 โรง ได้รับเพิ่ม 50 บาท/เที่ยว
                                                                                            
                                                                                            // var e1 = (document.getElementById('txt_compensation1').value != "") ? document.getElementById('txt_compensation1').value : 0;
                                                                                            // var e2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            // var e3 = (document.getElementById('txt_compensation3').value != "") ? document.getElementById('txt_compensation3').value : 0;
                                                                                            var compensation    = (document.getElementById('txt_compensation').value != "")   ? document.getElementById('txt_compensation').value : 0;
                                                                                            var compensation1   = (document.getElementById('txt_compensation1').value != "")  ? document.getElementById('txt_compensation1').value : 0;
                                                                                            var othermoney      = (document.getElementById('txt_orthermoney').value != "")    ? document.getElementById('txt_orthermoney').value : 0;
                                                                                            
                                                                                            if (compensation1 == '' || compensation1 == '0') {
                                                                                                //check ถ้า ช่อง compensation1 == '' จะไม่สามารถเลือกช่อง กรณีรับงาน 2 โรง ได้รับเพิ่ม 50 บาท/เที่ยวได้
                                                                                                    // alert("กรุณากดปุ่มคำนวณก่อนที่จะเลือกเงื่อนไขนี้ !!!")
                                                                                                    swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "กรุณากดปุ่มคำนวณก่อนที่จะเลือกเงื่อนไขนี้!",
                                                                                                            icon: "error",
                                                                                                    });
                                                                                                    document.getElementById("chk_50trip").checked = false;
                                                                                            }else{
                                                                                                //chk4load1 ข้อที่1
                                                                                                if(chk_50trip.checked == true){
                                                                                                    var fiftytrip_chk = (document.getElementById('chk_50trip').value != "") ? document.getElementById('chk_50trip').value : 0;
                                                                                                    var fiftytripedit_chk = 'กรณีรับงาน 2 โรงได้รับเพิ่ม 50 บาทต่อเที่ยว';
                                                                                                    // document.getElementById('txt_compensation').value = parseInt(compensation)+100; 
                                                                                                    document.getElementById('txt_compensation').value   = 0;
                                                                                                    document.getElementById('txt_compensation1').value  = parseInt(compensation1)+50;
                                                                                                    document.getElementById('txt_orthermoney').value    = 0; 
                                                                                                    
                                                                                                    //อัพเดท ช่อง chk_trainer,chk_ojt,chk_multiskill = false;
                                                                                                    document.getElementById("chk_trainer").checked      = false;
                                                                                                    document.getElementById("chk_ojt").checked          = false;
                                                                                                    document.getElementById("chk_multiskill").checked   = false;
                                                                                                    // alert("Trainner Check");
                                                                                                    // alert(compensation);
                                                                                                    
                                                                                                
                                                                                                    
                                                                                                }else{
                                                                                                    // alert('1');

                                                                                                    var fiftytrip_chk = '';
                                                                                                    var fiftytripedit_chk = '';
                                                                                                
                                                                                                    
                                                                                                    //เช็คถ้า compensation (ช่องค่าเที่ยวรวมทั้งหมด) เท่ากับ 0 
                                                                                                    if (compensation1 == '0') {
                                                                                                        document.getElementById('txt_compensation').value   = 0;
                                                                                                        document.getElementById('txt_compensation1').value  = parseInt(compensation1)-50;
                                                                                                        // document.getElementById('txt_orthermoney').value    = 0;
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value   = 0;
                                                                                                        document.getElementById('txt_compensation1').value  = parseInt(compensation1)-50;
                                                                                                        // document.getElementById('txt_orthermoney').value    = 0;
                                                                                                    }
                                                                                                
                                                                                                    // alert("Trainner UnCheck");
                                                                                                    // alert(compensation);
                                                                                                }
                                                                                                
                                                                                                var fiftytripcost    = fiftytrip_chk;
                                                                                                var fiftytripedit    = fiftytripedit_chk;
                                                                                                
                                                                                                
                                                                                                
                                                                                                //OTHER
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_orthermoney').value, ID: ID2, fieldname: 'OTHER'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                                //COMPENSATION1
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation1').value, ID: ID2, fieldname: 'COMPENSATION1'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });




                                                                                                // SELECT_4LOAD1
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: fiftytripcost, ID: ID2, fieldname: 'SELECT_4LOAD1'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                
                                                                                                // PAY_4LOAD1REMARK
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: fiftytripedit, ID: ID2, fieldname: 'PAY_4LOAD1REMARK'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });

                                                                                                // COMPENSATION
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });
                                                                                            
                                                                                                // TOTALCOMPEN
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'TOTALCOMPEN'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });
                                                                                            
                                                                                            }
                                                                                            

                                                                                        }
                                                                                        function select_trainer(ID, ID2){
                                                                                            // <!-- รถสายงาน RKS จะใช้ Column SELECT_4LOAD1 และ PAY_4LOAD1REMARK ในการคิดค่าเที่ยวเพิ่มเติมสำหรับ พนักงานคนที่ 1 กรณีเป็น Trainner-->
                                                                                            // alert('OT360');
                                                                                            // alert(value);
                                                                                            // var e1 = (document.getElementById('txt_compensation1').value != "") ? document.getElementById('txt_compensation1').value : 0;
                                                                                            // var e2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            // var e3 = (document.getElementById('txt_compensation3').value != "") ? document.getElementById('txt_compensation3').value : 0;
                                                                                            var compensation    = (document.getElementById('txt_compensation').value != "") ? document.getElementById('txt_compensation').value : 0;
                                                                                            var othermoney      = (document.getElementById('txt_orthermoney').value != "") ? document.getElementById('txt_orthermoney').value : 0;
                                                                                            var specialemp1     = (document.getElementById('txt_specialemp1').value != "") ? document.getElementById('txt_specialemp1').value : 0;
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_trainer.checked == true){
                                                                                                var trainer_chk = (document.getElementById('chk_trainer').value != "") ? document.getElementById('chk_trainer').value : 0;
                                                                                                var trainneredit_chk = 'กรณีพนักงานคนที่ 1 เป็นเทรนเนอร์ ปรับเพิ่ม 100 บาท';
                                                                                                // document.getElementById('txt_compensation').value = parseInt(compensation)+100; 
                                                                                                document.getElementById('txt_compensation').value = 0;
                                                                                                // document.getElementById('txt_compensation1').value = 0;
                                                                                                document.getElementById('txt_orthermoney').value = parseInt(othermoney)+100; 
                                                                                                document.getElementById('txt_specialemp1').value = parseInt(specialemp1)+100;
                                                                                                // alert("Trainner Check");
                                                                                                // alert(compensation);

                                                                                            }else{
                                                                                                // alert('1');
                                                                                                var trainer_chk = '';
                                                                                                var trainneredit_chk = '';
                                                                                                
                                                                                                //เช็คถ้า รายได้อื่นๆ เท่ากับ 0 
                                                                                                if (othermoney == '0') {
                                                                                                    document.getElementById('txt_compensation').value   = 0;
                                                                                                    // document.getElementById('txt_compensation1').value  = 0;
                                                                                                    document.getElementById('txt_orthermoney').value    = 0;
                                                                                                    document.getElementById('txt_specialemp1').value    = 0;
                                                                                                }else{
                                                                                                    document.getElementById('txt_compensation').value   = 0;
                                                                                                    // document.getElementById('txt_compensation1').value  = 0;
                                                                                                    document.getElementById('txt_orthermoney').value    = parseInt(othermoney)-100; 
                                                                                                    document.getElementById('txt_specialemp1').value    = parseInt(specialemp1)-100;
                                                                                                }
                                                                                                
                                                                                               
                                                                                                
                                                                                               
                                                                                                // alert("Trainner UnCheck");
                                                                                                // alert(compensation);
                                                                                            }
                                                                                            
                                                                                            var trainnercost = trainer_chk;
                                                                                            var trainneredit = trainneredit_chk;
                                                                                            
                                                                                            // // alert(sumall48load360);
                                                                                            
                                                                                           
                                                                                            // C4 ข้อมูลรายได้อื่นๆที่เลือก Trainner 100บาท จะใช้ช่อง C4 ในแผนการขนส่งสำหรับบันทึกข้อมูล
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_specialemp1').value, ID: ID, fieldname: 'C4'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            // E1 อัพเดทช่อง E1 ในแผนให้เป็น 0 ป้องกันกรณีที่ไม่กดคำนวณ เพื่อไม่ให้การคิดค่าเที่ยวผิด สำหรับค่าเที่ยว พชร.1
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_compensation1').value, ID: ID, fieldname: 'E1'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            //OTHER
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_orthermoney').value, ID: ID2, fieldname: 'OTHER'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            //SELECT_4LOAD2
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: trainnercost, ID: ID2, fieldname: 'SELECT_4LOAD2'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            //PAY_4LOAD2REMARK
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: trainneredit, ID: ID2, fieldname: 'PAY_4LOAD2REMARK'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });

                                                                                            //COMPENSATION
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });
                                                                                            
                                                                                            //TOTALCOMPEN
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'TOTALCOMPEN'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });

                                                                                        }
                                                                                        function select_emp1multi2(ID, ID2){
                                                                                            // <!-- รถสายงาน RKS จะใช้ Column SELECT_4LOAD3 และ PAY_4LOAD3REMARK ในการคิดค่าเที่ยวเพิ่มเติมสำหรับ พนักงานคนที่ 1 กรณีเป็น Trainner-->
                                                                                            // alert('OT360');
                                                                                            // alert(value);
                                                                                            var compensation1 = (document.getElementById('txt_compensation1').value != "") ? document.getElementById('txt_compensation1').value : 0;
                                                                                            var compensation2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
																							// var e2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            // var e3 = (document.getElementById('txt_compensation3').value != "") ? document.getElementById('txt_compensation3').value : 0;
                                                                                            var compensation    = (document.getElementById('txt_compensation').value != "") ? document.getElementById('txt_compensation').value : 0;
                                                                                            var othermoney      = (document.getElementById('txt_orthermoney').value != "") ? document.getElementById('txt_orthermoney').value : 0;
                                                                                            
                                                                                            // //กรณีเลือก รับงาน 2 โรง ได้รับเพิ่ม 50 บาท สำหรับสายงาน TGT
                                                                                            // if(chk_50trip.checked == true){
                                                                                            //     var tgt50trip = 50;
                                                                                            
                                                                                            // }else{
                                                                                            //     var tgt50trip = 0;
                                                                                            // }
                                                                                            
                                                                                            // //กรณีเลือก วิ่งงาน 2 Drop รับเพิ่ม 50 บาท THAITOHKEN
                                                                                            // if(chk_2dropthaitohken.checked == true){
                                                                                            //     var twodropthaitohken = 50;
                                                                                            
                                                                                            // }else{
                                                                                            //     var twodropthaitohken = 0;
                                                                                            // }

                                                                                            // //กรณีเลือก วิ่งงาน 3 Drop รับเพิ่ม 100 บาท THAITOHKEN
                                                                                            // if(chk_3dropthaitohken.checked == true){
                                                                                            //     var threedropthaitohken = 100;
                                                                                            // }else{
                                                                                            //     var threedropthaitohken = 0;
                                                                                            // }

                                                                                            if (compensation1 == '' || compensation1 == '0' ) {
                                                                                                    // alert("กรุณากดปุ่มคำนวณก่อนที่จะเลือกเงื่อนไขนี้ !!!")
                                                                                                    swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "กรุณากดปุ่มคำนวณก่อนที่จะเลือกเงื่อนไขนี้!",
                                                                                                            icon: "error",
                                                                                                    });
                                                                                                    document.getElementById("chk_emp1multi2").checked = false;
                                                                                            }else{
                                                                                                
                                                                                           
                                                                                                //chk4load1 ข้อที่1
                                                                                                if(chk_emp1multi2.checked == true){
                                                                                                    
                                                                                                    var emp1multi2_chk = parseInt(compensation1)*2;
                                                                                                    var emp1multi2edit_chk = 'กรณีวันหยุด พนักงานคนที่ 1 ค่าเที่ยวคูณสอง';
                                                                                                    // document.getElementById('txt_compensation').value = parseInt(compensation)+100; 
                                                                                                    document.getElementById('txt_compensation').value  = ((parseInt(compensation1)+parseInt(compensation2))*2);
                                                                                                    document.getElementById('txt_compensation1').value = parseInt(compensation1)*2;
                                                                                                    // alert("Trainner Check");
                                                                                                    // alert(compensation);
                                    
                                                                                                }else{
                                                                                                    // alert('1');
                                                                                                    var emp1multi2_chk = '';
                                                                                                    var emp1multi2edit_chk = '';
                                                                                                    
                                                                                                    //เช็คถ้า รายได้อื่นๆ เท่ากับ 0 
                                                                                                    if (compensation1 == '0') {
                                                                                                        document.getElementById('txt_compensation').value   = 0;
                                                                                                        document.getElementById('txt_compensation1').value  = 0;
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value   = ((parseInt(compensation1)+parseInt(compensation2))/2);
                                                                                                        document.getElementById('txt_compensation1').value  = parseInt(compensation1)/2; 
                                                                                                    }
                                                                                                    
                                                                                                
                                                                                                    
                                                                                                
                                                                                                    // alert("Trainner UnCheck");
                                                                                                    // alert(compensation);
                                                                                                }
                                                                                                
                                                                                                var emp1multi2cost = emp1multi2_chk;
                                                                                                var emp1multi2edit = emp1multi2edit_chk;
                                                                                                
                                                                                                // // alert(sumall48load360);
                                                                                                
                                                                                                

                                                                                                //SELECT_4LOAD2
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: emp1multi2cost, ID: ID2, fieldname: 'SELECT_4LOAD3'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                                //PAY_4LOAD2REMARK
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: emp1multi2edit, ID: ID2, fieldname: 'PAY_4LOAD3REMARK'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });

                                                                                                //COMPENSATION1
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation1').value, ID: ID2, fieldname: 'COMPENSATION1'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });
                                                                                                
                                                                                                //TOTALCOMPEN
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'TOTALCOMPEN'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });

                                                                                                //COMPENSATION
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "  ", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                        }
                                                                                        function select_ojt(ID, ID2){
                                                                                            // <!-- รถสายงาน RKS จะใช้ Column SELECT_4LOAD1 และ PAY_4LOAD1REMARK ในการคิดค่าเที่ยวเพิ่มเติมสำหรับ พนักงานคนที่ 1 กรณีเป็น Trainner-->
                                                                                            // alert('OT360');
                                                                                            // alert(value);
                                                                                            // var e1 = (document.getElementById('txt_compensation1').value != "") ? document.getElementById('txt_compensation1').value : 0;
                                                                                            // var e2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            // var e3 = (document.getElementById('txt_compensation3').value != "") ? document.getElementById('txt_compensation3').value : 0;
                                                                                            var compensation    = (document.getElementById('txt_compensation').value != "") ? document.getElementById('txt_compensation').value : 0;
                                                                                            var othermoney      = (document.getElementById('txt_orthermoney').value != "") ? document.getElementById('txt_orthermoney').value : 0;
                                                                                            var specialemp2     = (document.getElementById('txt_specialemp2').value != "") ? document.getElementById('txt_specialemp2').value : 0;
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_ojt.checked == true){
                                                                                                var ojt_chk = (document.getElementById('chk_ojt').value != "") ? document.getElementById('chk_ojt').value : 0;
                                                                                                var ojtedit_chk = 'กรณีพนักงานคนที่ 2 เป็น ojt ปรับเพิ่ม 100 บาท';
                                                                                                // document.getElementById('txt_compensation').value = parseInt(compensation)+100; 
                                                                                                document.getElementById('txt_compensation').value = 0;
                                                                                                // document.getElementById('txt_compensation1').value = 0;
                                                                                                document.getElementById('txt_orthermoney').value = parseInt(othermoney)+100; 
                                                                                                document.getElementById('txt_specialemp2').value = parseInt(specialemp2)+100; 
                                                                                                // alert("Trainner Check");
                                                                                                // alert(compensation);

                                                                                            }else{
                                                                                                // alert('1');
                                                                                                var ojt_chk = '';
                                                                                                var ojtedit_chk = '';
                                                                                                
                                                                                                //เช็คถ้า รายได้อื่นๆ เท่ากับ 0 
                                                                                                if (othermoney == '0') {
                                                                                                    document.getElementById('txt_compensation').value   = 0;
                                                                                                    // document.getElementById('txt_compensation1').value  = 0;
                                                                                                    document.getElementById('txt_orthermoney').value    = 0;
                                                                                                    document.getElementById('txt_specialemp2').value    = 0;
                                                                                                }else{
                                                                                                    document.getElementById('txt_compensation').value   = 0;
                                                                                                    // document.getElementById('txt_compensation1').value  = 0;
                                                                                                    document.getElementById('txt_orthermoney').value    = parseInt(othermoney)-100; 
                                                                                                    document.getElementById('txt_specialemp2').value    = parseInt(specialemp2)-100; 
                                                                                                }
                                                                                                
                                                                                               
                                                                                                
                                                                                               
                                                                                                // alert("Trainner UnCheck");
                                                                                                // alert(compensation);
                                                                                            }
                                                                                            
                                                                                            var ojtcost = ojt_chk;
                                                                                            var ojtedit = ojtedit_chk;
                                                                                            

                                                                                            // C5 ข้อมูลรายได้อื่นๆที่เลือก OJT 200บาท จะใช้ช่อง C5 ในแผนการขนส่งสำหรับบันทึกข้อมูล
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_specialemp2').value, ID: ID, fieldname: 'C5'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            //OTHER
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_orthermoney').value, ID: ID2, fieldname: 'OTHER'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            //SELECT_4LOAD5
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: ojtcost, ID: ID2, fieldname: 'SELECT_4LOAD5'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            //PAY_4LOAD5REMARK
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: ojtedit, ID: ID2, fieldname: 'PAY_4LOAD5REMARK'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });

                                                                                            //COMPENSATION
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });
                                                                                            
                                                                                            //TOTALCOMPEN
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'TOTALCOMPEN'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });

                                                                                        }
                                                                                        function select_emp2multi2(ID, ID2){
                                                                                            // <!-- รถสายงาน RKS จะใช้ Column SELECT_4LOAD3 และ PAY_4LOAD3REMARK ในการคิดค่าเที่ยวเพิ่มเติมสำหรับ พนักงานคนที่ 1 กรณีเป็น Trainner-->
                                                                                            // alert('OT360');
                                                                                            // alert(value);
																							var compensation1 = (document.getElementById('txt_compensation1').value != "") ? document.getElementById('txt_compensation1').value : 0;
                                                                                            var compensation2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            // var e2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            // var e3 = (document.getElementById('txt_compensation3').value != "") ? document.getElementById('txt_compensation3').value : 0;
                                                                                            var compensation    = (document.getElementById('txt_compensation').value != "") ? document.getElementById('txt_compensation').value : 0;
                                                                                            var othermoney      = (document.getElementById('txt_orthermoney').value != "") ? document.getElementById('txt_orthermoney').value : 0;
                                                                                            
                                                                                            if (compensation2 == '' || compensation2 == '0') {
                                                                                                    // alert("กรุณากดปุ่มคำนวณก่อนที่จะเลือกเงื่อนไขนี้ !!!")
                                                                                                    swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "กรุณากดปุ่มคำนวณก่อนที่จะเลือกเงื่อนไขนี้!",
                                                                                                            icon: "error",
                                                                                                    });
                                                                                                    document.getElementById("chk_emp2multi2").checked = false;
                                                                                            }else{
                                                                                                    
                                                                                                //chk4load1 ข้อที่1
                                                                                                if(chk_emp2multi2.checked == true){
                                                                                                    var emp2multi2_chk = parseInt(compensation2)*2;
                                                                                                    var emp2multi2edit_chk = 'กรณีวันหยุด พนักงานคนที่ 2 ค่าเที่ยวคูณสอง';
                                                                                                    // document.getElementById('txt_compensation').value = parseInt(compensation)+100; 
                                                                                                    document.getElementById('txt_compensation').value  = ((parseInt(compensation1)+parseInt(compensation2))*2);
                                                                                                    document.getElementById('txt_compensation2').value = parseInt(compensation2)*2;
                                                                                                    // alert("Trainner Check");
                                                                                                    // alert(compensation);
                                                                                                

                                                                                                }else{
                                                                                                    // alert('1');
                                                                                                    var emp2multi2_chk = '';
                                                                                                    var emp2multi2edit_chk = '';
                                                                                                    
                                                                                                    //เช็คถ้า รายได้อื่นๆ เท่ากับ 0 
                                                                                                    if (compensation2 == '0') {
                                                                                                        document.getElementById('txt_compensation').value   = 0;
                                                                                                        document.getElementById('txt_compensation2').value  = 0;
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value   = ((parseInt(compensation1)+parseInt(compensation2))/2);
                                                                                                        document.getElementById('txt_compensation2').value  = parseInt(compensation2)/2; 
                                                                                                    }
                                                                                                    
                                                                                                    // alert("Trainner UnCheck");
                                                                                                    // alert(compensation);
                                                                                                }
                                                                                                
                                                                                                var emp2multi2cost = emp2multi2_chk;
                                                                                                var emp2multi2edit = emp2multi2edit_chk;
                                                                                                
                                                                                                // // alert(sumall48load360);
                                                                                                
                                                                                                

                                                                                                //SELECT_4LOAD6
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: emp2multi2cost, ID: ID2, fieldname: 'SELECT_4LOAD6'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                                //PAY_4LOAD6REMARK
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: emp2multi2edit, ID: ID2, fieldname: 'PAY_4LOAD6REMARK'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });

                                                                                                //COMPENSATION2
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation2').value, ID: ID2, fieldname: 'COMPENSATION2'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });
                                                                                                
                                                                                                //TOTALCOMPEN
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'TOTALCOMPEN'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });

                                                                                                //COMPENSATION
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            

                                                                                        }
                                                                                        function select_2dropthaitohken(ID, ID2){
                                                                                            // <!-- รถสายงาน RKS จะใช้ Column SELECT_4LOAD1 และ PAY_4LOAD1REMARK ในการคิดค่าเที่ยวเพิ่มเติม กรณีรับงาน 2 โรง ได้รับเพิ่ม 50 บาท/เที่ยว-->
                                                                                            
                                                                                            // var e1 = (document.getElementById('txt_compensation1').value != "") ? document.getElementById('txt_compensation1').value : 0;
                                                                                            // var e2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            // var e3 = (document.getElementById('txt_compensation3').value != "") ? document.getElementById('txt_compensation3').value : 0;
                                                                                            var compensation    = (document.getElementById('txt_compensation').value != "")   ? document.getElementById('txt_compensation').value : 0;
                                                                                            var compensation1   = (document.getElementById('txt_compensation1').value != "")  ? document.getElementById('txt_compensation1').value : 0;
                                                                                            var othermoney      = (document.getElementById('txt_orthermoney').value != "")    ? document.getElementById('txt_orthermoney').value : 0;
                                                                                            
                                                                                            if (compensation1 == '' || compensation1 == '0') {
                                                                                                //check ถ้า ช่อง compensation1 == '' จะไม่สามารถเลือกช่อง กรณีรับงาน 2 โรง ได้รับเพิ่ม 50 บาท/เที่ยวได้
                                                                                                    // alert("กรุณากดปุ่มคำนวณก่อนที่จะเลือกเงื่อนไขนี้ !!!")
                                                                                                    swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "กรุณากดปุ่มคำนวณก่อนที่จะเลือกเงื่อนไขนี้!",
                                                                                                            icon: "error",
                                                                                                    });
                                                                                                    document.getElementById("chk_2dropthaitohken").checked = false;
                                                                                            }else{
                                                                                                //chk4load1 ข้อที่1
                                                                                                if(chk_2dropthaitohken.checked == true){
                                                                                                    var twodropthaitohken_chk = (document.getElementById('chk_2dropthaitohken').value != "") ? document.getElementById('chk_2dropthaitohken').value : 0;
                                                                                                    var twodropthaitohkenedit_chk = 'วิ่งงาน 2 Drop รับเพิ่ม 50 บาท';
                                                                                                    // document.getElementById('txt_compensation').value = parseInt(compensation)+100; 
                                                                                                    document.getElementById('txt_compensation').value   = 0;
                                                                                                    document.getElementById('txt_compensation1').value  = parseInt(compensation1)+50;
                                                                                                    document.getElementById('txt_orthermoney').value    = 0; 
                                                                                                    
                                                                                                    //อัพเดท ช่อง chk_trainer,chk_ojt,chk_multiskill = false;
                                                                                                    document.getElementById("chk_trainer").checked      = false;
                                                                                                    document.getElementById("chk_ojt").checked          = false;
                                                                                                    document.getElementById("chk_multiskill").checked   = false;
                                                                                                    // alert("Trainner Check");
                                                                                                    // alert(compensation);
                                                                                                    
                                                                                                
                                                                                                    
                                                                                                }else{
                                                                                                    // alert('1');

                                                                                                    var twodropthaitohken_chk = '';
                                                                                                    var twodropthaitohkenedit_chk = '';
                                                                                                
                                                                                                    
                                                                                                    //เช็คถ้า compensation (ช่องค่าเที่ยวรวมทั้งหมด) เท่ากับ 0 
                                                                                                    if (compensation1 == '0') {
                                                                                                        document.getElementById('txt_compensation').value   = 0;
                                                                                                        document.getElementById('txt_compensation1').value  = parseInt(compensation1)-50;
                                                                                                        // document.getElementById('txt_orthermoney').value    = 0;
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value   = 0;
                                                                                                        document.getElementById('txt_compensation1').value  = parseInt(compensation1)-50;
                                                                                                        // document.getElementById('txt_orthermoney').value    = 0;
                                                                                                    }
                                                                                                
                                                                                                    // alert("Trainner UnCheck");
                                                                                                    // alert(compensation);
                                                                                                }
                                                                                                
                                                                                                var twodropthaitohkencost    = twodropthaitohken_chk;
                                                                                                var twodropthaitohkenedit    = twodropthaitohkenedit_chk;
                                                                                                
                                                                                                // if (value == '1') {
                                                                                                //     document.getElementById('text_OT360').value = '360';
                                                                                                //     document.getElementById('text_OT360VALUE').value = '1';
                                                                                                    
                                                                                                // }else if (value == '2'){
                                                                                                //     document.getElementById('text_OT360').value = '720';
                                                                                                //     document.getElementById('text_OT360VALUE').value = '2';
                                                                                                // }else if (value == '3'){
                                                                                                //     document.getElementById('text_OT360').value = '1080'; 
                                                                                                //     document.getElementById('text_OT360VALUE').value = '3';    
                                                                                                // }else{
                                                                                                //     document.getElementById('text_OT360').value = '';
                                                                                                //     document.getElementById('text_OT360VALUE').value = '';
                                                                                                // }

                                                                                                // var sumall48load360 = parseInt(all48load360)+parseInt(ot180)+parseInt(ot360)
                                                                                                // document.getElementById('txt_compensationall').value = sumall48load360;
                                                                                                // // alert(sumall48load360);
                                                                                                
                                                                                                //OTHER
                                                                                                // $.ajax({
                                                                                                //     url: 'meg_data.php',
                                                                                                //     type: 'POST',
                                                                                                //     data: {
                                                                                                //         txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_orthermoney').value, ID: ID2, fieldname: 'OTHER'
                                                                                                //     },
                                                                                                //     success: function () {


                                                                                                //     }
                                                                                                // });

                                                                                                //COMPENSATION1
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation1').value, ID: ID2, fieldname: 'COMPENSATION1'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });


                                                                                                // SELECT_4LOAD1
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: twodropthaitohkencost, ID: ID2, fieldname: 'SELECT_4LOAD4'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                
                                                                                                // PAY_4LOAD1REMARK
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: twodropthaitohkenedit, ID: ID2, fieldname: 'PAY_4LOAD4REMARK'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });

                                                                                                // COMPENSATION
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });
                                                                                            
                                                                                                // TOTALCOMPEN
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'TOTALCOMPEN'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });
                                                                                            
                                                                                            }
                                                                                            

                                                                                        }
                                                                                        function select_3dropthaitohken(ID, ID2){
                                                                                            // <!-- รถสายงาน RKS จะใช้ Column SELECT_4LOAD1 และ PAY_4LOAD1REMARK ในการคิดค่าเที่ยวเพิ่มเติม กรณีรับงาน 2 โรง ได้รับเพิ่ม 50 บาท/เที่ยว-->
                                                                                            
                                                                                            // var e1 = (document.getElementById('txt_compensation1').value != "") ? document.getElementById('txt_compensation1').value : 0;
                                                                                            // var e2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            // var e3 = (document.getElementById('txt_compensation3').value != "") ? document.getElementById('txt_compensation3').value : 0;
                                                                                            var compensation    = (document.getElementById('txt_compensation').value != "")   ? document.getElementById('txt_compensation').value : 0;
                                                                                            var compensation1   = (document.getElementById('txt_compensation1').value != "")  ? document.getElementById('txt_compensation1').value : 0;
                                                                                            var othermoney      = (document.getElementById('txt_orthermoney').value != "")    ? document.getElementById('txt_orthermoney').value : 0;
                                                                                            
                                                                                            if (compensation1 == '' || compensation1 == '0') {
                                                                                                //check ถ้า ช่อง compensation1 == '' จะไม่สามารถเลือกช่อง กรณีรับงาน 2 โรง ได้รับเพิ่ม 50 บาท/เที่ยวได้
                                                                                                    // alert("กรุณากดปุ่มคำนวณก่อนที่จะเลือกเงื่อนไขนี้ !!!")
                                                                                                    swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "กรุณากดปุ่มคำนวณก่อนที่จะเลือกเงื่อนไขนี้!",
                                                                                                            icon: "error",
                                                                                                    });
                                                                                                    document.getElementById("chk_3dropthaitohken").checked = false;
                                                                                            }else{
                                                                                                //chk4load1 ข้อที่1
                                                                                                if(chk_3dropthaitohken.checked == true){
                                                                                                    var threedropthaitohken_chk = (document.getElementById('chk_3dropthaitohken').value != "") ? document.getElementById('chk_3dropthaitohken').value : 0;
                                                                                                    var threedropthaitohkenedit_chk = 'วิ่งงาน 3 Drop รับเพิ่ม 100 บาท';
                                                                                                    // document.getElementById('txt_compensation').value = parseInt(compensation)+100; 
                                                                                                    document.getElementById('txt_compensation').value   = 0;
                                                                                                    document.getElementById('txt_compensation1').value  = parseInt(compensation1)+100;
                                                                                                    document.getElementById('txt_orthermoney').value    = 0; 
                                                                                                    
                                                                                                    //อัพเดท ช่อง chk_trainer,chk_ojt,chk_multiskill = false;
                                                                                                    document.getElementById("chk_trainer").checked      = false;
                                                                                                    document.getElementById("chk_ojt").checked          = false;
                                                                                                    document.getElementById("chk_multiskill").checked   = false;
                                                                                                    // alert("Trainner Check");
                                                                                                    // alert(compensation);
                                                                                                    
                                                                                                
                                                                                                    
                                                                                                }else{
                                                                                                    // alert('1');
                                                                                                    //อัพเดท ช่อง Select_trainer = false;
                                                                                                    // document.getElementById("chk_trainer").checked = false;

                                                                                                    var threedropthaitohken_chk = '';
                                                                                                    var threedropthaitohkenedit_chk = '';
                                                                                                
                                                                                                    
                                                                                                    //เช็คถ้า compensation (ช่องค่าเที่ยวรวมทั้งหมด) เท่ากับ 0 
                                                                                                    if (compensation1 == '0') {
                                                                                                        document.getElementById('txt_compensation').value   = 0;
                                                                                                        document.getElementById('txt_compensation1').value  = parseInt(compensation1)-100;
                                                                                                        // document.getElementById('txt_orthermoney').value    = 0;
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value   = 0;
                                                                                                        document.getElementById('txt_compensation1').value  = parseInt(compensation1)-100;
                                                                                                        // document.getElementById('txt_orthermoney').value    = 0;
                                                                                                    }
                                                                                                
                                                                                                    // alert("Trainner UnCheck");
                                                                                                    // alert(compensation);
                                                                                                }
                                                                                                
                                                                                                var threedropthaitohkencost    = threedropthaitohken_chk;
                                                                                                var threedropthaitohkenedit    = threedropthaitohkenedit_chk;
                                                                                                
                                                                                                // if (value == '1') {
                                                                                                //     document.getElementById('text_OT360').value = '360';
                                                                                                //     document.getElementById('text_OT360VALUE').value = '1';
                                                                                                    
                                                                                                // }else if (value == '2'){
                                                                                                //     document.getElementById('text_OT360').value = '720';
                                                                                                //     document.getElementById('text_OT360VALUE').value = '2';
                                                                                                // }else if (value == '3'){
                                                                                                //     document.getElementById('text_OT360').value = '1080'; 
                                                                                                //     document.getElementById('text_OT360VALUE').value = '3';    
                                                                                                // }else{
                                                                                                //     document.getElementById('text_OT360').value = '';
                                                                                                //     document.getElementById('text_OT360VALUE').value = '';
                                                                                                // }

                                                                                                // var sumall48load360 = parseInt(all48load360)+parseInt(ot180)+parseInt(ot360)
                                                                                                // document.getElementById('txt_compensationall').value = sumall48load360;
                                                                                                // // alert(sumall48load360);
                                                                                                
                                                                                                //OTHER
                                                                                                // $.ajax({
                                                                                                //     url: 'meg_data.php',
                                                                                                //     type: 'POST',
                                                                                                //     data: {
                                                                                                //         txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_orthermoney').value, ID: ID2, fieldname: 'OTHER'
                                                                                                //     },
                                                                                                //     success: function () {


                                                                                                //     }
                                                                                                // });

                                                                                                //COMPENSATION1
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation1').value, ID: ID2, fieldname: 'COMPENSATION1'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });


                                                                                                // SELECT_4LOAD1
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: threedropthaitohkencost, ID: ID2, fieldname: 'SELECT_8LOAD1'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                
                                                                                                // PAY_4LOAD1REMARK
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: threedropthaitohkenedit, ID: ID2, fieldname: 'PAY_8LOAD1REMARK'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });

                                                                                                // COMPENSATION
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });
                                                                                            
                                                                                                // TOTALCOMPEN
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'TOTALCOMPEN'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });
                                                                                            
                                                                                            }
                                                                                            

                                                                                        }
                                                                                        function select_multiskills(ID, ID2){
                                                                                            // <!-- รถสายงาน RKS จะใช้ Column SELECT_4LOAD1 และ PAY_4LOAD1REMARK ในการคิดค่าเที่ยวเพิ่มเติมสำหรับ พนักงานคนที่ 1 กรณีเป็น Trainner-->
                                                                                            // alert('OT360');
                                                                                            // alert(value);
                                                                                            // var e1 = (document.getElementById('txt_compensation1').value != "") ? document.getElementById('txt_compensation1').value : 0;
                                                                                            // var e2 = (document.getElementById('txt_compensation2').value != "") ? document.getElementById('txt_compensation2').value : 0;
                                                                                            // var e3 = (document.getElementById('txt_compensation3').value != "") ? document.getElementById('txt_compensation3').value : 0;
                                                                                            var compensation    = (document.getElementById('txt_compensation').value != "") ? document.getElementById('txt_compensation').value : 0;
                                                                                            var othermoney      = (document.getElementById('txt_orthermoney').value != "") ? document.getElementById('txt_orthermoney').value : 0;
                                                                                            var specialemp2     = (document.getElementById('txt_specialemp2').value != "") ? document.getElementById('txt_specialemp2').value : 0;
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_multiskill.checked == true){
                                                                                                var multiskills_chk = (document.getElementById('chk_multiskill').value != "") ? document.getElementById('chk_multiskill').value : 0;
                                                                                                var multiskillsedit_chk = 'กรณีเป็นพนักงาน Multiskills ปรับเพิ่ม 200 บาท';
                                                                                                // document.getElementById('txt_compensation').value = parseInt(compensation)+100; 
                                                                                                document.getElementById('txt_compensation').value = 0;
                                                                                                document.getElementById('txt_orthermoney').value = parseInt(othermoney)+200; 
                                                                                                document.getElementById('txt_specialemp2').value = parseInt(specialemp2)+200; 
                                                                                                // alert("Trainner Check");
                                                                                                // alert(compensation);

                                                                                            }else{
                                                                                                // alert('1');
                                                                                                var multiskills_chk = '';
                                                                                                var multiskillsedit_chk = '';
                                                                                                
                                                                                                //เช็คถ้า รายได้อื่นๆ เท่ากับ 0 
                                                                                                if (othermoney == '0') {
                                                                                                    document.getElementById('txt_compensation').value = 0;
                                                                                                    document.getElementById('txt_orthermoney').value  = 0;
                                                                                                    document.getElementById('txt_specialemp2').value  = 0;
                                                                                                }else{
                                                                                                    document.getElementById('txt_compensation').value = 0;
                                                                                                    document.getElementById('txt_orthermoney').value  = parseInt(othermoney)-200; 
                                                                                                    document.getElementById('txt_specialemp2').value  = parseInt(othermoney)-200;
                                                                                                }
                                                                                                
                                                                                               
                                                                                                
                                                                                               
                                                                                                // alert("Trainner UnCheck");
                                                                                                // alert(compensation);
                                                                                            }
                                                                                            
                                                                                            var multiskillscost = multiskills_chk;
                                                                                            var multiskillsedit = multiskillsedit_chk;
                                                                                            
                                                                                            // C5 ข้อมูลรายได้อื่นๆที่เลือก MULTI SKILL 200บาท จะใช้ช่อง C5 ในแผนการขนส่งสำหรับบันทึกข้อมูล
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_specialemp2').value, ID: ID, fieldname: 'C5'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            //OTHER
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_orthermoney').value, ID: ID2, fieldname: 'OTHER'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            
                                                                                            //SELECT_8LOAD2
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: multiskillscost, ID: ID2, fieldname: 'SELECT_8LOAD2'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            //PAY_8LOAD2REMARK
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: multiskillsedit, ID: ID2, fieldname: 'PAY_8LOAD2REMARK'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });

                                                                                            //COMPENSATION
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });
                                                                                            
                                                                                            //TOTALCOMPEN
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'TOTALCOMPEN'
                                                                                                },
                                                                                                success: function () {
                                                                                                    

                                                                                                }
                                                                                            });

                                                                                        }
                                                                                        function check_pallet(id, jobstart, jobend, cluster)
                                                                                        {
                                                                                            if (document.getElementById("rb_kit" + id).checked == true) {

                                                                                                document.getElementById("txt_documentpallet" + id).disabled = true;
                                                                                                document.getElementById("txt_documentpallet" + id).value = '000001';
                                                                                                edit_vehicletransportdocumentdriverpallet(document.getElementById("txt_documentpallet" + id).value, 'DOCUMENTCODE_PALLET', id, jobstart, jobend, cluster, document.getElementById("txt_documentpallet" + id).value);

                                                                                            }
                                                                                            if (document.getElementById("rb_tkb" + id).checked == true) {

                                                                                                document.getElementById("txt_documentpallet" + id).disabled = true;
                                                                                                document.getElementById("txt_documentpallet" + id).value = '000002';
                                                                                                edit_vehicletransportdocumentdriverpallet(document.getElementById("txt_documentpallet" + id).value, 'DOCUMENTCODE_PALLET', id, jobstart, jobend, cluster, document.getElementById("txt_documentpallet" + id).value);

                                                                                            }
                                                                                            if (document.getElementById("rb_other" + id).checked == true) {

                                                                                                document.getElementById("txt_documentpallet" + id).disabled = false;
                                                                                                document.getElementById("txt_documentpallet" + id).value = '';
                                                                                                edit_vehicletransportdocumentdriverpallet(document.getElementById("txt_documentpallet" + id).value, 'DOCUMENTCODE_PALLET', id, jobstart, jobend, cluster, document.getElementById("txt_documentpallet" + id).value);

                                                                                            }
                                                                                        }

                                                                                        function show_materialtype(vehicletransportplanid)
                                                                                        {
                                                                                            document.getElementById('txt_vehicletransportplanid').value = vehicletransportplanid;
                                                                                        }
                                                                                        function select_materialtype()
                                                                                        {
                                                                                            $('.selectpicker').on('changed.bs.select', function () {
                                                                                                document.getElementById('txt_materialtype').value = $(this).val();

                                                                                            });


                                                                                        }

                                                                                        function confrimjob0(VEHICLETRANSPORTPLANDENSODISID)
                                                                                        {


                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "confrimjob", VEHICLETRANSPORTPLANDENSODISID: VEHICLETRANSPORTPLANDENSODISID, EDITTABLEOBJ: '0'
                                                                                                },
                                                                                                success: function () {

                                                                                                }
                                                                                            });



                                                                                        }
                                                                                        function confrimjob1(VEHICLETRANSPORTPLANDENSODISID)
                                                                                        {


                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "confrimjob", VEHICLETRANSPORTPLANDENSODISID: VEHICLETRANSPORTPLANDENSODISID, EDITTABLEOBJ: '1'
                                                                                                },
                                                                                                success: function () {

                                                                                                }
                                                                                            });



                                                                                        }
                                                                                        function update_confrimjob(vehicletransportplanid)
                                                                                        {

                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "modal_confrimjob", vehicletransportplanid: vehicletransportplanid
                                                                                                },
                                                                                                success: function (response) {
                                                                                                    if (response)
                                                                                                    {
                                                                                                        document.getElementById("confrimjob").innerHTML = response;
                                                                                                    }
                                                                                                }
                                                                                            });


                                                                                        }

                                                                                        function reload()
                                                                                        {
                                                                                            location.reload();
                                                                                        }
                                                                                        function save_mileagevalue(mileageid, vehicleregisternumber1, jobno, editableObj, mileagetype, price, roundamount, companycode)
                                                                                        {
                                                                                            var createby = '<?=$_SESSION["USERNAME"]?>';
                                                                                            // alert(roundamount);
                                                                                            // alert(createby);
                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "save_mileage", 
                                                                                                    mileageid: mileageid, 
                                                                                                    vehicleregisternumber1: vehicleregisternumber1, 
                                                                                                    jobno: jobno, 
                                                                                                    editableObj: editableObj, 
                                                                                                    mileagetype: mileagetype, 
                                                                                                    roundamount: roundamount,
                                                                                                    createby: createby
                                                                                                },
                                                                                                success: function () {

                                                                                                    

                                                                                                }
                                                                                            });
                                                                                            
                                                                                           
                                                                                            update_mileageEM(vehicleregisternumber1,editableObj);
                                                                                            update_mileageEM(vehicleregisternumber1,editableObj);
                                                                                            select_oilmonny(price, '', '', companycode);

                                                                                        }
																						function update_mileageEM(vehicleregisternumber1,editableObj)
                                                                                        {

                                                                                            // alert(vehicleregisternumber1);
                                                                                            //  alert(editableObj);
                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data2.php',
                                                                                                data: {
                                                                                                     txt_flg: "update_mileageEM",
                                                                                                     condition: '', 
                                                                                                     vehicleregisternumber1:vehicleregisternumber1, 
                                                                                                     jobno: '', 
                                                                                                     mileagenumber: editableObj, 
                                                                                                     mileagetype: '', 
                                                                                                     roundamount: ''
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                          
                                                                                        }
                                                                                        function edit_vehicletransportplan(editableObj, fieldname, ID)
                                                                                        {



                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: editableObj, ID: ID, fieldname: fieldname
                                                                                                },
                                                                                                success: function () {

                                                                                                }
                                                                                            });



                                                                                        }
                                                                                        function edit_vehicletransportplan_ee(ID, ID2)
                                                                                        {

                                                                                            var ee1 = (document.getElementById('txt_ee1').value != "") ? document.getElementById('txt_ee1').value : 0;
                                                                                            var ee2 = (document.getElementById('txt_ee2').value != "") ? document.getElementById('txt_ee2').value : 0;
                                                                                            var ee3 = (document.getElementById('txt_ee3').value != "") ? document.getElementById('txt_ee3').value : 0;
                                                                                            document.getElementById('txt_compensationsh').value = parseInt(ee1) + parseInt(ee2) + parseInt(ee3);

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_ee1').value, ID: ID, fieldname: 'E1SH'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_ee2').value, ID: ID, fieldname: 'E2SH'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_ee3').value, ID: ID, fieldname: 'E3SH'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });





                                                                                        }
                                                                                        function edit_vehicletransportplan_eempty(ID, ID2)
                                                                                        {

                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            var eempty1 = (document.getElementById('txt_eempty1').value != "") ? document.getElementById('txt_eempty1').value : 0;
                                                                                            var eempty2 = (document.getElementById('txt_eempty2').value != "") ? document.getElementById('txt_eempty2').value : 0;
                                                                                            var eempty3 = (document.getElementById('txt_eempty3').value != "") ? document.getElementById('txt_eempty3').value : 0;
                                                                                            document.getElementById('txt_compensation').value = parseInt(e1) + parseInt(e2) + parseInt(e3) + parseInt(eempty1) + parseInt(eempty2) + parseInt(eempty3);




                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_eempty1').value, ID: ID, fieldname: 'EEMPTY1'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_eempty2').value, ID: ID, fieldname: 'EEMPTY2'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_eempty3').value, ID: ID, fieldname: 'EEMPTY3'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_eempty1').value, ID: ID2, fieldname: 'COMPENSATIONEMPTY1'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_eempty2').value, ID: ID2, fieldname: 'COMPENSATIONEMPTY2'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_eempty3').value, ID: ID2, fieldname: 'COMPENSATIONEMPTY3'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });




                                                                                        }
                                                                                        function edit_vehicletransportplan_e(ID, ID2,COMPANYCODE)
                                                                                        {
                                                                                            // alert(ID);
                                                                                            // alert(ID2);
                                                                                            // alert(COMPANYCODE);

                                                                                                if (COMPANYCODE == 'RCC' || COMPANYCODE == 'RATC') {
                                                                                                    clearchk4load8loadall();
                                                                                                    
                                                                                                    var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                                    var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                                    var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                                    var eempty1 = (document.getElementById('txt_eempty1').value != "") ? document.getElementById('txt_eempty1').value : 0;
                                                                                                    var eempty2 = (document.getElementById('txt_eempty2').value != "") ? document.getElementById('txt_eempty2').value : 0;
                                                                                                    var eempty3 = (document.getElementById('txt_eempty3').value != "") ? document.getElementById('txt_eempty3').value : 0;
                                                                                                    document.getElementById('txt_compensation').value = parseInt(e1) + parseInt(eempty1) + parseInt(eempty2) + parseInt(eempty3);
                                                                                                    document.getElementById('txt_compensationall').value = parseInt(e1)  + parseInt(eempty1) + parseInt(eempty2) + parseInt(eempty3);
                                                                                                }else{

                                                                                                
                                                                                                
                                                                                                    // alert(ID);
                                                                                                    var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                                    var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                                    var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                                    var eempty1 = (document.getElementById('txt_eempty1').value != "") ? document.getElementById('txt_eempty1').value : 0;
                                                                                                    var eempty2 = (document.getElementById('txt_eempty2').value != "") ? document.getElementById('txt_eempty2').value : 0;
                                                                                                    var eempty3 = (document.getElementById('txt_eempty3').value != "") ? document.getElementById('txt_eempty3').value : 0;
                                                                                                    document.getElementById('txt_compensation').value = parseInt(e1) + parseInt(e2) + parseInt(e3) + parseInt(eempty1) + parseInt(eempty2) + parseInt(eempty3);
                                                                                                    // document.getElementById('txt_compensationall').value = parseInt(e1) + parseInt(e2) + parseInt(e3) + parseInt(eempty1) + parseInt(eempty2) + parseInt(eempty3);
                                                                                                 }

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "updatevehicletransportplan_getwaye1", ID: ID, e1: document.getElementById('txt_e1').value
                                                                                                    },
                                                                                                    success: function (rs) {
                                                                                                        document.getElementById('txt_ot1').value = rs;

                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "updatevehicletransportplan_getwaye2", ID: ID, e2: document.getElementById('txt_e2').value
                                                                                                    },
                                                                                                    success: function (rs) {
                                                                                                        document.getElementById('txt_ot2').value = rs;

                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "updatevehicletransportplan_getwaye3", ID: ID, e3: document.getElementById('txt_e3').value
                                                                                                    },
                                                                                                    success: function (rs) {

                                                                                                        document.getElementById('txt_ot3').value = rs;

                                                                                                    }
                                                                                                });


                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_e1').value, ID: ID, fieldname: 'E1'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_e2').value, ID: ID, fieldname: 'E2'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_e3').value, ID: ID, fieldname: 'E3'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_e1').value, ID: ID2, fieldname: 'COMPENSATION1'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_e2').value, ID: ID2, fieldname: 'COMPENSATION2'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_e3').value, ID: ID2, fieldname: 'COMPENSATION3'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: document.getElementById('txt_compensation').value, ID: ID2, fieldname: 'COMPENSATION'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        

                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value,editableObj: e1, fieldname: 'TOTALCOMPEN'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value,editableObj: e1, fieldname: 'TOTALNET'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                            
                                                                                        }
                                                                                        function clearchk4load8loadall(){
                                                                                            // alert('clear all');
                                                                                            // กรณีที่เปลี่ยนค่าเที่ยวจะต้องเช็คเงื่อนไข 4LOAD และ 8LOAD ใหม่
                                                                                            document.getElementById("chk_4load1").checked = false;
                                                                                            document.getElementById("chk_4load2").checked = false;
                                                                                            document.getElementById("chk_4load4").checked = false;
                                                                                            document.getElementById("chk_4load5").checked = false;
                                                                                            document.getElementById("chk_4load6").checked = false;
                                                                                            document.getElementById("chk_8load3").checked = false;
                                                                                            document.getElementById("chk_8load5").checked = false;
                                                                                            document.getElementById("chk_8load6").checked = false;
                                                                                            document.getElementById("chk_OT15").checked = false;
                                                                                            document.getElementById("chk_OT180").checked = false;
                                                                                            document.getElementById("text_OT180VALUE").value = '';
                                                                                            document.getElementById("text_OT180").value = '';
                                                                                            document.getElementById("se_OT360").value = '0';
                                                                                            document.getElementById("text_OT360VALUE").value = '';
                                                                                            document.getElementById("text_OT360").value = '';

                                                                                            // clear data ในเงื่อนไขการเลือก 4load ,8load 
                                                                                           // กรณีที่เปลี่ยนค่าเที่ยวจะต้องเช็คเงื่อนไข 4LOAD(1,2,4,5,6) และ 8LOAD (3,5,6) และ OT1.5 ใหม่
                                                                                            $.ajax({
                                                                                                url: 'meg_data2.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    // เช็ค editobj และ feildname แต่ไม้ได้ใช้งานใน Stored
                                                                                                    txt_flg: "edit_vehicletransportdocumentclear4load8loadall", ID: document.getElementById('txt_vehicletransportplainid').value,editableObj: 'clearall', fieldname: 'clearall'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                        }
                                                                                        function clearchk4load8loadallwhenOT15chk(){
                                                                                            // alert('clear all OT15');
                                                                                            // กรณีที่เปลี่ยนค่าเที่ยวจะต้องเช็คเงื่อนไข 4LOAD และ 8LOAD ใหม่
                                                                                            document.getElementById("chk_4load1").checked = false;
                                                                                            document.getElementById("chk_4load2").checked = false;
                                                                                            document.getElementById("chk_4load4").checked = false;
                                                                                            document.getElementById("chk_4load5").checked = false;
                                                                                            document.getElementById("chk_4load6").checked = false;
                                                                                            document.getElementById("chk_8load3").checked = false;
                                                                                            document.getElementById("chk_8load5").checked = false;
                                                                                            document.getElementById("chk_8load6").checked = false;
                                                                                            document.getElementById("chk_OT180").checked = false;
                                                                                            document.getElementById("text_OT180VALUE").value = '';
                                                                                            document.getElementById("text_OT180").value = '';
                                                                                            document.getElementById("se_OT360").value = '0';
                                                                                            document.getElementById("text_OT360VALUE").value = '';
                                                                                            document.getElementById("text_OT360").value = '';
                                                                                            
                                                                                            // clear data ในเงื่อนไขการเลือก 4load ,8load 
                                                                                           // กรณีที่เปลี่ยนค่าเที่ยวจะต้องเช็คเงื่อนไข 4LOAD(1,2,4,5,6) และ 8LOAD (3,5,6) และ OT1.5 ใหม่
                                                                                            $.ajax({
                                                                                                url: 'meg_data2.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    // เช็ค editobj และ feildname แต่ไม้ได้ใช้งานใน Stored
                                                                                                    txt_flg: "edit_vehicletransportdocumentclearclearchk4load8loadallwhenOT15chk", ID: document.getElementById('txt_vehicletransportplainid').value,editableObj: 'clearall', fieldname: 'clearall'
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });

                                                                                            

                                                                                        }
                                                                                        function select_oilmonny(price, vehicletransportplanid, cartype, companycode)
                                                                                        {

                                                                                            // alert(price);
                                                                                            // alert(vehicletransportplanid);
                                                                                            // alert(cartype);
                                                                                            // alert(companycode);
                                                                                            var rs_oil = "";
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "calculator_oilmonny", vehicletransportplanid: vehicletransportplanid, cartype: cartype, mileageend: document.getElementById('txt_mileageend').value, mileagestart: document.getElementById('txt_mileagestart').value, oilaverage: document.getElementById('txt_oilaverage').value, oil: document.getElementById('txt_oil').value, companycode: companycode
                                                                                                },
                                                                                                success: function (rs) {
                                                                                                    rs_oil = rs;

                                                                                                    // alert(parseFloat(rs_oil).toFixed(0));

                                                                                                    document.getElementById('txt_oilmonny').value = ((parseFloat(rs_oil).toFixed(0)) * parseInt(price)).toFixed(2);

                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {

                                                                                                            txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OILAVERAGE', editableObj: ((parseFloat(rs_oil).toFixed(2)) * parseInt(price)).toFixed(2)
                                                                                                        },
                                                                                                        success: function () {


                                                                                                        }
                                                                                                    });

                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'C3', editableObj: ((parseFloat(rs_oil).toFixed(2)) * parseInt(price)).toFixed(2)
                                                                                                        },
                                                                                                        success: function () {


                                                                                                        }
                                                                                                    });
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'O4', editableObj: document.getElementById('txt_oil').value
                                                                                                        },
                                                                                                        success: function () {


                                                                                                        }
                                                                                                    });


                                                                                                }
                                                                                            });



                                                                                        }
                                                                                        function select_RETURN(value,empchk,poschk,documentdriverid){
                                                                                            // alert('OT360');
                                                                                            // alert(value);
                                                                                            // alert(empchk);
                                                                                            // alert(poschk);
                                                                                            // alert(documentdriverid);

                                                                                            // ค่าเที่ยวปกติ
                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            
                                                                                            // ค่างานรับกลับ
                                                                                            var return1 = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;
                                                                                            var return2 = (document.getElementById('txt_returnprice2').value != "") ? document.getElementById('txt_returnprice2').value : 0;
                                                                                            
                                                                                            
                                                                                            // ถ้าเลือกจำนวนรับกลับ Update OT1.5 CHECK = false และ clear value
                                                                                            document.getElementById("chk_OT15").checked = false;
                                                                                            document.getElementById("txt_compensationOT15").value = '';
                                                                                            
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_4load1.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load41 = ((document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0)/2;
                                                                                                }else{
                                                                                                    var load41 = (document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0;
                                                                                                }

                                                                                                // alert(load41);
                                                                                            }else{
                                                                                                var load41 = '0';
                                                                                                // alert(load41);
                                                                                            }
                                                                                            //chk4load2 ข้อที่2
                                                                                            if(chk_4load2.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load42 = ((document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0)/2;
                                                                                                }else{
                                                                                                    var load42 = (document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0;
                                                                                                }

                                                                                                // alert(load42);
                                                                                            }else{
                                                                                                var load42 = '0';
                                                                                                // alert(load42);
                                                                                            }
                                                                                            //chk4load4 ข้อที่3
                                                                                            if(chk_4load4.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load44 = ((document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0)/2;
                                                                                                }else{
                                                                                                    var load44 = (document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0;
                                                                                                }

                                                                                                // alert(load44);
                                                                                            }else{
                                                                                                var load44 = '0';
                                                                                                // alert(load44);
                                                                                            }
                                                                                            //chk4load5 ข้อที่4
                                                                                            if(chk_4load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load45 = ((document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0)/2;
                                                                                                }else{ 
                                                                                                    var load45 = (document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0;
                                                                                                }

                                                                                                // alert(load45);
                                                                                            }else{
                                                                                                var load45 = '0';
                                                                                                // alert(load45);
                                                                                            }
                                                                                            //chk4load6 ข้อที่5
                                                                                            if(chk_4load6.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load46 = Math.ceil((e1/2)/2);
                                                                                                }else{
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }

                                                                                                // alert(load46);
                                                                                            }else{
                                                                                                var load46 = '0';
                                                                                                // alert(load46);
                                                                                            }
                                                                                            //chk8load3 ข้อที่1
                                                                                            if(chk_8load3.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load83 = ((document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0)/2;
                                                                                                }else{
                                                                                                    var load83 = (document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0;
                                                                                                }

                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load83 = '0';
                                                                                                // alert(load83);
                                                                                            }
                                                                                             //chk8load5 ข้อที่2 
                                                                                             if(chk_8load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load85 = Math.ceil((e1/2)/2);
                                                                                                }else{
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load85);
                                                                                            }else{
                                                                                                var load85 = '0';
                                                                                                // alert(load85);
                                                                                            }
                                                                                            //chk8load6 ข้อที่1
                                                                                            if(chk_8load6.checked == true){
                                                                                                var load86 = (document.getElementById('chk_8load6').value != "") ? document.getElementById('chk_8load6').value : 0;
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load86 = '0';
                                                                                                // alert(load83);
                                                                                            }

                                                                                            // all48load คือ ผลรวมของการเลือก OT1.5  ผลรวมสุทธิ
                                                                                            if ((chk_OT15.checked == true)) {
                                                                                                var all48load360 =  ((parseInt(e1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86))*(1.5));
                                                                                            }else{
                                                                                            
                                                                                                var all48load360 =  ((parseInt(e1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86)));
                                                                                            }
                                                                                           
                                                                                            //เช็ค OT180 
                                                                                            if (chk_OT180.checked == true) {
                                                                                                // alert('check');
                                                                                                var ot180 = 180;
                                                                                                
                                                                                            }else{
                                                                                                // alert('not check');
                                                                                                var ot180 = 0;
                                                                                            }

                                                                                            //เช็ค OT360
                                                                                            var ot360 = (360 * document.getElementById('text_OT360').value);

                                                                                             

                                                                                            //เช็คราคาของรถรับกลับ และ จำนวนคัน
                                                                                            var returnprice_chk = (150*value);
                                                                                            var returnamount = value;
                                                                                            // alert(all48load360);
                                                                                            // alert(ot180);
                                                                                            // alert(ot360);

                                                                                            // เช็คค่าเที่ยวกรณีงานรับกลับ 
                                                                                            // วิ่งคู่หาร 2
                                                                                            if (empchk == '2' && poschk == 'F') {
                                                                                                
                                                                                                // alert('return1');
                                                                                                document.getElementById('txt_returnprice1').value = (returnprice_chk/2);
                                                                                                document.getElementById('txt_returnprice2').value = (returnprice_chk/2);

                                                                                                var returnprice = (returnprice_chk/2);
                                                                                                var returnprice1 = (returnprice_chk/2);
                                                                                                var returnprice2 = (returnprice_chk/2);
                                                                                            }else{
                                                                                                // alert('return2');
                                                                                                document.getElementById('txt_returnprice1').value = (returnprice_chk);

                                                                                                var returnprice  = returnprice_chk;
                                                                                                var returnprice1 = (returnprice_chk);
                                                                                                var returnprice2 = '';
                                                                                            }

                                                                                            if (value == '1') {
                                                                                                document.getElementById('text_RETURN').value = '150';
                                                                                                document.getElementById('text_RETURNVALUE').value = '1';
                                                                                            }else if (value == '2'){
                                                                                                document.getElementById('text_RETURN').value = '300';
                                                                                                document.getElementById('text_RETURNVALUE').value = '2';
                                                                                            }else if (value == '3'){
                                                                                                document.getElementById('text_RETURN').value = '450'; 
                                                                                                document.getElementById('text_RETURNVALUE').value = '3';    
                                                                                            }else if (value == '4'){
                                                                                                document.getElementById('text_RETURN').value = '600'; 
                                                                                                document.getElementById('text_RETURNVALUE').value = '4';    
                                                                                            }else if (value == '5'){
                                                                                                document.getElementById('text_RETURN').value = '750'; 
                                                                                                document.getElementById('text_RETURNVALUE').value = '5';    
                                                                                            }else if (value == '6'){
                                                                                                document.getElementById('text_RETURN').value = '900'; 
                                                                                                document.getElementById('text_RETURNVALUE').value = '6';    
                                                                                            }else if (value == '7'){
                                                                                                document.getElementById('text_RETURN').value = '1050'; 
                                                                                                document.getElementById('text_RETURNVALUE').value = '7';    
                                                                                            }else if (value == '8'){
                                                                                                document.getElementById('text_RETURN').value = '1200'; 
                                                                                                document.getElementById('text_RETURNVALUE').value = '8';    
                                                                                            }else{
                                                                                                document.getElementById('text_RETURN').value = '';
                                                                                                document.getElementById('text_RETURNVALUE').value = '';
                                                                                            }

                                                                                            var compensation = parseInt(e1)+parseInt(returnprice);
                                                                                            var sumall48load360 = parseInt(returnprice)+parseInt(all48load360)+parseInt(ot180)+parseInt(ot360);
                                                                                           
                                                                                            
                                                                                            
                                                                                            document.getElementById('txt_compensationall').value = sumall48load360;
                                                                                            document.getElementById('txt_compensation').value = compensation;
                                                                                            // alert(sumall48load360);

                                                                                            // alert(returnprice1);
                                                                                            // alert(returnprice2);
                                                                                            //  insert compensation ,compensation1,compensation 2 ลงในตาราง vehicletransportdocumentdriver
                                                                                            // ใช้ meg_data 2 ในการอัพเดท
                                                                                            $.ajax({
                                                                                                url: 'meg_data2.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_documentdriver_returncase", 
                                                                                                    PLAN_ID: document.getElementById('txt_vehicletransportplainid').value,
                                                                                                    DOCUMENTDRIVER_ID:documentdriverid,
                                                                                                    COMPENSATION: compensation, 
                                                                                                    COMPENSATION1: e1, 
                                                                                                    COMPENSATION2: e2,
                                                                                                    RETURNPRICE1: returnprice1,
                                                                                                    RETURNPRICE2: returnprice2
                                                                                                },
                                                                                                success: function (rs) {
                                                                                                    // alert(rs);
                                                                                                    
                                                                                                }
                                                                                            });

                                                                                            // insert ข้อมูล RETURNCHK ค่าขนส่งงานรับกลับ
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'RETURNCHK', editableObj: returnprice_chk
                                                                                                },
                                                                                                success: function (rs) {
                                                                                                    // alert(rs);
                                                                                                    
                                                                                                }
                                                                                            });

                                                                                            // UPDATE ข้อมูล OT15CHK ค่า OT15
                                                                                            // $.ajax({
                                                                                            //     url: 'meg_data.php',
                                                                                            //     type: 'POST',
                                                                                            //     data: {
                                                                                            //         txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT15CHK', editableObj: '0'
                                                                                            //     },
                                                                                            //     success: function (rs) {
                                                                                            //         // alert(rs);
                                                                                                    
                                                                                            //     }
                                                                                            // });

                                                                                            // insert ข้อมูล C2 จำนวนคันของงานรับกลับ
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'C2', editableObj: returnamount
                                                                                                },
                                                                                                success: function (rs) {
                                                                                                    // alert(rs);
                                                                                                    
                                                                                                }
                                                                                            });

                                                                                            // insert ข้อมูล TOTALNET 
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load360
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                    
                                                                                                }
                                                                                            });

                                                                                            // insert ข้อมูล TOTALCOMPEN 
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: sumall48load360
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                    
                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function select_OT180(customercode,empchk,poschk){
                                                                                            // alert('OT180')
                                                                                            //OT180CHK
                                                                                            // alert(customercode);
                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            
                                                                                            // ค่างานรับกลับ
                                                                                            var return1 = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;
                                                                                            var return_all = (document.getElementById('text_RETURN').value != "") ? document.getElementById('text_RETURN').value : 0;
                                                                                            
                                                                                            if (customercode == 'SKB') {
                                                                                                var load41 = '0';
                                                                                                var load42 = '0';
                                                                                                var load43 = '0';
                                                                                                var load44 = '0';
                                                                                                var load45 = '0';
                                                                                                var load46 = '0';
                                                                                                var load83 = '0';
                                                                                                var load85 = '0';
                                                                                                var load86 = '0';
                                                                                            }else{
                                                                                                    //chk4load1 ข้อที่1
                                                                                                if(chk_4load1.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load41 = ((document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0)/2;
                                                                                                    }else{
                                                                                                        var load41 = (document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0;
                                                                                                    }
                                                                                                    
                                                                                                    // alert(load41);
                                                                                                }else{
                                                                                                    var load41 = '0';
                                                                                                    // alert(load41);
                                                                                                }
                                                                                                //chk4load2 ข้อที่2
                                                                                                if(chk_4load2.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load42 = ((document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0)/2;
                                                                                                    }else{
                                                                                                        var load42 = (document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0;
                                                                                                    }
                                                                                                    // alert(load42);
                                                                                                }else{
                                                                                                    var load42 = '0';
                                                                                                    // alert(load42);
                                                                                                }
                                                                                                //chk4load4 ข้อที่3
                                                                                                if(chk_4load4.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load44 = ((document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0)/2;
                                                                                                    }else{
                                                                                                        var load44 = (document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0;
                                                                                                    }
                                                                                                    // alert(load44);
                                                                                                }else{
                                                                                                    var load44 = '0';
                                                                                                    // alert(load44);
                                                                                                }
                                                                                                //chk4load5 ข้อที่4
                                                                                                if(chk_4load5.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load45 = ((document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0)/2;
                                                                                                    }else{ 
                                                                                                        var load45 = (document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0;
                                                                                                    }
                                                                                                    // alert(load45);
                                                                                                }else{
                                                                                                    var load45 = '0';
                                                                                                    // alert(load45);
                                                                                                }
                                                                                                //chk4load6 ข้อที่5
                                                                                                if(chk_4load6.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load46 = Math.ceil((e1/2)/2);
                                                                                                    }else{
                                                                                                        var load46 = Math.ceil((e1/2));
                                                                                                    }
                                                                                                    // alert(load46);
                                                                                                }else{
                                                                                                    var load46 = '0';
                                                                                                    // alert(load46);
                                                                                                }
                                                                                                //chk8load3 ข้อที่1
                                                                                                if(chk_8load3.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load83 = ((document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0)/2;
                                                                                                    }else{
                                                                                                        var load83 = (document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0;
                                                                                                    }
                                                                                                    // alert(load83);
                                                                                                }else{
                                                                                                    var load83 = '0';
                                                                                                    // alert(load83);
                                                                                                }
                                                                                                //chk8load5 ข้อที่2 
                                                                                                if(chk_8load5.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load85 = Math.ceil((e1/2)/2);
                                                                                                    }else{
                                                                                                        var load85 = Math.ceil((e1/2));
                                                                                                    }
                                                                                                    // alert(load85);
                                                                                                }else{
                                                                                                    var load85 = '0';
                                                                                                    // alert(load85);
                                                                                                }
                                                                                                //chk8load6 ข้อที่1
                                                                                                if(chk_8load6.checked == true){
                                                                                                    var load86 = (document.getElementById('chk_8load6').value != "") ? document.getElementById('chk_8load6').value : 0;
                                                                                                    // alert(load83);
                                                                                                }else{
                                                                                                    var load86 = '0';
                                                                                                    // alert(load83);
                                                                                                }
                                                                                            }
                                                                                            

                                                                                            // all48load คือ ผลรวมของการเลือก OT1.5 และเงินบวก 180,360 หรือ ผลรวมสุทธิ
                                                                                            // ถ้ามีการเลือก OT1.5 และมีงานรับกลับจะใช้ จำนวนเงินรวมของงานรับกลับมาคิด ถ้ามี พขร.2 คนจะ ใช้ งานรับกลับที่ หารแล้วมาคิด
                                                                                            if ((chk_OT15.checked == true)) {
                                                                                                var all48load180 =  ((parseInt(e1) + parseInt(return1)  + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86))*(1.5));
                                                                                            }else{
                                                                                                var all48load180 =  ((parseInt(e1) + parseInt(return1)  + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86)));
                                                                                            }
                                                                                            

                                                                                            if (chk_OT180.checked == true) {
                                                                                                // alert('check');
                                                                                                var ot180 = 180;
                                                                                                document.getElementById('text_OT180').value = '180';
                                                                                                document.getElementById('text_OT180VALUE').value = '1';
                                                                                            }else{
                                                                                                // alert('not check');
                                                                                                var ot180 = 0;
                                                                                                document.getElementById('text_OT180').value = '';
                                                                                                document.getElementById('text_OT180VALUE').value = '';
                                                                                            }
                                                                                            
                                                                                            // alert(all48load180);
                                                                                            var ot360chk =  document.getElementById('se_OT360').value;
                                                                                            // alert(ot360chk);
                                                                                            //ค่า OT360
                                                                                            if (ot360chk == '0' || ot360chk == 'NaN' ) {
                                                                                                var ot360 = 0;
                                                                                            }else{
                                                                                                var ot360 = (ot360chk * 360);
                                                                                            }

                                                                                            
                                                                                            // document.getElementById('text_OT180VALUE').value = '1';
                                                                                            var sumall48load = parseInt(Math.ceil(all48load180))+parseInt(ot180)+parseInt(ot360);
                                                                                            // alert(returnprice);
                                                                                            document.getElementById('txt_compensationall').value = sumall48load;
                                                                                            // alert(sumall48load180);
                                                                                            
                                                                                            

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT180CHK', editableObj: ot180
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                    
                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                    
                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function select_OT360(value,customercode,empchk,poschk){
                                                                                            // alert('OT360');
                                                                                            // alert(value);
                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            
                                                                                            // ค่างานรับกลับ
                                                                                            var return1 = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;
                                                                                            var return_all = (document.getElementById('text_RETURN').value != "") ? document.getElementById('text_RETURN').value : 0;
                                                                                            
                                                                                            if (customercode == 'SKB') {
                                                                                                var load41 = '0';
                                                                                                var load42 = '0';
                                                                                                var load43 = '0';
                                                                                                var load44 = '0';
                                                                                                var load45 = '0';
                                                                                                var load46 = '0';
                                                                                                var load83 = '0';
                                                                                                var load85 = '0';
                                                                                                var load86 = '0';
                                                                                            }else{
                                                                                                //chk4load1 ข้อที่1
                                                                                                if(chk_4load1.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load41 = ((document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0)/2;
                                                                                                    }else{
                                                                                                        var load41 = (document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0;
                                                                                                    }
                                                                                                    // alert(load41);
                                                                                                }else{
                                                                                                    var load41 = '0';
                                                                                                    // alert(load41);
                                                                                                }
                                                                                                //chk4load2 ข้อที่2
                                                                                                if(chk_4load2.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load42 = ((document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0)/2;
                                                                                                    }else{
                                                                                                        var load42 = (document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0;
                                                                                                    }
                                                                                                    // alert(load42);
                                                                                                }else{
                                                                                                    var load42 = '0';
                                                                                                    // alert(load42);
                                                                                                }
                                                                                                //chk4load4 ข้อที่3
                                                                                                if(chk_4load4.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load44 = ((document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0)/2;
                                                                                                    }else{
                                                                                                        var load44 = (document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0;
                                                                                                    }
                                                                                                    // alert(load44);
                                                                                                }else{
                                                                                                    var load44 = '0';
                                                                                                    // alert(load44);
                                                                                                }
                                                                                                //chk4load5 ข้อที่4
                                                                                                if(chk_4load5.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load45 = ((document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0)/2;
                                                                                                    }else{ 
                                                                                                        var load45 = (document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0;
                                                                                                    }
                                                                                                    // alert(load45);
                                                                                                }else{
                                                                                                    var load45 = '0';
                                                                                                    // alert(load45);
                                                                                                }
                                                                                                //chk4load6 ข้อที่5
                                                                                                if(chk_4load6.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load46 = Math.ceil((e1/2)/2);
                                                                                                    }else{
                                                                                                        var load46 = Math.ceil((e1/2));
                                                                                                    }
                                                                                                    // alert(load46);
                                                                                                }else{
                                                                                                    var load46 = '0';
                                                                                                    // alert(load46);
                                                                                                }
                                                                                                //chk8load3 ข้อที่1
                                                                                                if(chk_8load3.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load83 = ((document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0)/2;
                                                                                                    }else{
                                                                                                        var load83 = (document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0;
                                                                                                    }
                                                                                                    // alert(load83);
                                                                                                }else{
                                                                                                    var load83 = '0';
                                                                                                    // alert(load83);
                                                                                                }
                                                                                                //chk8load5 ข้อที่2 
                                                                                                if(chk_8load5.checked == true){
                                                                                                    if (empchk == '2' && poschk == 'F') {
                                                                                                        var load85 = Math.ceil((e1/2)/2);
                                                                                                    }else{
                                                                                                        var load85 = Math.ceil((e1/2));
                                                                                                    }
                                                                                                    // alert(load85);
                                                                                                }else{
                                                                                                    var load85 = '0';
                                                                                                    // alert(load85);
                                                                                                }
                                                                                                //chk8load6 ข้อที่1
                                                                                                if(chk_8load6.checked == true){
                                                                                                    var load86 = (document.getElementById('chk_8load6').value != "") ? document.getElementById('chk_8load6').value : 0;
                                                                                                    // alert(load83);
                                                                                                }else{
                                                                                                    var load86 = '0';
                                                                                                    // alert(load83);
                                                                                                }

                                                                                            }
                                                                                            

                                                                                            // all48load คือ ผลรวมของการเลือก OT1.5 และเงินบวก 180,360 หรือ ผลรวมสุทธิ
                                                                                            // ถ้ามีการเลือก OT1.5 และมีงานรับกลับจะใช้ จำนวนเงินรวมของงานรับกลับมาคิดจำนวนเงินรวมของงานรับกลับมาคิด ถ้ามี พขร.2 คนจะ ใช้ งานรับกลับที่ หารแล้วมาคิด
                                                                                            if ((chk_OT15.checked == true)) {
                                                                                                var all48load360 =  ((parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86))*(1.5));
                                                                                            }else{
                                                                                                var all48load360 =  ((parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86)));
                                                                                            }
                                                                                           // alert(all48load);
                                                                                           
                                                                                            //เช็ค OT180 
                                                                                            if (chk_OT180.checked == true) {
                                                                                                // alert('check');
                                                                                                var ot180 = 180;
                                                                                                
                                                                                            }else{
                                                                                                // alert('not check');
                                                                                                var ot180 = 0;
                                                                                            }

                                                                                            //เช็คOT360
                                                                                            var ot360 = (360*value);

                                                                                            // alert(all48load360);
                                                                                            // alert(ot180);
                                                                                            // alert(ot360);

                                                                                            if (value == '1') {
                                                                                                document.getElementById('text_OT360').value = '360';
                                                                                                document.getElementById('text_OT360VALUE').value = '1';
                                                                                                
                                                                                            }else if (value == '2'){
                                                                                                document.getElementById('text_OT360').value = '720';
                                                                                                document.getElementById('text_OT360VALUE').value = '2';
                                                                                            }else if (value == '3'){
                                                                                                document.getElementById('text_OT360').value = '1080'; 
                                                                                                document.getElementById('text_OT360VALUE').value = '3';    
                                                                                            }else{
                                                                                                document.getElementById('text_OT360').value = '';
                                                                                                document.getElementById('text_OT360VALUE').value = '';
                                                                                            }

                                                                                            var sumall48load360 = parseInt(Math.ceil(all48load360))+parseInt(ot180)+parseInt(ot360)
                                                                                            document.getElementById('txt_compensationall').value = sumall48load360;
                                                                                            // alert(sumall48load360);


                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT360CHK', editableObj: ot360
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                    
                                                                                                }
                                                                                            });

                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load360
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                    
                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function select_OT15(){
                                                                                            // alert('OT15');
                                                                                            // alert(value);
                                                                                            
                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var returnprice = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;

                                                                                            // alert(e1);
                                                                                            //  alert(returnprice);
                                                                                            if (chk_OT15.checked == true) {
                                                                                                // alert('check');
                                                                                                var ot15  = document.getElementById('txt_compensation').value = ((parseInt(e1)+parseInt(returnprice))*1.5);
                                                                                                document.getElementById('txt_compensation').value = parseInt(Math.ceil(ot15));
                                                                                                document.getElementById('txt_compensationall').value = parseInt(Math.ceil(ot15));
                                                                                                document.getElementById('txt_compensationOT15').value = (parseInt(Math.ceil(ot15))-(parseInt(e1)+parseInt(returnprice)));

                                                                                                // alert(Math.ceil(ot15));
                                                                                                $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT15CHK', editableObj: document.getElementById('txt_compensationOT15').value 
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                    
                                                                                                }
                                                                                                });
                                                                                                
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: Math.ceil(ot15)
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        
                                                                                                        
                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: Math.ceil(ot15)
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        
                                                                                                        
                                                                                                    }
                                                                                                });
                                                                                                clearchk4load8loadallwhenOT15chk();

                                                                                            }else{
                                                                                                // alert('not check');
                                                                                                // alert(e1);
                                                                                                var ot15  = document.getElementById('txt_compensation').value = '';
                                                                                                var compensation = (parseInt(e1)+parseInt(returnprice));
                                                                                                document.getElementById('txt_compensation').value = (parseInt(e1)+parseInt(returnprice));
                                                                                                document.getElementById('txt_compensationall').value = (parseInt(e1)+parseInt(returnprice));
                                                                                                document.getElementById('txt_compensationOT15').value = '0';

                                                                                                $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT15CHK', editableObj: ot15
                                                                                                },
                                                                                                success: function () {
                                                                                                    
                                                                                                    
                                                                                                }
                                                                                                });
                                                                                                
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: compensation
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        
                                                                                                        
                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: compensation
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        
                                                                                                        
                                                                                                    }
                                                                                                });
                                                                                                clearchk4load8loadallwhenOT15chk();

                                                                                            }
                                                                                        }
                                                                                        function select_4load1(price,empchk,poschk)
                                                                                        {
                                                                                            // alert('select_4load1');
                                                                                            // alert(price);
                                                                                            // alert(empchk);
                                                                                            // alert(poschk);

                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            
                                                                                            // ค่างานรับกลับ
                                                                                            var return1 = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;
                                                                                            var return_all = (document.getElementById('text_RETURN').value != "") ? document.getElementById('text_RETURN').value : 0;
                                                                                            
                                                                                            
                                                                                            
                                                                                            
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_4load1.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load41 = ((document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0)/2;
                                                                                                }else{
                                                                                                    var load41 = (document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load41);
                                                                                            }else{
                                                                                                var load41 = '0';
                                                                                                // alert(load41);
                                                                                            }
                                                                                            //chk4load2 ข้อที่2
                                                                                            if(chk_4load2.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load42 = ((document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0)/2;
                                                                                                }else{
                                                                                                    var load42 = (document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0;
                                                                                                }
                                                                                                // alert(load42);
                                                                                            }else{
                                                                                                var load42 = '0';
                                                                                                // alert(load42);
                                                                                            }
                                                                                            //chk4load4 ข้อที่3
                                                                                            if(chk_4load4.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load44 = ((document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0)/2;
                                                                                                }else{
                                                                                                    var load44 = (document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0;
                                                                                                }
                                                                                                // alert(load44);
                                                                                            }else{
                                                                                                var load44 = '0';
                                                                                                // alert(load44);
                                                                                            }
                                                                                            //chk4load5 ข้อที่4
                                                                                            if(chk_4load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load45 = ((document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0)/2;
                                                                                                }else{ 
                                                                                                    var load45 = (document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0;
                                                                                                }
                                                                                                // alert(load45);
                                                                                            }else{
                                                                                                var load45 = '0';
                                                                                                // alert(load45);
                                                                                            }
                                                                                            //chk4load6 ข้อที่5
                                                                                            if(chk_4load6.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }
                                                                                                
                                                                                                // alert(load46);
                                                                                            }else{
                                                                                                var load46 = '0';
                                                                                                // alert(load46);
                                                                                            }
                                                                                            //chk8load3 ข้อที่1
                                                                                            if(chk_8load3.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load83 = ((document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0)/2;
                                                                                                }else{
                                                                                                    var load83 = (document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load83 = '0';
                                                                                                // alert(load83);
                                                                                            }
                                                                                             //chk8load5 ข้อที่2 
                                                                                             if(chk_8load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }
                                                                                                
                                                                                                // alert(load85);
                                                                                            }else{
                                                                                                var load85 = '0';
                                                                                                // alert(load85);
                                                                                            }
                                                                                            //chk8load6 ข้อที่1
                                                                                            if(chk_8load6.checked == true){
                                                                                                var load86 = (document.getElementById('chk_8load6').value != "") ? document.getElementById('chk_8load6').value : 0;
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load86 = '0';
                                                                                                // alert(load83);
                                                                                            }

                                                                                            // all48load คือ ผลรวมของการเลือก OT1.5 และเงินบวก 180,360 หรือ ผลรวมสุทธิ
                                                                                            // ถ้ามีการเลือก OT1.5 และมีงานรับกลับจะใช้ จำนวนเงินรวมของงานรับกลับมาคิด กรณีวิ่ง 2 คนจะเอาเงินรับกลับที่หารแล้วมาคำนวณ
                                                                                            if (chk_OT15.checked == true) {
                                                                                                var all48load =  ((parseInt(e1) + parseInt(return1)  + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86))*(1.5));
                                                                                            }else{
                                                                                                var all48load =  (parseInt(e1) + parseInt(return1)  + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86));
                                                                                            }
                                                                                            
                                                                                            
                                                                                            // var ot180chk =  document.getElementById('text_OT180').value;
                                                                                            var ot360chk =  document.getElementById('se_OT360').value;
                                                                                            // alert(ot180chk);
                                                                                            //ค่า OT180
                                                                                            if (chk_OT180.checked == true) {
                                                                                                var ot180 = 180;
                                                                                            }else{
                                                                                                var ot180 = 0;
                                                                                            }
                                                                                            //ค่า OT360
                                                                                            if (ot360chk == '0' || ot360chk == 'NaN' ) {
                                                                                                var ot360 = 0;
                                                                                            }else{
                                                                                                var ot360 = (ot360chk * 360);
                                                                                            }

                                                                                            
                                                                                            var sumall48load = parseInt(Math.ceil(all48load))+parseInt(ot180)+parseInt(ot360);
                                                                                            // alert(ot360);
                                                                                            // alert(sumall48load);
                         
                                                                                            // document.getElementById("chk_4load2").checked = false;
                                                                                            // document.getElementById("chk_4load3").checked = false;
                                                                                            // document.getElementById("chk_4load4").checked = false;
                                                                                            // document.getElementById("chk_8load1").checked = false;
                                                                                            // document.getElementById("chk_8load3").checked = false;

                                                                                            var rs_oil = (((document.getElementById('txt_mileageend').value - document.getElementById('txt_mileagestart').value) / document.getElementById('txt_oilaverage').value) - document.getElementById('txt_oil').value);
                                                                                            
                                                                                            if (chk_4load1.checked == true) {
                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    // document.getElementById('txt_oilmonny').value = parseInt(price);
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }

                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = (parseInt(rs_oil) * parseInt(price));
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }

                                                                                                //document.getElementById('txt_payremark').value = 'กรณีขนส่งงานต่อเนื่องรอบที่ 2 ปรับเพิ่ม 50 บาท';

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT15CHK', editableObj: document.getElementById('txt_compensationOT15').value 
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        
                                                                                                        
                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_4LOAD1REMARK', editableObj: 'กรณีขนส่งงานต่อเนื่องรอบที่ 2 ปรับเพิ่ม 50 บาท'
                                                                                                    },
                                                                                                    success: function (rs) {
                                                                                                        // alert(rs);

                                                                                                    }
                                                                                                });
                                                                                                
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_4LOAD1', editableObj: '50'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                            } else
                                                                                            {
                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = parseInt(rs_oil) * parseInt(price);
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_4LOAD1REMARK', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_4LOAD1', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                            }



                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OILAVERAGE', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'C3', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'O4', editableObj: document.getElementById('txt_oil').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function select_4load2(price,empchk,poschk)
                                                                                        {
                                                                                            
                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            
                                                                                            // ค่างานรับกลับ
                                                                                            var return1 = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;
                                                                                            var return_all = (document.getElementById('text_RETURN').value != "") ? document.getElementById('text_RETURN').value : 0;
                                                                                            
                                                                                            
                                                                                            
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_4load1.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load41 = ((document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0)/2;
                                                                                                }else{
                                                                                                    var load41 = (document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load41);
                                                                                            }else{
                                                                                                var load41 = '0';
                                                                                                // alert(load41);
                                                                                            }
                                                                                            //chk4load2 ข้อที่2
                                                                                            if(chk_4load2.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load42 = ((document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0)/2;
                                                                                                }else{
                                                                                                    var load42 = (document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0;
                                                                                                }
                                                                                                // alert(load42);
                                                                                            }else{
                                                                                                var load42 = '0';
                                                                                                // alert(load42);
                                                                                            }
                                                                                            //chk4load4 ข้อที่3
                                                                                            if(chk_4load4.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load44 = ((document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0)/2;
                                                                                                }else{
                                                                                                    var load44 = (document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load44);
                                                                                            }else{
                                                                                                var load44 = '0';
                                                                                                // alert(load44);
                                                                                            }
                                                                                            //chk4load5 ข้อที่4
                                                                                            if(chk_4load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load45 = ((document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0)/2;
                                                                                                }else{
                                                                                                    var load45 = (document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load45);
                                                                                            }else{
                                                                                                var load45 = '0';
                                                                                                // alert(load45);
                                                                                            }
                                                                                            //chk4load6 ข้อที่5
                                                                                            if(chk_4load6.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load46);
                                                                                            }else{
                                                                                                var load46 = '0';
                                                                                                // alert(load46);
                                                                                            }
                                                                                            //chk8load3 ข้อที่1
                                                                                            if(chk_8load3.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load83 = ((document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0)/2;
                                                                                                }else{
                                                                                                    var load83 = (document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0;
                                                                                                }
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load83 = '0';
                                                                                                // alert(load83);
                                                                                            }
                                                                                             //chk8load5 ข้อที่2 
                                                                                             if(chk_8load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load85);
                                                                                            }else{
                                                                                                var load85 = '0';
                                                                                                // alert(load85);
                                                                                            }
                                                                                            //chk8load6 ข้อที่1
                                                                                            if(chk_8load6.checked == true){
                                                                                                var load86 = (document.getElementById('chk_8load6').value != "") ? document.getElementById('chk_8load6').value : 0;
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load86 = '0';
                                                                                                // alert(load83);
                                                                                            }

                                                                                            // all48load คือ ผลรวมของการเลือก OT1.5 และเงินบวก 180,360 หรือ ผลรวมสุทธิ
                                                                                            // ถ้ามีการเลือก OT1.5 และมีงานรับกลับจะใช้ จำนวนเงินรวมของงานรับกลับมาคิด
                                                                                            if (chk_OT15.checked == true) {
                                                                                                var all48load =  ((parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86))*(1.5));
                                                                                            }else{
                                                                                                var all48load =  (parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86));
                                                                                            }
                                                                                            // alert(all48load);

                                                                                            // var ot180chk =  document.getElementById('text_OT180').value;
                                                                                            var ot360chk =  document.getElementById('se_OT360').value;
                                                                                            // alert(ot180chk);
                                                                                            //ค่า OT180
                                                                                            if (chk_OT180.checked == true) {
                                                                                                var ot180 = 180;
                                                                                            }else{
                                                                                                var ot180 = 0;
                                                                                            }
                                                                                            //ค่า OT360
                                                                                            if (ot360chk == '0' || ot360chk == 'NaN' ) {
                                                                                                var ot360 = 0;
                                                                                            }else{
                                                                                                var ot360 = (ot360chk * 360);
                                                                                            }

                                                                                            
                                                                                            var sumall48load = parseInt(Math.ceil(all48load))+parseInt(ot180)+parseInt(ot360);
                                                                                            // document.getElementById("chk_4load2").checked = false;
                                                                                            // document.getElementById("chk_4load3").checked = false;
                                                                                            // document.getElementById("chk_4load4").checked = false;
                                                                                            // document.getElementById("chk_8load1").checked = false;
                                                                                            // document.getElementById("chk_8load3").checked = false;

                                                                                            var rs_oil = (((document.getElementById('txt_mileageend').value - document.getElementById('txt_mileagestart').value) / document.getElementById('txt_oilaverage').value) - document.getElementById('txt_oil').value);

                                                                                            if (chk_4load2.checked == true) {

                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = (parseInt(rs_oil) * parseInt(price));
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                //document.getElementById('txt_payremark').value = 'กรณีขนส่งงานที่ลง 3 ดีลเลอร์ในเที่ยวเดียว ปรับเพิ่ม 100 บาทต่อเที่ยว';

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT15CHK', editableObj: document.getElementById('txt_compensationOT15').value 
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        
                                                                                                        
                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_4LOAD2REMARK', editableObj: 'กรณีขนส่งงานที่ลง 3 ดีลเลอร์ในเที่ยวเดียว ปรับเพิ่ม 100 บาทต่อเที่ยว'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_4LOAD2', editableObj: '100'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                            } else
                                                                                            {



                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = parseInt(rs_oil) * parseInt(price);
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_4LOAD2REMARK', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_4LOAD2', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                            }



                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OILAVERAGE', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'C3', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'O4', editableObj: document.getElementById('txt_oil').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function select_4load3(price,empchk,poschk)
                                                                                        {

                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            
                                                                                            // ค่างานรับกลับ
                                                                                            var return1 = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;
                                                                                            var return_all = (document.getElementById('text_RETURN').value != "") ? document.getElementById('text_RETURN').value : 0;
                                                                                            
                                                                                            
                                                                                            
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_4load1.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load41 = ((document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0)/2;
                                                                                                }else{
                                                                                                    var load41 = (document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load41);
                                                                                            }else{
                                                                                                var load41 = '0';
                                                                                                // alert(load41);
                                                                                            }
                                                                                            //chk4load2 ข้อที่2
                                                                                            if(chk_4load2.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load42 = ((document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0)/2;
                                                                                                }else{
                                                                                                    var load42 = (document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load42);
                                                                                            }else{
                                                                                                var load42 = '0';
                                                                                                // alert(load42);
                                                                                            }
                                                                                            //chk4load4 ข้อที่3
                                                                                            if(chk_4load4.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load44 = ((document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0)/2;
                                                                                                }else{
                                                                                                    var load44 = (document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load44);
                                                                                            }else{
                                                                                                var load44 = '0';
                                                                                                // alert(load44);
                                                                                            }
                                                                                            //chk4load5 ข้อที่4
                                                                                            if(chk_4load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load45 = ((document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0)/2;
                                                                                                }else{
                                                                                                    var load45 = (document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load45);
                                                                                            }else{
                                                                                                var load45 = '0';
                                                                                                // alert(load45);
                                                                                            }
                                                                                            //chk4load6 ข้อที่5
                                                                                            if(chk_4load6.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load46);
                                                                                            }else{
                                                                                                var load46 = '0';
                                                                                                // alert(load46);
                                                                                            }
                                                                                            //chk8load3 ข้อที่1
                                                                                            if(chk_8load3.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load83 = ((document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0)/2;
                                                                                                }else{
                                                                                                    var load83 = (document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0;
                                                                                                }
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load83 = '0';
                                                                                                // alert(load83);
                                                                                            }
                                                                                             //chk8load5 ข้อที่2 
                                                                                             if(chk_8load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load85);
                                                                                            }else{
                                                                                                var load85 = '0';
                                                                                                // alert(load85);
                                                                                            }
                                                                                            //chk8load6 ข้อที่1
                                                                                            if(chk_8load6.checked == true){
                                                                                                var load86 = (document.getElementById('chk_8load6').value != "") ? document.getElementById('chk_8load6').value : 0;
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load86 = '0';
                                                                                                // alert(load83);
                                                                                            }

                                                                                            // all48load คือ ผลรวมของการเลือก OT1.5 และเงินบวก 180,360 หรือ ผลรวมสุทธิ
                                                                                            // ถ้ามีการเลือก OT1.5 และมีงานรับกลับจะใช้ จำนวนเงินรวมของงานรับกลับมาคิด
                                                                                            if (chk_OT15.checked == true) {
                                                                                                var all48load =  ((parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86))*(1.5));
                                                                                            }else{
                                                                                                var all48load =  (parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86));
                                                                                            }
                                                                                            // alert(all48load);

                                                                                            // var ot180chk =  document.getElementById('text_OT180').value;
                                                                                            var ot360chk =  document.getElementById('se_OT360').value;
                                                                                            // alert(ot180chk);
                                                                                            //ค่า OT180
                                                                                            if (chk_OT180.checked == true) {
                                                                                                var ot180 = 180;
                                                                                            }else{
                                                                                                var ot180 = 0;
                                                                                            }
                                                                                            //ค่า OT360
                                                                                            if (ot360chk == '0' || ot360chk == 'NaN' ) {
                                                                                                var ot360 = 0;
                                                                                            }else{
                                                                                                var ot360 = (ot360chk * 360);
                                                                                            }

                                                                                            
                                                                                            var sumall48load = parseInt(Math.ceil(all48load))+parseInt(ot180)+parseInt(ot360);
                                                                                            // document.getElementById("chk_4load2").checked = false;
                                                                                            // document.getElementById("chk_4load3").checked = false;
                                                                                            // document.getElementById("chk_4load4").checked = false;
                                                                                            // document.getElementById("chk_8load1").checked = false;
                                                                                            // document.getElementById("chk_8load3").checked = false;
                                                                                            var rs_oil = (((document.getElementById('txt_mileageend').value - document.getElementById('txt_mileagestart').value) / document.getElementById('txt_oilaverage').value) - document.getElementById('txt_oil').value);

                                                                                            if (chk_4load3.checked == true) {

                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = (parseInt(rs_oil) * parseInt(price));
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                //document.getElementById('txt_payremark').value = 'กรณีรถรับกลับทำงานคนเดียว คันละ 150 บาท/ วิ่งคู่หาร 2';

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT15CHK', editableObj: document.getElementById('txt_compensationOT15').value 
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        
                                                                                                        
                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_4LOAD3REMARK', editableObj: 'กรณีรถรับกลับทำงานคนเดียว คันละ 150 บาท/ วิ่งคู่หาร 2'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_4LOAD3', editableObj: '150'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                            } else
                                                                                            {


                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = parseInt(rs_oil) * parseInt(price);
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_4LOAD3REMARK', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_4LOAD3', editableObj: 'NULL' 
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                            }



                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OILAVERAGE', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'C3', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'O4', editableObj: document.getElementById('txt_oil').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function select_4load4(price,empchk,poschk)
                                                                                        {

                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            
                                                                                            // ค่างานรับกลับ
                                                                                            var return1 = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;
                                                                                            var return_all = (document.getElementById('text_RETURN').value != "") ? document.getElementById('text_RETURN').value : 0;
                                                                                            
                                                                                            
                                                                                            
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_4load1.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load41 = ((document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0)/2;
                                                                                                }else{
                                                                                                    var load41 = (document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load41);
                                                                                            }else{
                                                                                                var load41 = '0';
                                                                                                // alert(load41);
                                                                                            }
                                                                                            //chk4load2 ข้อที่2
                                                                                            if(chk_4load2.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load42 = ((document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0)/2;
                                                                                                }else{
                                                                                                    var load42 = (document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load42);
                                                                                            }else{
                                                                                                var load42 = '0';
                                                                                                // alert(load42);
                                                                                            }
                                                                                            //chk4load4 ข้อที่3
                                                                                            if(chk_4load4.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load44 = ((document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0)/2;
                                                                                                }else{
                                                                                                    var load44 = (document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load44);
                                                                                            }else{
                                                                                                var load44 = '0';
                                                                                                // alert(load44);
                                                                                            }
                                                                                            //chk4load5 ข้อที่4
                                                                                            if(chk_4load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load45 = ((document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0)/2;
                                                                                                }else{
                                                                                                    var load45 = (document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load45);
                                                                                            }else{
                                                                                                var load45 = '0';
                                                                                                // alert(load45);
                                                                                            }
                                                                                            //chk4load6 ข้อที่5
                                                                                            if(chk_4load6.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load46);
                                                                                            }else{
                                                                                                var load46 = '0';
                                                                                                // alert(load46);
                                                                                            }
                                                                                            //chk8load3 ข้อที่1
                                                                                            if(chk_8load3.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load83 = ((document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0)/2;
                                                                                                }else{
                                                                                                    var load83 = (document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0;
                                                                                                }
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load83 = '0';
                                                                                                // alert(load83);
                                                                                            }
                                                                                             //chk8load5 ข้อที่2 
                                                                                             if(chk_8load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load85);
                                                                                            }else{
                                                                                                var load85 = '0';
                                                                                                // alert(load85);
                                                                                            }
                                                                                            //chk8load6 ข้อที่1
                                                                                            if(chk_8load6.checked == true){
                                                                                                var load86 = (document.getElementById('chk_8load6').value != "") ? document.getElementById('chk_8load6').value : 0;
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load86 = '0';
                                                                                                // alert(load83);
                                                                                            }

                                                                                            // all48load คือ ผลรวมของการเลือก OT1.5 และเงินบวก 180,360 หรือ ผลรวมสุทธิ
                                                                                            // ถ้ามีการเลือก OT1.5 และมีงานรับกลับจะใช้ จำนวนเงินรวมของงานรับกลับมาคิด
                                                                                            if (chk_OT15.checked == true) {
                                                                                                var all48load =  ((parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86))*(1.5));
                                                                                            }else{
                                                                                                var all48load =  (parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86));
                                                                                            }
                                                                                            // alert(all48load);
                                                                                            
                                                                                            // var ot180chk =  document.getElementById('text_OT180').value;
                                                                                            var ot360chk =  document.getElementById('se_OT360').value;
                                                                                            // alert(ot180chk);
                                                                                            //ค่า OT180
                                                                                            if (chk_OT180.checked == true) {
                                                                                                var ot180 = 180;
                                                                                            }else{
                                                                                                var ot180 = 0;
                                                                                            }
                                                                                            //ค่า OT360
                                                                                            if (ot360chk == '0' || ot360chk == 'NaN' ) {
                                                                                                var ot360 = 0;
                                                                                            }else{
                                                                                                var ot360 = (ot360chk * 360);
                                                                                            }

                                                                                            
                                                                                            var sumall48load = parseInt(Math.ceil(all48load))+parseInt(ot180)+parseInt(ot360);

                                                                                            // document.getElementById("chk_4load2").checked = false;
                                                                                            // document.getElementById("chk_4load3").checked = false;
                                                                                            // document.getElementById("chk_4load4").checked = false;
                                                                                            // document.getElementById("chk_8load1").checked = false;
                                                                                            // document.getElementById("chk_8load3").checked = false;
                                                                                            var rs_oil = (((document.getElementById('txt_mileageend').value - document.getElementById('txt_mileagestart').value) / document.getElementById('txt_oilaverage').value) - document.getElementById('txt_oil').value);

                                                                                            if (chk_4load4.checked == true) {

                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = (parseInt(rs_oil) * parseInt(price));
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                //document.getElementById('txt_payremark').value = 'กรณีตีเปล่าเข้ารับงานที่บ้านโพธิ์/สำโรง เที่ยวเดียว ปรับเพิ่ม 100 บาท';

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT15CHK', editableObj: document.getElementById('txt_compensationOT15').value 
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        
                                                                                                        
                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_4LOAD4REMARK', editableObj: 'กรณีรองานที่ยาร์ดและงานไม่ออกตามแผน ปรับเพิ่ม 100 บาท'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_4LOAD4', editableObj: '100'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                            } else
                                                                                            {
                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = parseInt(rs_oil) * parseInt(price);
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_4LOAD4REMARK', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_4LOAD4', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                            }



                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OILAVERAGE', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'C3', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'O4', editableObj: document.getElementById('txt_oil').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function select_4load5(price,empchk,poschk)
                                                                                        {

                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            
                                                                                            // ค่างานรับกลับ
                                                                                            var return1 = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;
                                                                                            var return_all = (document.getElementById('text_RETURN').value != "") ? document.getElementById('text_RETURN').value : 0;
                                                                                            
                                                                                            
                                                                                            
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_4load1.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load41 = ((document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0)/2;
                                                                                                }else{
                                                                                                    var load41 = (document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load41);
                                                                                            }else{
                                                                                                var load41 = '0';
                                                                                                // alert(load41);
                                                                                            }
                                                                                            //chk4load2 ข้อที่2
                                                                                            if(chk_4load2.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load42 = ((document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0)/2;
                                                                                                }else{
                                                                                                    var load42 = (document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load42);
                                                                                            }else{
                                                                                                var load42 = '0';
                                                                                                // alert(load42);
                                                                                            }
                                                                                            //chk4load4 ข้อที่3
                                                                                            if(chk_4load4.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load44 = ((document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0)/2;
                                                                                                }else{
                                                                                                    var load44 = (document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load44);
                                                                                            }else{
                                                                                                var load44 = '0';
                                                                                                // alert(load44);
                                                                                            }
                                                                                            //chk4load5 ข้อที่4
                                                                                            if(chk_4load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load45 = ((document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0)/2;
                                                                                                }else{
                                                                                                    var load45 = (document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load45);
                                                                                            }else{
                                                                                                var load45 = '0';
                                                                                                // alert(load45);
                                                                                            }
                                                                                            //chk4load6 ข้อที่5
                                                                                            if(chk_4load6.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load46);
                                                                                            }else{
                                                                                                var load46 = '0';
                                                                                                // alert(load46);
                                                                                            }
                                                                                            //chk8load3 ข้อที่1
                                                                                            if(chk_8load3.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load83 = ((document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0)/2;
                                                                                                }else{
                                                                                                    var load83 = (document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0;
                                                                                                }
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load83 = '0';
                                                                                                // alert(load83);
                                                                                            }
                                                                                             //chk8load5 ข้อที่2 
                                                                                             if(chk_8load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load85);
                                                                                            }else{
                                                                                                var load85 = '0';
                                                                                                // alert(load85);
                                                                                            }
                                                                                            //chk8load6 ข้อที่1
                                                                                            if(chk_8load6.checked == true){
                                                                                                var load86 = (document.getElementById('chk_8load6').value != "") ? document.getElementById('chk_8load6').value : 0;
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load86 = '0';
                                                                                                // alert(load83);
                                                                                            }

                                                                                            // all48load คือ ผลรวมของการเลือก OT1.5 และเงินบวก 180,360 หรือ ผลรวมสุทธิ
                                                                                            // ถ้ามีการเลือก OT1.5 และมีงานรับกลับจะใช้ จำนวนเงินรวมของงานรับกลับมาคิด
                                                                                            if (chk_OT15.checked == true) {
                                                                                                var all48load =  ((parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86))*(1.5));
                                                                                            }else{
                                                                                                var all48load =  (parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86));
                                                                                            }
                                                                                            // alert(all48load);
                                                                                            
                                                                                            // var ot180chk =  document.getElementById('text_OT180').value;
                                                                                            var ot360chk =  document.getElementById('se_OT360').value;
                                                                                            // alert(ot180chk);
                                                                                            //ค่า OT180
                                                                                            if (chk_OT180.checked == true) {
                                                                                                var ot180 = 180;
                                                                                            }else{
                                                                                                var ot180 = 0;
                                                                                            }
                                                                                            //ค่า OT360
                                                                                            if (ot360chk == '0' || ot360chk == 'NaN' ) {
                                                                                                var ot360 = 0;
                                                                                            }else{
                                                                                                var ot360 = (ot360chk * 360);
                                                                                            }

                                                                                            
                                                                                            var sumall48load = parseInt(Math.ceil(all48load))+parseInt(ot180)+parseInt(ot360);

                                                                                            // document.getElementById("chk_4load2").checked = false;
                                                                                            // document.getElementById("chk_4load3").checked = false;
                                                                                            // document.getElementById("chk_4load4").checked = false;
                                                                                            // document.getElementById("chk_8load1").checked = false;
                                                                                            // document.getElementById("chk_8load3").checked = false;
                                                                                            var rs_oil = (((document.getElementById('txt_mileageend').value - document.getElementById('txt_mileagestart').value) / document.getElementById('txt_oilaverage').value) - document.getElementById('txt_oil').value);

                                                                                            if (chk_4load5.checked == true) {

                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = (parseInt(rs_oil) * parseInt(price));
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                //document.getElementById('txt_payremark').value = 'กรณีตีเปล่าเข้ารับงานที่บ้านโพธิ์/สำโรง เที่ยวเดียว ปรับเพิ่ม 100 บาท';

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_4LOAD5REMARK', editableObj: 'กรณีตีเปล่าเข้ารับงานที่บ้านโพธิ์/สำโรง เที่ยวเดียวปรับเพิ่ม 100 บาท'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_4LOAD5', editableObj: '100'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                            } else
                                                                                            {
                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = parseInt(rs_oil) * parseInt(price);
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_4LOAD5REMARK', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_4LOAD5', editableObj: '0'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                            }



                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OILAVERAGE', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'C3', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'O4', editableObj: document.getElementById('txt_oil').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function select_4load6(price,empchk,poschk)
                                                                                        {

                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            
                                                                                           // ค่างานรับกลับ
                                                                                            var return1 = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;
                                                                                            var return_all = (document.getElementById('text_RETURN').value != "") ? document.getElementById('text_RETURN').value : 0;
                                                                                            
                                                                                            
                                                                                            
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_4load1.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load41 = ((document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0)/2;
                                                                                                }else{
                                                                                                    var load41 = (document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load41);
                                                                                            }else{
                                                                                                var load41 = '0';
                                                                                                // alert(load41);
                                                                                            }
                                                                                            //chk4load2 ข้อที่2
                                                                                            if(chk_4load2.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load42 = ((document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0)/2;
                                                                                                }else{
                                                                                                    var load42 = (document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load42);
                                                                                            }else{
                                                                                                var load42 = '0';
                                                                                                // alert(load42);
                                                                                            }
                                                                                            //chk4load4 ข้อที่3
                                                                                            if(chk_4load4.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load44 = ((document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0)/2;
                                                                                                }else{
                                                                                                    var load44 = (document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load44);
                                                                                            }else{
                                                                                                var load44 = '0';
                                                                                                // alert(load44);
                                                                                            }
                                                                                            //chk4load5 ข้อที่4
                                                                                            if(chk_4load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load45 = ((document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0)/2;
                                                                                                }else{
                                                                                                    var load45 = (document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load45);
                                                                                            }else{
                                                                                                var load45 = '0';
                                                                                                // alert(load45);
                                                                                            }
                                                                                            //chk4load6 ข้อที่5
                                                                                            if(chk_4load6.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }
                                                                                                
                                                                                                // alert(load46);
                                                                                            }else{
                                                                                                var load46 = '0';
                                                                                                // alert(load46);
                                                                                            }
                                                                                            //chk8load3 ข้อที่1
                                                                                            if(chk_8load3.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load83 = ((document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0)/2;
                                                                                                }else{
                                                                                                    var load83 = (document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0;
                                                                                                }
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load83 = '0';
                                                                                                // alert(load83);
                                                                                            }
                                                                                             //chk8load5 ข้อที่2 
                                                                                             if(chk_8load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load85);
                                                                                            }else{
                                                                                                var load85 = '0';
                                                                                                // alert(load85);
                                                                                            }
                                                                                            //chk8load6 ข้อที่1
                                                                                            if(chk_8load6.checked == true){
                                                                                                var load86 = (document.getElementById('chk_8load6').value != "") ? document.getElementById('chk_8load6').value : 0;
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load86 = '0';
                                                                                                // alert(load83);
                                                                                            }

                                                                                            // all48load คือ ผลรวมของการเลือก OT1.5 และเงินบวก 180,360 หรือ ผลรวมสุทธิ
                                                                                            // ถ้ามีการเลือก OT1.5 และมีงานรับกลับจะใช้ จำนวนเงินรวมของงานรับกลับมาคิด
                                                                                            if (chk_OT15.checked == true) {
                                                                                                var all48load =  ((parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86))*(1.5));
                                                                                            }else{
                                                                                                var all48load =  (parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86));
                                                                                            }
                                                                                            // alert(all48load);
                                                                                            
                                                                                            // var ot180chk =  document.getElementById('text_OT180').value;
                                                                                            var ot360chk =  document.getElementById('se_OT360').value;
                                                                                            // alert(ot180chk);
                                                                                            //ค่า OT180
                                                                                            if (chk_OT180.checked == true) {
                                                                                                var ot180 = 180;
                                                                                            }else{
                                                                                                var ot180 = 0;
                                                                                            }
                                                                                            //ค่า OT360
                                                                                            if (ot360chk == '0' || ot360chk == 'NaN' ) {
                                                                                                var ot360 = 0;
                                                                                            }else{
                                                                                                var ot360 = (ot360chk * 360);
                                                                                            }

                                                                                            
                                                                                            var sumall48load = parseInt(Math.ceil(all48load))+parseInt(ot180)+parseInt(ot360);

                                                                                            // document.getElementById("chk_4load2").checked = false;
                                                                                            // document.getElementById("chk_4load3").checked = false;
                                                                                            // document.getElementById("chk_4load4").checked = false;
                                                                                            // document.getElementById("chk_8load1").checked = false;
                                                                                            // document.getElementById("chk_8load3").checked = false;
                                                                                            var rs_oil = (((document.getElementById('txt_mileageend').value - document.getElementById('txt_mileagestart').value) / document.getElementById('txt_oilaverage').value) - document.getElementById('txt_oil').value);
                                                                                            var compensation = (e1/2);
                                                                                            if (chk_4load6.checked == true) {

                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = (parseInt(rs_oil) * parseInt(price));
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                //document.getElementById('txt_payremark').value = 'กรณีตีเปล่าเข้ารับงานที่บ้านโพธิ์/สำโรง เที่ยวเดียว ปรับเพิ่ม 100 บาท';

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT15CHK', editableObj: document.getElementById('txt_compensationOT15').value 
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        
                                                                                                        
                                                                                                    }
                                                                                                });
                                                                                                
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_4LOAD6REMARK', editableObj: 'กรณีงาน SH มีงาน 1 รอบ ให้ค่าเที่ยวตีเปล่า 50% ของค่าเที่ยวปกติ'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_4LOAD6', editableObj: compensation
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                            } else
                                                                                            {
                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = all48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = parseInt(rs_oil) * parseInt(price);
                                                                                                    document.getElementById('txt_compensationall').value = all48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_4LOAD6REMARK', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_4LOAD6', editableObj: '0'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                            }



                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OILAVERAGE', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'C3', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'O4', editableObj: document.getElementById('txt_oil').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        // function select_8load1(price)
                                                                                        // {

                                                                                        //     document.getElementById("chk_4load1").checked = false;
                                                                                        //     document.getElementById("chk_4load2").checked = false;
                                                                                        //     document.getElementById("chk_4load3").checked = false;
                                                                                        //     document.getElementById("chk_4load4").checked = false;
                                                                                        //     document.getElementById("chk_8load3").checked = false;
                                                                                        //     var rs_oil = (((document.getElementById('txt_mileageend').value - document.getElementById('txt_mileagestart').value) / document.getElementById('txt_oilaverage').value) - document.getElementById('txt_oil').value);

                                                                                        //     if (chk_8load1.checked == true) {

                                                                                        //         if (rs_oil == '0')
                                                                                        //         {
                                                                                        //             document.getElementById('txt_oilmonny').value = '0';
                                                                                        //             document.getElementById('txt_orthermonny').value = '150';
                                                                                        //         } else
                                                                                        //         {
                                                                                        //             document.getElementById('txt_oilmonny').value = (parseInt(rs_oil) * parseInt(price));
                                                                                        //             document.getElementById('txt_orthermonny').value = '150';
                                                                                        //         }
                                                                                        //         //document.getElementById('txt_payremark').value = 'กรณีรถรับกลับทำงานคนเดียว คันละ 150 บาท / วิ่งคู่หาร 2';

                                                                                        //         $.ajax({
                                                                                        //             url: 'meg_data.php',
                                                                                        //             type: 'POST',
                                                                                        //             data: {
                                                                                        //                 txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_REMARK', editableObj: 'กรณีรถรับกลับทำงานคนเดียว คันละ 150 บาท / วิ่งคู่หาร 2'
                                                                                        //             },
                                                                                        //             success: function () {


                                                                                        //             }
                                                                                        //         });
                                                                                        //         $.ajax({
                                                                                        //             url: 'meg_data.php',
                                                                                        //             type: 'POST',
                                                                                        //             data: {
                                                                                        //                 txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OTHER', editableObj: '150'
                                                                                        //             },
                                                                                        //             success: function () {


                                                                                        //             }
                                                                                        //         });

                                                                                        //     } else
                                                                                        //     {
                                                                                        //         if (rs_oil == '0')
                                                                                        //         {
                                                                                        //             document.getElementById('txt_oilmonny').value = '0';
                                                                                        //             document.getElementById('txt_orthermonny').value = '';
                                                                                        //         } else
                                                                                        //         {
                                                                                        //             document.getElementById('txt_oilmonny').value = parseInt(rs_oil) * parseInt(price);
                                                                                        //             document.getElementById('txt_orthermonny').value = '';
                                                                                        //         }
                                                                                        //         $.ajax({
                                                                                        //             url: 'meg_data.php',
                                                                                        //             type: 'POST',
                                                                                        //             data: {
                                                                                        //                 txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_REMARK', editableObj: ''
                                                                                        //             },
                                                                                        //             success: function () {


                                                                                        //             }
                                                                                        //         });
                                                                                        //         $.ajax({
                                                                                        //             url: 'meg_data.php',
                                                                                        //             type: 'POST',
                                                                                        //             data: {
                                                                                        //                 txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OTHER', editableObj: 'NULL'
                                                                                        //             },
                                                                                        //             success: function () {


                                                                                        //             }
                                                                                        //         });
                                                                                        //     }



                                                                                        //     $.ajax({
                                                                                        //         url: 'meg_data.php',
                                                                                        //         type: 'POST',
                                                                                        //         data: {
                                                                                        //             txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OILAVERAGE', editableObj: document.getElementById('txt_oilmonny').value
                                                                                        //         },
                                                                                        //         success: function () {


                                                                                        //         }
                                                                                        //     });
                                                                                        //     $.ajax({
                                                                                        //         url: 'meg_data.php',
                                                                                        //         type: 'POST',
                                                                                        //         data: {
                                                                                        //             txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'C3', editableObj: document.getElementById('txt_oilmonny').value
                                                                                        //         },
                                                                                        //         success: function () {


                                                                                        //         }
                                                                                        //     });
                                                                                        //     $.ajax({
                                                                                        //         url: 'meg_data.php',
                                                                                        //         type: 'POST',
                                                                                        //         data: {
                                                                                        //             txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'O4', editableObj: document.getElementById('txt_oil').value
                                                                                        //         },
                                                                                        //         success: function () {


                                                                                        //         }
                                                                                        //     });
                                                                                        // }
                                                                                            
                                                                                        function select_8load3(price,empchk,poschk)
                                                                                        {

                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            
                                                                                            
                                                                                            // ค่างานรับกลับ
                                                                                            var return1 = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;
                                                                                            var return_all = (document.getElementById('text_RETURN').value != "") ? document.getElementById('text_RETURN').value : 0;
                                                                                            
                                                                                            
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_4load1.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load41 = ((document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0)/2;
                                                                                                }else{
                                                                                                    var load41 = (document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load41);
                                                                                            }else{
                                                                                                var load41 = '0';
                                                                                                // alert(load41);
                                                                                            }
                                                                                            //chk4load2 ข้อที่2
                                                                                            if(chk_4load2.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load42 = ((document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0)/2;
                                                                                                }else{
                                                                                                    var load42 = (document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0;
                                                                                                }
                                                                                                
                                                                                                // alert(load42);
                                                                                            }else{
                                                                                                var load42 = '0';
                                                                                                // alert(load42);
                                                                                            }
                                                                                            //chk4load4 ข้อที่3
                                                                                            if(chk_4load4.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load44 = ((document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0)/2;
                                                                                                }else{
                                                                                                    var load44 = (document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0;
                                                                                                }
                                                                                                // alert(load44);
                                                                                            }else{
                                                                                                var load44 = '0';
                                                                                                // alert(load44);
                                                                                            }
                                                                                            //chk4load5 ข้อที่4
                                                                                            if(chk_4load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load45 = ((document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0)/2;
                                                                                                }else{ 
                                                                                                    var load45 = (document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0;
                                                                                                }
                                                                                                // alert(load45);
                                                                                            }else{
                                                                                                var load45 = '0';
                                                                                                // alert(load45);
                                                                                            }
                                                                                            //chk4load6 ข้อที่5
                                                                                            if(chk_4load6.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load46);
                                                                                            }else{
                                                                                                var load46 = '0';
                                                                                                // alert(load46);
                                                                                            }
                                                                                            //chk8load3 ข้อที่1
                                                                                            if(chk_8load3.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load83 = ((document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0)/2;
                                                                                                }else{
                                                                                                    var load83 = (document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0;
                                                                                                }
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load83 = '0';
                                                                                                // alert(load83);
                                                                                            }
                                                                                             //chk8load5 ข้อที่2 
                                                                                             if(chk_8load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load85);
                                                                                            }else{
                                                                                                var load85 = '0';
                                                                                                // alert(load85);
                                                                                            }
                                                                                            //chk8load6 ข้อที่1
                                                                                            if(chk_8load6.checked == true){
                                                                                                var load86 = (document.getElementById('chk_8load6').value != "") ? document.getElementById('chk_8load6').value : 0;
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load86 = '0';
                                                                                                // alert(load83);
                                                                                            }

                                                                                            // all48load คือ ผลรวมของการเลือก OT1.5 และเงินบวก 180,360 หรือ ผลรวมสุทธิ
                                                                                            // ถ้ามีการเลือก OT1.5 และมีงานรับกลับจะใช้ จำนวนเงินรวมของงานรับกลับมาคิด
                                                                                            if (chk_OT15.checked == true) {
                                                                                                var all48load =  ((parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86))*(1.5));
                                                                                            }else{
                                                                                                var all48load =  (parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86));
                                                                                            }
                                                                                            
                                                                                            // var ot180chk =  document.getElementById('text_OT180').value;
                                                                                            var ot360chk =  document.getElementById('se_OT360').value;
                                                                                            // alert(ot180chk);
                                                                                            //ค่า OT180
                                                                                            if (chk_OT180.checked == true) {
                                                                                                var ot180 = 180;
                                                                                            }else{
                                                                                                var ot180 = 0;
                                                                                            }
                                                                                            //ค่า OT360
                                                                                            if (ot360chk == '0' || ot360chk == 'NaN' ) {
                                                                                                var ot360 = 0;
                                                                                            }else{
                                                                                                var ot360 = (ot360chk * 360);
                                                                                            }

                                                                                            
                                                                                            var sumall48load = parseInt(Math.ceil(all48load))+parseInt(ot180)+parseInt(ot360);

                                                                                            // document.getElementById("chk_4load2").checked = false;
                                                                                            // document.getElementById("chk_4load3").checked = false;
                                                                                            // document.getElementById("chk_4load4").checked = false;
                                                                                            // document.getElementById("chk_8load1").checked = false;
                                                                                            // document.getElementById("chk_8load3").checked = false;
                                                                                            var rs_oil = (((document.getElementById('txt_mileageend').value - document.getElementById('txt_mileagestart').value) / document.getElementById('txt_oilaverage').value) - document.getElementById('txt_oil').value);

                                                                                            if (chk_8load3.checked == true) {

                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = (parseInt(rs_oil) * parseInt(price));
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                //document.getElementById('txt_payremark').value = 'กรณีขนส่งงานที่ลง 4 ดีลเลอร์ในเที่ยวเดียว ปรับเพิ่ม 200 บาท /เที่ยว';
                                                                                                
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT15CHK', editableObj: document.getElementById('txt_compensationOT15').value 
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        
                                                                                                        
                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_8LOAD3REMARK', editableObj: 'กรณีขนส่งงานที่ลง 4 ดีลเลอร์ในเที่ยวเดียว ปรับเพิ่ม 200 บาท /เที่ยว (วิ่งคู่หาร 2)'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_8LOAD3', editableObj: '100'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                            } else
                                                                                            {
                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = parseInt(rs_oil) * parseInt(price);
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_8LOAD3REMARK', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_8LOAD3', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                            }



                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OILAVERAGE', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'C3', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'O4', editableObj: document.getElementById('txt_oil').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function select_8load5(price,empchk,poschk)
                                                                                        {

                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            
                                                                                            // ค่างานรับกลับ
                                                                                            var return1 = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;
                                                                                            var return_all = (document.getElementById('text_RETURN').value != "") ? document.getElementById('text_RETURN').value : 0;
                                                                                            
                                                                                            
                                                                                            
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_4load1.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load41 = ((document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0)/2;
                                                                                                }else{
                                                                                                    var load41 = (document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0;
                                                                                                }
                                                                                                // alert(load41);
                                                                                            }else{
                                                                                                var load41 = '0';
                                                                                                // alert(load41);
                                                                                            }
                                                                                            //chk4load2 ข้อที่2
                                                                                            if(chk_4load2.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load42 = ((document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0)/2;
                                                                                                }else{
                                                                                                    var load42 = (document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0;
                                                                                                }
                                                                                                // alert(load42);
                                                                                            }else{
                                                                                                var load42 = '0';
                                                                                                // alert(load42);
                                                                                            }
                                                                                            //chk4load4 ข้อที่3
                                                                                            if(chk_4load4.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load44 = ((document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0)/2;
                                                                                                }else{
                                                                                                    var load44 = (document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0;
                                                                                                }
                                                                                                // alert(load44);
                                                                                            }else{
                                                                                                var load44 = '0';
                                                                                                // alert(load44);
                                                                                            }
                                                                                            //chk4load5 ข้อที่4
                                                                                            if(chk_4load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load45 = ((document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0)/2;
                                                                                                }else{ 
                                                                                                    var load45 = (document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0;
                                                                                                }
                                                                                                // alert(load45);
                                                                                            }else{
                                                                                                var load45 = '0';
                                                                                                // alert(load45);
                                                                                            }
                                                                                            //chk4load6 ข้อที่5
                                                                                            if(chk_4load6.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load46);
                                                                                            }else{
                                                                                                var load46 = '0';
                                                                                                // alert(load46);
                                                                                            }
                                                                                            //chk8load3 ข้อที่1
                                                                                            if(chk_8load3.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load83 = ((document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0)/2;
                                                                                                }else{
                                                                                                    var load83 = (document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0;
                                                                                                }
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load83 = '0';
                                                                                                // alert(load83);
                                                                                            }
                                                                                             //chk8load5 ข้อที่2 
                                                                                             if(chk_8load5.checked == true){
                                                                                                if ((empchk == '2' || empchk == '1') && poschk == 'F') {
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load85);
                                                                                            }else{
                                                                                                var load85 = '0';
                                                                                                // alert(load85);
                                                                                            }
                                                                                            //chk8load6 ข้อที่1
                                                                                            if(chk_8load6.checked == true){
                                                                                                var load86 = (document.getElementById('chk_8load6').value != "") ? document.getElementById('chk_8load6').value : 0;
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load86 = '0';
                                                                                                // alert(load83);
                                                                                            }

                                                                                            // all48load คือ ผลรวมของการเลือก OT1.5 และเงินบวก 180,360 หรือ ผลรวมสุทธิ
                                                                                            // ถ้ามีการเลือก OT1.5 และมีงานรับกลับจะใช้ จำนวนเงินรวมของงานรับกลับมาคิด
                                                                                            if (chk_OT15.checked == true) {
                                                                                                var all48load =  ((parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86))*(1.5));
                                                                                            }else{
                                                                                                var all48load =  (parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86));
                                                                                            }
                                                                                            // alert(all48load);

                                                                                            // var ot180chk =  document.getElementById('text_OT180').value;
                                                                                            var ot360chk =  document.getElementById('se_OT360').value;
                                                                                            // alert(ot180chk);
                                                                                            //ค่า OT180
                                                                                            if (chk_OT180.checked == true) {
                                                                                                var ot180 = 180;
                                                                                            }else{
                                                                                                var ot180 = 0;
                                                                                            }
                                                                                            //ค่า OT360
                                                                                            if (ot360chk == '0' || ot360chk == 'NaN' ) {
                                                                                                var ot360 = 0;
                                                                                            }else{
                                                                                                var ot360 = (ot360chk * 360);
                                                                                            }

                                                                                            
                                                                                            var sumall48load = parseInt(Math.ceil(all48load))+parseInt(ot180)+parseInt(ot360);
                                                                                            // document.getElementById("chk_4load2").checked = false;
                                                                                            // document.getElementById("chk_4load3").checked = false;
                                                                                            // document.getElementById("chk_4load4").checked = false;
                                                                                            // document.getElementById("chk_8load1").checked = false;
                                                                                            // document.getElementById("chk_8load3").checked = false;
                                                                                            
                                                                                            // alert(sumall48load);
                                                                                            var rs_oil = (((document.getElementById('txt_mileageend').value - document.getElementById('txt_mileagestart').value) / document.getElementById('txt_oilaverage').value) - document.getElementById('txt_oil').value);
                                                                                           
                                                                                            var compensation = (e1/2);
                                                                                            if (chk_8load5.checked == true) {

                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                    
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = (parseInt(rs_oil) * parseInt(price));
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                //document.getElementById('txt_payremark').value = 'กรณีขนส่งงานที่ลง 4 ดีลเลอร์ในเที่ยวเดียว ปรับเพิ่ม 200 บาท /เที่ยว';

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT15CHK', editableObj: document.getElementById('txt_compensationOT15').value 
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        
                                                                                                        
                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_8LOAD5REMARK', editableObj: 'กรณีงาน SH มีงาน 1 รอบ ให้ค่าเที่ยวตีเปล่า 50% ของค่าเที่ยวปกติ'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_8LOAD5', editableObj: compensation
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                            } else
                                                                                            {
                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = parseInt(rs_oil) * parseInt(price);
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_8LOAD5REMARK', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_8LOAD5', editableObj: '0'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                            }



                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OILAVERAGE', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'C3', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'O4', editableObj: document.getElementById('txt_oil').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function select_8load6(price,empchk,poschk)
                                                                                        {
                                                                                            // alert('8load6');
                                                                                            var e1 = (document.getElementById('txt_e1').value != "") ? document.getElementById('txt_e1').value : 0;
                                                                                            var e2 = (document.getElementById('txt_e2').value != "") ? document.getElementById('txt_e2').value : 0;
                                                                                            var e3 = (document.getElementById('txt_e3').value != "") ? document.getElementById('txt_e3').value : 0;
                                                                                            
                                                                                            // ค่างานรับกลับ
                                                                                            var return1 = (document.getElementById('txt_returnprice1').value != "") ? document.getElementById('txt_returnprice1').value : 0;
                                                                                            var return_all = (document.getElementById('text_RETURN').value != "") ? document.getElementById('text_RETURN').value : 0;
                                                                                            
                                                                                            
                                                                                            
                                                                                            //chk4load1 ข้อที่1
                                                                                            if(chk_4load1.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load41 = ((document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0)/2;
                                                                                                }else{
                                                                                                    var load41 = (document.getElementById('chk_4load1').value != "") ? document.getElementById('chk_4load1').value : 0;
                                                                                                }
                                                                                                // alert(load41);
                                                                                            }else{
                                                                                                var load41 = '0';
                                                                                                // alert(load41);
                                                                                            }
                                                                                            //chk4load2 ข้อที่2
                                                                                            if(chk_4load2.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load42 = ((document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0)/2;
                                                                                                }else{
                                                                                                    var load42 = (document.getElementById('chk_4load2').value != "") ? document.getElementById('chk_4load2').value : 0;
                                                                                                }
                                                                                                // alert(load42);
                                                                                            }else{
                                                                                                var load42 = '0';
                                                                                                // alert(load42);
                                                                                            }
                                                                                            //chk4load4 ข้อที่3
                                                                                            if(chk_4load4.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load44 = ((document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0)/2;
                                                                                                }else{
                                                                                                    var load44 = (document.getElementById('chk_4load4').value != "") ? document.getElementById('chk_4load4').value : 0;
                                                                                                }
                                                                                                // alert(load44);
                                                                                            }else{
                                                                                                var load44 = '0';
                                                                                                // alert(load44);
                                                                                            }
                                                                                            //chk4load5 ข้อที่4
                                                                                            if(chk_4load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load45 = ((document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0)/2;
                                                                                                }else{ 
                                                                                                    var load45 = (document.getElementById('chk_4load5').value != "") ? document.getElementById('chk_4load5').value : 0;
                                                                                                }
                                                                                                // alert(load45);
                                                                                            }else{
                                                                                                var load45 = '0';
                                                                                                // alert(load45);
                                                                                            }
                                                                                            //chk4load6 ข้อที่5
                                                                                            if(chk_4load6.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load46 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load46);
                                                                                            }else{
                                                                                                var load46 = '0';
                                                                                                // alert(load46);
                                                                                            }
                                                                                            //chk8load3 ข้อที่1
                                                                                            if(chk_8load3.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load83 = ((document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0)/2;
                                                                                                }else{
                                                                                                    var load83 = (document.getElementById('chk_8load3').value != "") ? document.getElementById('chk_8load3').value : 0;
                                                                                                }
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load83 = '0';
                                                                                                // alert(load83);
                                                                                            }
                                                                                             //chk8load5 ข้อที่2 
                                                                                             if(chk_8load5.checked == true){
                                                                                                if (empchk == '2' && poschk == 'F') {
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }else{
                                                                                                    var load85 = Math.ceil((e1/2));
                                                                                                }
                                                                                                // alert(load85);
                                                                                            }else{
                                                                                                var load85 = '0';
                                                                                                // alert(load85);
                                                                                            }
                                                                                            //chk8load6 ข้อที่1
                                                                                            if(chk_8load6.checked == true){
                                                                                                var load86 = (document.getElementById('chk_8load6').value != "") ? document.getElementById('chk_8load6').value : 0;
                                                                                                // alert(load83);
                                                                                            }else{
                                                                                                var load86 = '0';
                                                                                                // alert(load83);
                                                                                            }

                                                                                            // all48load คือ ผลรวมของการเลือก OT1.5 และเงินบวก 180,360 หรือ ผลรวมสุทธิ
                                                                                            // ถ้ามีการเลือก OT1.5 และมีงานรับกลับจะใช้ จำนวนเงินรวมของงานรับกลับมาคิด
                                                                                            if (chk_OT15.checked == true) {
                                                                                                var all48load =  ((parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86))*(1.5));
                                                                                            }else{
                                                                                                var all48load =  (parseInt(e1) + parseInt(return1) + parseInt(load41) + parseInt(load42) + parseInt(load44) + parseInt(load45) + parseInt(load46) + parseInt(load83) + parseInt(load85) + parseInt(load86));
                                                                                            }
                                                                                            // alert(all48load);
                                                                                            
                                                                                            // var ot180chk =  document.getElementById('text_OT180').value;
                                                                                            var ot360chk =  document.getElementById('se_OT360').value;
                                                                                            // alert(ot180chk);
                                                                                            //ค่า OT180
                                                                                            if (chk_OT180.checked == true) {
                                                                                                var ot180 = 180;
                                                                                            }else{
                                                                                                var ot180 = 0;
                                                                                            }
                                                                                            //ค่า OT360
                                                                                            if (ot360chk == '0' || ot360chk == 'NaN' ) {
                                                                                                var ot360 = 0;
                                                                                            }else{
                                                                                                var ot360 = (ot360chk * 360);
                                                                                            }

                                                                                            
                                                                                            var sumall48load = parseInt(Math.ceil(all48load))+parseInt(ot180)+parseInt(ot360);

                                                                                            // document.getElementById("chk_4load2").checked = false;
                                                                                            // document.getElementById("chk_4load3").checked = false;
                                                                                            // document.getElementById("chk_4load4").checked = false;
                                                                                            // document.getElementById("chk_8load1").checked = false;
                                                                                            // document.getElementById("chk_8load3").checked = false;
                                                                                            var rs_oil = (((document.getElementById('txt_mileageend').value - document.getElementById('txt_mileagestart').value) / document.getElementById('txt_oilaverage').value) - document.getElementById('txt_oil').value);

                                                                                            if (chk_8load6.checked == true) {

                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = (parseInt(rs_oil) * parseInt(price));
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                //document.getElementById('txt_payremark').value = 'กรณีขนส่งงานที่ลง 4 ดีลเลอร์ในเที่ยวเดียว ปรับเพิ่ม 200 บาท /เที่ยว';
                                                                                               
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OT15CHK', editableObj: document.getElementById('txt_compensationOT15').value 
                                                                                                    },
                                                                                                    success: function () {
                                                                                                        
                                                                                                        
                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_8LOAD6REMARK', editableObj: 'กรณีขนส่งงานที่ลง 4 ดีลเลอร์ในเที่ยวเดียว ปรับเพิ่ม 200 บาท /เที่ยว (วิ่งคนเดียว)'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_8LOAD6', editableObj: '200'
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });

                                                                                            } else
                                                                                            {
                                                                                                if (rs_oil == '0')
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = '0';
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                } else
                                                                                                {
                                                                                                    document.getElementById('txt_oilmonny').value = parseInt(rs_oil) * parseInt(price);
                                                                                                    document.getElementById('txt_compensationall').value = sumall48load;
                                                                                                    if (chk_OT15.checked == true) {
                                                                                                        document.getElementById('txt_compensation').value = all48load/1.5;
                                                                                                        document.getElementById('txt_compensationOT15').value = (sumall48load-(all48load/1.5));
                                                                                                    }else{
                                                                                                        document.getElementById('txt_compensation').value = all48load;
                                                                                                        document.getElementById('txt_compensationOT15').value = '0';
                                                                                                    }
                                                                                                }
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'PAY_8LOAD6REMARK', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'SELECT_8LOAD6', editableObj: ''
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALCOMPEN', editableObj: all48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'TOTALNET', editableObj: sumall48load
                                                                                                    },
                                                                                                    success: function () {


                                                                                                    }
                                                                                                });
                                                                                            }



                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'OILAVERAGE', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'C3', editableObj: document.getElementById('txt_oilmonny').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", ID: document.getElementById('txt_vehicletransportplainid').value, fieldname: 'O4', editableObj: document.getElementById('txt_oil').value
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        
                                                                                        function save_mileage(mileageid, vehicleregisternumber1, jobno, editableObj, mileagetype)
                                                                                        {

                                                                                            var vareditableObj = editableObj.innerHTML;
                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "save_mileage", mileageid: mileageid, vehicleregisternumber1: vehicleregisternumber1, jobno: jobno, editableObj: vareditableObj, mileagetype: mileagetype
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });




                                                                                        }
                                                                                        function delete_vehicletransportdocumentdriver(VEHICLETRANSPORTDOCUMENTDRIVERID, vehicletransportplanid, companycode, employeecode, employeename)
                                                                                        {
                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "delete_vehicletransportdocumentdriver", VEHICLETRANSPORTDOCUMENTDRIVERID: VEHICLETRANSPORTDOCUMENTDRIVERID
                                                                                                },
                                                                                                success: function () {

                                                                                                    dirverdocaddrrc(vehicletransportplanid, companycode, employeecode, employeename);
                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function delete_vehicletransportdocumentdriverpallet(VEHICLETRANSPORTDOCUMENTDRIVERID, vehicletransportplanid, companycode, employeecode, employeename)
                                                                                        {
                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "delete_vehicletransportdocumentdriverpallet", VEHICLETRANSPORTDOCUMENTDRIVERID: VEHICLETRANSPORTDOCUMENTDRIVERID
                                                                                                },
                                                                                                success: function () {

                                                                                                    dirverdocaddrrc(vehicletransportplanid, companycode, employeecode, employeename);
                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function delete_vehicletransportdocumentdriverrksstm(VEHICLETRANSPORTDOCUMENTDRIVERID, vehicletransportplanid, companycode, employeecode, employeename)
                                                                                        {
                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "delete_vehicletransportdocumentdriver", VEHICLETRANSPORTDOCUMENTDRIVERID: VEHICLETRANSPORTDOCUMENTDRIVERID
                                                                                                },
                                                                                                success: function () {

                                                                                                    dirverdocaddstm(vehicletransportplanid, companycode, employeecode, employeename);
                                                                                                }
                                                                                            });
                                                                                        }




                                                                                        function select_compensation()
                                                                                        {

                                                                                            //var employeename = "";
                                                                                            //if ('<?//= $_SESSION["ROLENAME"] ?>' == 'DRIVER')
                                                                                            //{
                                                                                            //    employeename = "";
                                                                                            //} else
                                                                                            //{
                                                                                            //   employeename = document.getElementById('txt_employeename').value;
                                                                                            //}
                                                                                            showLoading();

                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data_documentdriver.php',
                                                                                                data: {
                                                                                                    txt_flg: "select_compensation", datestart: document.getElementById('txt_datestart').value, dateend: document.getElementById('txt_dateend').value, selsuccess: document.getElementById('sel_success').value
                                                                                                },
                                                                                                success: function (response) {
                                                                                                    if (response)
                                                                                                    {
																										// alert('โหลดข้อมูลเรียบร้อยแล้ว');
                                                                                                        hideLoading();
                                                                                                        swal.fire({
                                                                                                            title: "Good Job!",
                                                                                                            text: "โหลดข้อมูลเรียบร้อยแล้ว",
                                                                                                            icon: "success",
                                                                                                        });
                                                                                                        document.getElementById("data_sr").innerHTML = response;
                                                                                                        document.getElementById("data_def").innerHTML = "";

                                                                                                        $(document).ready(function () {
                                                                                                            $.datetimepicker.setLocale('th'); // ต้องกำหนดเสมอถ้าใช้ภาษาไทย และ เป็นปี พ.ศ.
                                                                                                            // กรณีใช้แบบ input
                                                                                                            $(".datedef2").datetimepicker({
                                                                                                                timepicker: true,
                                                                                                                format: 'd/m/Y H:i', // กำหนดรูปแบบวันที่ ที่ใช้ เป็น 00-00-0000
                                                                                                                lang: 'th', // ต้องกำหนดเสมอถ้าใช้ภาษาไทย และ เป็นปี พ.ศ.
                                                                                                                timeFormat: "HH:MM"
                                                                                                            });
                                                                                                        });

                                                                                                    }

                                                                                                    save_logprocess('Compensation', 'Select Compensation', '<?= $result_seLogin['PersonCode'] ?>');

                                                                                                    $(function () {
                                                                                                        $('[data-toggle="popover"]').popover({
                                                                                                            html: true,
                                                                                                            content: function () {
                                                                                                                return $('#popover-content').html();
                                                                                                            }
                                                                                                        });
                                                                                                    })
                                                                                                    $(document).ready(function () {
                                                                                                        $('#dataTables-example').DataTable({
                                                                                                            order: [[0, "desc"]],
                                                                                                            scrollX: true,
                                                                                                            "scrollY": "560px"
                                                                                                        });
                                                                                                    });

                                                                                                }
                                                                                            });
                                                                                        }

                                                                                        function select_joboil()
                                                                                        {
                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data2.php',
                                                                                                data: {
                                                                                                    txt_flg: "select_joboil", 
                                                                                                    datestartoil: document.getElementById('txt_datestartoil').value, 
                                                                                                    dateendoil: document.getElementById('txt_dateendoil').value
                                                                                                    // ,selsuccess: document.getElementById('sel_successoil').value
                                                                                                },
                                                                                                success: function (response) {
                                                                                                    // alert(document.getElementById('txt_datestartoil').value);
                                                                                                    // alert(document.getElementById('txt_dateendoil').value);
                                                                                                    if (response)
                                                                                                    {
                                                                                                        document.getElementById("data_oilsr").innerHTML = response;
                                                                                                        document.getElementById("data_oildef").innerHTML = "";
                                                                                                    }
                                                                                                    save_logprocess('Compensation', 'Select Compensation', '<?= $result_seLogin['PersonCode'] ?>');
                                                                                                    $(function () {
                                                                                                        $('[data-toggle="popover"]').popover({
                                                                                                            html: true,
                                                                                                            content: function () {
                                                                                                                return $('#popover-content').html();
                                                                                                            }
                                                                                                        });
                                                                                                    })
                                                                                                    $(document).ready(function () {
                                                                                                        $('#dataTables-oiltat').DataTable({
                                                                                                            order: [[2, "asc"]],
                                                                                                            scrollX: true
                                                                                                        });
                                                                                                    });

                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function copy_vehicletransportdocumentdriverpallet(condition1, vehicletransportplanid, companycode, employeecode, employeename, pallet)
                                                                                        {
                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "copy_vehicletransportdocumentdriverpallet", condition1: condition1, pallet: pallet
                                                                                                },
                                                                                                success: function () {

                                                                                                    dirverdocaddrrc(vehicletransportplanid, companycode, employeecode, employeename);
                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function copy_vehicletransportdocumentdriver(condition1, vehicletransportplanid, companycode, employeecode, employeename)
                                                                                        {
                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "copy_vehicletransportdocumentdriver", condition1: condition1
                                                                                                },
                                                                                                success: function () {

                                                                                                    dirverdocaddrrc(vehicletransportplanid, companycode, employeecode, employeename);
                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function copy_vehicletransportdocumentdriverrksstm(condition1, vehicletransportplanid, companycode, employeecode, employeename)
                                                                                        {
                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "copy_vehicletransportdocumentdriver", condition1: condition1
                                                                                                },
                                                                                                success: function () {

                                                                                                    dirverdocaddstm(vehicletransportplanid, companycode, employeecode, employeename);
                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function dirverdocaddrrc(vehicletransportplanid, companycode, employeecode, employeename)
                                                                                        {

                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "select_modaldirverdocaddrrc", vehicletransportplanid: vehicletransportplanid, companycode: companycode, employeecode: employeecode, employeename: employeename
                                                                                                },
                                                                                                success: function (response) {
                                                                                                    if (response)
                                                                                                    {
                                                                                                        document.getElementById("dirverdocrrcsr").innerHTML = response;                                                                                                        
                                                                                                        ajaxload();
                                                                                                    // alert(vehicletransportplanid)
                                                                                                    }


                                                                                                }
                                                                                            });




                                                                                        }


                                                                                        function dirverdocaddstm(vehicletransportplanid, companycode, employeecode, employeename)
                                                                                        {

                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "select_modaldirverdocaddstm", vehicletransportplanid: vehicletransportplanid, companycode: companycode, employeecode: employeecode, employeename: employeename
                                                                                                },
                                                                                                success: function (response) {
                                                                                                    if (response)
                                                                                                    {
                                                                                                        document.getElementById("dirverdocrrcsr").innerHTML = response;                                                                                                
                                                                                                        ajaxload();
                                                                                                    }
                                                                                                }
                                                                                            });


                                                                                        }
                                                                                        function jobreturn(vehicletransportplanid)
                                                                                        {

                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data.php',
                                                                                                data: {
                                                                                                    txt_flg: "select_modaljobreturn", vehicletransportplanid: vehicletransportplanid
                                                                                                },
                                                                                                success: function (response) {
                                                                                                    if (response)
                                                                                                    {
                                                                                                        document.getElementById("jobreturnsr").innerHTML = response;
                                                                                                    }
                                                                                                }
                                                                                            });


                                                                                        }




                                                                                        function editinner_vehicletransportdocumentdriver(editableObj, fieldname, ID, jobstart, jobend, location, documentcode)
                                                                                        {


                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriver", editableObj: editableObj.innerHTML, ID: ID, fieldname: fieldname, jobstart: jobstart, jobend: jobend, location: location, documentcode: documentcode, modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                },
                                                                                                success: function () {

                                                                                                }
                                                                                            });

                                                                                            //$.ajax({
                                                                                            //    url: 'meg_data.php',
                                                                                            //    type: 'POST',
                                                                                            //   data: {
                                                                                            //        txt_flg: "edit_vehicletransportdocumentdrivercharge", editableObj: editableObj.innerHTML, ID: ID, fieldname: fieldname, jobstart: jobstart, jobend: jobend, location: location, documentcode: documentcode
                                                                                            //    },
                                                                                            //    success: function () {

                                                                                            //    }
                                                                                            //});





                                                                                        }



                                                                                        function chk_vehicletransportdocumentdriver(ID)
                                                                                        {

                                                                                            if (chk_express15.checked == true) {
                                                                                                if (txt_ro15.value == '')
                                                                                                {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '15', ID: ID, fieldname: 'PAY_EXPRESSWAY15', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {
                                                                                                    var valex15 = (document.getElementById("txt_ro15").value == '0' ? 1 : document.getElementById("txt_ro15").value) * 15;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex15, ID: ID, fieldname: 'PAY_EXPRESSWAY15', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }

                                                                                            } else {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY15', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            if (chk_express25.checked == true) {
                                                                                                if (txt_ro25.value == '') {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '25', ID: ID, fieldname: 'PAY_EXPRESSWAY25', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {
                                                                                                    var valex25 = (document.getElementById("txt_ro25").value == '0' ? 1 : document.getElementById("txt_ro25").value) * 25;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex25, ID: ID, fieldname: 'PAY_EXPRESSWAY25', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }

                                                                                            } else
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY25', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            if (chk_express45.checked == true) {
                                                                                                if (txt_ro45.value == '') {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '45', ID: ID, fieldname: 'PAY_EXPRESSWAY45', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {
                                                                                                    var valex45 = (document.getElementById("txt_ro45").value == '0' ? 1 : document.getElementById("txt_ro45").value) * 45;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex45, ID: ID, fieldname: 'PAY_EXPRESSWAY45', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }
                                                                                            } else {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY45', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            if (chk_express45return.checked == true) {
                                                                                                if (txt_ro45return.value == '') {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '45', ID: ID, fieldname: 'PAY_EXPRESSWAY45RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {
                                                                                                    var valex45return = (document.getElementById("txt_ro45return").value == '0' ? 1 : document.getElementById("txt_ro45return").value) * 45;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex45return, ID: ID, fieldname: 'PAY_EXPRESSWAY45RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }
                                                                                            } else {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY45RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            if (chk_express50.checked == true) {
                                                                                                if (txt_ro50.value == '') {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '50', ID: ID, fieldname: 'PAY_EXPRESSWAY50', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {
                                                                                                    var valex50 = (document.getElementById("txt_ro50").value == '0' ? 1 : document.getElementById("txt_ro50").value) * 50;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex50, ID: ID, fieldname: 'PAY_EXPRESSWAY50', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }

                                                                                            } else {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY50', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            if (chk_express50return.checked == true) {
                                                                                                if (txt_ro50return.value == '') {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '50', ID: ID, fieldname: 'PAY_EXPRESSWAY45RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {
                                                                                                    var valex50return = (document.getElementById("txt_ro50return").value == '0' ? 1 : document.getElementById("txt_ro50return").value) * 50;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex50return, ID: ID, fieldname: 'PAY_EXPRESSWAY50RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }
                                                                                            } else {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY50RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            if (chk_express55.checked == true) {
                                                                                                if (txt_ro55.value == '') {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '55', ID: ID, fieldname: 'PAY_EXPRESSWAY55', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {
                                                                                                    var valex55 = (document.getElementById("txt_ro55").value == '0' ? 1 : document.getElementById("txt_ro55").value) * 55;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex55, ID: ID, fieldname: 'PAY_EXPRESSWAY55', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }

                                                                                            } else
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY55', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            if (chk_express65.checked == true) {
                                                                                                if (txt_ro65.value == '') {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '65', ID: ID, fieldname: 'PAY_EXPRESSWAY65', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {
                                                                                                    var valex65 = (document.getElementById("txt_ro65").value == '0' ? 1 : document.getElementById("txt_ro65").value) * 65;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex65, ID: ID, fieldname: 'PAY_EXPRESSWAY65', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }

                                                                                            } else
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY65', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            if (chk_express65return.checked == true) {
                                                                                                if (txt_ro65return.value == '') {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '65', ID: ID, fieldname: 'PAY_EXPRESSWAY65RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {
                                                                                                    var valex65return = (document.getElementById("txt_ro65return").value == '0' ? 1 : document.getElementById("txt_ro65return").value) * 65;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex65return, ID: ID, fieldname: 'PAY_EXPRESSWAY65RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }
                                                                                            } else {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY65RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            if (chk_express75.checked == true) {
                                                                                                if (txt_ro75.value == '') {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '75', ID: ID, fieldname: 'PAY_EXPRESSWAY75', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {

                                                                                                    var valex75 = (document.getElementById("txt_ro75").value == '0' ? 1 : document.getElementById("txt_ro75").value) * 75;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex75, ID: ID, fieldname: 'PAY_EXPRESSWAY75', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }

                                                                                            } else
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY75', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            if (chk_express100.checked == true) {
                                                                                                if (txt_ro100.value == '') {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '100', ID: ID, fieldname: 'PAY_EXPRESSWAY100', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {
                                                                                                    var valex100 = (document.getElementById("txt_ro100").value == '0' ? 1 : document.getElementById("txt_ro100").value) * 100;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex100, ID: ID, fieldname: 'PAY_EXPRESSWAY100', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }

                                                                                            } else
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY100', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            if (chk_express105return.checked == true) {
                                                                                                if (txt_ro105.value == '') {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '105', ID: ID, fieldname: 'PAY_EXPRESSWAY105RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {
                                                                                                    var valex105 = (document.getElementById("txt_ro105").value == '0' ? 1 : document.getElementById("txt_ro105").value) * 105;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex105, ID: ID, fieldname: 'PAY_EXPRESSWAY105RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }

                                                                                            } else
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY105RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                            if (chk_express195.checked == true) {
                                                                                                if (txt_ro195.value == '') {
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '195', ID: ID, fieldname: 'PAY_EXPRESSWAY195', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                } else {
                                                                                                    var valex195 = (document.getElementById("txt_ro195").value == '0' ? 1 : document.getElementById("txt_ro195").value) * 195;
                                                                                                    $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriver", editableObj: valex195, ID: ID, fieldname: 'PAY_EXPRESSWAY195', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                        },
                                                                                                        success: function () {

                                                                                                        }
                                                                                                    });
                                                                                                }

                                                                                            } else
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: 'PAY_EXPRESSWAY195', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }
                                                                                        }
                                                                                        function edit_vehicletransportdocumentdriverexpressway(ID, DATA)
                                                                                        {


                                                                                            if (DATA == '15')
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '15', ID: ID, fieldname: 'PAY_EXPRESSWAY15', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            } else if (DATA == '45')
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '45', ID: ID, fieldname: 'PAY_EXPRESSWAY45', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            } else if (DATA == '55')
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '55', ID: ID, fieldname: 'PAY_EXPRESSWAY55', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            } else if (DATA == '65')
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '65', ID: ID, fieldname: 'PAY_EXPRESSWAY65', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            } else if (DATA == '65rt')
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '65', ID: ID, fieldname: 'PAY_EXPRESSWAY65RETURN', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            } else if (DATA == '75')
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '75', ID: ID, fieldname: 'PAY_EXPRESSWAY75', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            } else if (DATA == '100')
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '100', ID: ID, fieldname: 'PAY_EXPRESSWAY100', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            } else if (DATA == '105')
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '105', ID: ID, fieldname: 'PAY_EXPRESSWAY105', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            } else if (DATA == '195')
                                                                                            {
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '195', ID: ID, fieldname: 'PAY_EXPRESSWAY195', modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            }



                                                                                        }
                                                                                        function edit_vehicletransportdocumentdriverchk(i, fieldname, ID)
                                                                                        {

                                                                                            if (document.getElementById("chk_jobreturn" + i).checked == true)
                                                                                            {

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '1', ID: ID, fieldname: fieldname, modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {

                                                                                                    }
                                                                                                });
                                                                                            } else if (document.getElementById("chk_jobreturn" + i).checked == false)
                                                                                            {

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: fieldname, modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {





                                                                                                    }
                                                                                                });
                                                                                            }



                                                                                        }
                                                                                        function edit_vehicletransportmaterial()
                                                                                        {


                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportplan", editableObj: document.getElementById('txt_materialtype').value, ID: document.getElementById('txt_vehicletransportplanid').value, fieldname: 'MATERIALTYPE'
                                                                                                },
                                                                                                success: function () {

                                                                                                }
                                                                                            });


                                                                                        }
                                                                                        function edit_vehicletransportdocumentdriverpallet(editableObj, fieldname, ID)
                                                                                        {



                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "edit_vehicletransportdocumentdriverpallet", editableObj: editableObj, ID: ID, fieldname: fieldname, modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                },
                                                                                                success: function () {

                                                                                                }
                                                                                            });


                                                                                        }
                                                                                        function edit_vehicletransportdocumentdriver(editableObj, fieldname, ID, jobstart, jobend, location, documentcode)
                                                                                        {
                                                                                            
                                                                                            // alert(documentcode);
                                                                                            // ถ้าใส่ข้างหน้าเป็นช่องว่างจะบันทึกไม่ได้
                                                                                            if (editableObj.trim() == '' && fieldname =='DOCUMENTCODE') {
                                                                                                // let documentcode_chk = $('#txt_documentcode').val();
                                                                                                
                                                                                                swal.fire({
                                                                                                    title: "Warning",
                                                                                                    text: "ห้ามใส่ช่องว่างในเลขที่เอกสาร!",
                                                                                                    icon: "error",
                                                                                                    allowOutsideClick: false,
                                                                                                    
                                                                                                });

                                                                                                document.getElementById("txt_documentcode").value = '';
                                                                                                
                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: '', ID: ID, fieldname: fieldname, jobstart: jobstart, jobend: jobend, location: location, documentcode: documentcode, modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                    
                                                                                                    }
                                                                                                });
                                                                                                // alert("ช่องว่าง");
                                                                                            }else{

                                                                                                $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriver", editableObj: editableObj, ID: ID, fieldname: fieldname, jobstart: jobstart, jobend: jobend, location: location, documentcode: documentcode, modifyby: '<?= $result_seEmployee["PersonCode"] ?>'
                                                                                                    },
                                                                                                    success: function () {
                                                                                                    
                                                                                                    }
                                                                                                });

                                                                                            }

                                                                                            


                                                                                        }

                                                                                        // function ใหม่ สำหรับการคิดเงินราคาค่าขนส่งแบบใหม่ สายงาน STC / CS 
                                                                                        // 24 Apr 2023
                                                                                        // Code สำรองถ้าจะไม่ใช้ Stored Procedure [dbo].[megEditvehicletransportdocumentdriverconfrim_stc_cs_v2]
                                                                                        // function edit_vehicletransportdocumentdriver_stc_cs()
                                                                                        // {
                                                                                        //     // alert("NEW STC / CS");
                                                                                        //     // alert(location);
                                                                                        //     // alert(jobstart);
                                                                                        //     var modifyby = '<?= $result_seEmployee["PersonCode"] ?>';
                                                                                        //     var fieldname = 'WEIGHTIN';
                                                                                        //     var vehicletransportplanid = document.getElementById('txt_vehicletransportplanid_stc').value;
                                                                                        //     // alert(vehicletransportplanid);
                                                                                            
                                                                                        //     $.ajax({
                                                                                        //         url: 'meg_data_editdocumentdriver_stc_cs1.php',
                                                                                        //         type: 'POST',
                                                                                        //         data: {
                                                                                        //             txt_flg: "edit_vehicletransportdocumentdriver_stc_cs",  fieldname: fieldname,vehicletransportplanid: vehicletransportplanid,  modifyby: modifyby
                                                                                        //         },
                                                                                        //         success: function (rs) {
                                                                                        //            alert(rs)
                                                                                        //         }
                                                                                        //     });


                                                                                        // }

                                                                                        // function edit_vehicletransportdocumentdriverconfrim()
                                                                                        // {
                                                                                        //          $.ajax({
                                                                                        //             url: 'meg_data.php',
                                                                                        //             type: 'POST',
                                                                                        //             data: {
                                                                                        //                 txt_flg: "edit_vehicletransportdocumentdriverconfrim", ID: document.getElementById('txt_vehicletransportplainid').value
                                                                                        //             },
                                                                                        //             success: function () {
                                                                                        //                 reload();
                                                                                        //                 save_logprocess('Compensation', 'Save Compensation', '<?= $result_seLogin['PersonCode'] ?>');
                                                                                        //             }
                                                                                        //         });
                                                                                                 

                                                                                        //         savemileagesummary(document.getElementById('txt_vehicletransportplainid').value);

                                                                                                
                                                                                        //     // alert('save and refresh');
                                                                                        //     // var tripnumber   = document.getElementById("txt_tripnumber").value;
                                                                                        //     // var tripnumber2  = document.getElementById("txt_tripnumber2").value;
                                                                                        //     // var tripnumber3  = document.getElementById("txt_tripnumber3").value;
                                                                                        //     // var tripnumber4  = document.getElementById("txt_tripnumber4").value;
                                                                                        //     // var tripnumber5  = document.getElementById("txt_tripnumber5").value;
                                                                                        //     // var documentcode = document.getElementById("txt_documentcode").value;
                                                                                        //     // var tripamount   = document.getElementById("txt_tripamount").value;

                                                                                        //     // // // alert(tripamount);

                                                                                        //     // if ((tripnumber == '' && tripnumber2 == '' && tripnumber3 == ''
                                                                                        //     //     && tripnumber4 == '' && tripnumber5 == '') ) {
                                                                                        //     //        alert("ใส่ข้อมูลไม่ครบถ้วน กรุณาตรวจสอบ เลขทริป");
                                                                                        //     // }else if (documentcode == ''){
                                                                                        //     //        alert("ใส่ข้อมูลไม่ครบถ้วน กรุณาตรวจสอบ เลขที่เอกสาร");
                                                                                        //     // // //     // $.ajax({
                                                                                        //     // // //     //     url: 'meg_data.php',
                                                                                        //     // // //     //     type: 'POST',
                                                                                        //     // // //     //     data: {
                                                                                        //     // // //     //         txt_flg: "edit_vehicletransportdocumentdriverconfrim", ID: document.getElementById('txt_vehicletransportplainid').value
                                                                                        //     // // //     //     },
                                                                                        //     // // //     //     success: function () {
                                                                                        //     // // //     //         reload();
                                                                                        //     // // //     //         save_logprocess('Compensation', 'Save Compensation', '<?= $result_seLogin['PersonCode'] ?>');
                                                                                        //     // // //     //     }
                                                                                        //     // // //     // });
                                                                                        //     // }else if (tripamount == ''){
                                                                                        //     //     alert("ใส่ข้อมูลไม่ครบถ้วน กรุณาตรวจสอบ เลขจำนวน");
                                                                                        //     // // //     // $.ajax({
                                                                                        //     // // //     //     url: 'meg_data.php',
                                                                                        //     // // //     //     type: 'POST',
                                                                                        //     // // //     //     data: {
                                                                                        //     // // //     //         txt_flg: "edit_vehicletransportdocumentdriverconfrim", ID: document.getElementById('txt_vehicletransportplainid').value
                                                                                        //     // // //     //     },
                                                                                        //     // // //     //     success: function () {
                                                                                        //     // // //     //         reload();
                                                                                        //     // // //     //         save_logprocess('Compensation', 'Save Compensation', '<?= $result_seLogin['PersonCode'] ?>');
                                                                                        //     // // //     //     }
                                                                                        //     // // //     // });
                                                                                        //     // }


                                                                                            


                                                                                        // }

                                                                                        // function edit_vehicletransportdocumentdriverconfrim1()
                                                                                        // {



                                                                                        //     $.ajax({
                                                                                        //         url: 'meg_data.php',
                                                                                        //         type: 'POST',
                                                                                        //         data: {
                                                                                        //             txt_flg: "edit_vehicletransportdocumentdriverconfrim", ID: document.getElementById('txt_vehicletransportplainid').value
                                                                                        //         },
                                                                                        //         success: function () {
                                                                                        //             save_logprocess('Compensation', 'Save Compensation', '<?= $result_seLogin['PersonCode'] ?>');
                                                                                        //         }
                                                                                        //     });

                                                                                        //     savemileagesummary(document.getElementById('txt_vehicletransportplainid').value);


                                                                                        // }
                                                                                        /////////////////////////////////////////////////////////////////////////////
                                                                                        
                                                                                        //function save น้ำหนักของแต่ละ DO
                                                                                        //onchange ในแต่ละ DocumentdriverID
                                                                                        function save_vehicletransportdocumentdriver_stc_cs(DocumentdiverID,fieldname,editableObj, jobstart, jobend, location, documentcode)
                                                                                        {

                                                                                        //    alert(DocumentdiverID);
                                                                                        //    alert(editableObj);

                                                                                           var modifyby = '<?= $result_seEmployee["PersonCode"] ?>';

                                                                                            $.ajax({
                                                                                                type: 'post',
                                                                                                url: 'meg_data2.php',
                                                                                                data: {
                                                                                                     txt_flg: "save_vehicletransportweightin_stc_cs",
                                                                                                     condition1: DocumentdiverID, 
                                                                                                     fieldname: fieldname,
                                                                                                     editableObj: editableObj, 
                                                                                                     jobstart: jobstart, 
                                                                                                     jobend: jobend, 
                                                                                                     location: location, 
                                                                                                     documentcode: documentcode,
                                                                                                     modifyby: modifyby
                                                                                                },
                                                                                                success: function () {
                                                                                                // alert(rs);

                                                                                                }
                                                                                            });

                                                                                          
                                                                                        }

                                                                                        //function สำหรับงานน้ำหนักงานสายที่ไม่ใช้ STC,CS แบบใหม่
                                                                                        //function สำหรับงานน้ำหนักงานสายที่ไม่ใช้ STC,CS แบบใหม่
                                                                                        function edit_vehicletransportdocumentdriverconfrim()
                                                                                        {
                                                                                            // function ของปุ่ม บันทึก(รีเฟรช)

                                                                                            var customercode = document.getElementById('txt_customercode').value;
                                                                                            var companycode  = document.getElementById('txt_companycode').value;
                                                                                            var documentcode = document.getElementById('txt_documentcode').value;
                                                                                            var planid       = document.getElementById('txt_vehicletransportplainid').value;
                                                                                            var carrytype    = document.getElementById('txt_carrytype').value;
                                                                                            var worktype     = document.getElementById('txt_worktype').value;
                                                                                            // alert(customercode);
                                                                                            
                                                                                            if (carrytype == 'weight' && (worktype == '' || worktype == 'other')) {

                                                                                                if (customercode == 'TTASTSTC' || customercode == 'TTASTCS' || customercode == 'TTTCSTC' || customercode == 'TTAST') {
                                                                                                    //Function ถ้าเป็นงาน TTASTSTC,TTASTCS,TTTCSTC,TTAST จะเข้าไปใน Stored Procedure ใหม่
                                                                                                    if (documentcode != '') {
                                                                                                        //เช็คว่าถ้ามี DO จะเข้า Function การคิดชาท และปิด MODAL
                                                                                                        // alert('DO NOT NULL');
                                                                                                        $.ajax({
                                                                                                            url: 'meg_data.php',
                                                                                                            type: 'POST',
                                                                                                            data: {
                                                                                                                txt_flg: "edit_vehicletransportdocumentdriverconfrim_stc_cs", ID: planid
                                                                                                            },
                                                                                                            success: function () {
                                                                                                                // reload();
                                                                                                                save_logprocess('Compensation', 'Save Compensation', '<?= $result_seLogin['PersonCode'] ?>');
                                                                                                                
                                                                                                                // alert('บันทึกข้อมูลเรียบร้อย !!')
                                                                                                                // $("#modal_dirverdocrrc").modal('hide');
                                                                                                                //reload();

                                                                                                                swal.fire({
                                                                                                                    title: "Good Job!",
                                                                                                                    text: "บันทึกข้อมูลเรียบร้อย",
                                                                                                                    icon: "success",
                                                                                                                });
                                                                                                                savenotactioncaloavg(planid);
                                                                                                                $("#modal_dirverdocrrc").modal('hide');
                                                                                                                reload();

                                                                                                                // if (confirm("บันทึกข้อมูลเรียบร้อย !!") == true) {
                                                                                                                //     // text = "You pressed OK!";
                                                                                                                //     // alert('บันทึกข้อมูลเรียบร้อย !!')
                                                                                                                //     $("#modal_dirverdocrrc").modal('hide');
                                                                                                                //     reload();
                                                                                                                // } else {
                                                                                                                //     // text = "You canceled!";
                                                                                                                //     alert('บันทึกข้อมูลไม่เรียบร้อย !!')
                                                                                                                // }
                                                                                                            }
                                                                                                        });

                                                                                                    }else{

                                                                                                        //เช็คว่าถ้าไม่มี DO จะไม่เข้า Function การคิดชาท จะแจ้งเตือน และปิด MODAL เพียงอย่างเดียว
                                                                                                        // alert('DO  NULL');
                                                                                                        swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "ยังไม่ได้ลงข้อมูลเลขที่เอกสาร!",
                                                                                                            icon: "error",
                                                                                                        });

                                                                                                        // if (confirm("ไม่มีการลงข้อมูล DO !!") == true) {
                                                                                                        //     // text = "You pressed OK!";
                                                                                                        //     // alert('บันทึกข้อมูลเรียบร้อย !!')
                                                                                                        //     $("#modal_dirverdocrrc").modal('hide');
                                                                                                        //     reload();
                                                                                                        // } else {
                                                                                                          
                                                                                                        // }
                                                                                                        // $("#modal_dirverdocrrc").modal('hide');
                                                                                                        //reload();
                                                                                                    }

                                                                                                }else{
                                                                                                    // ELSE  สายงานอื่นที่เป็นงานน้ำหนัก หรือ งานนอกแบบน้ำหนัก
                                                                                                    $.ajax({
                                                                                                    url: 'meg_data.php',
                                                                                                    type: 'POST',
                                                                                                    data: {
                                                                                                        txt_flg: "edit_vehicletransportdocumentdriverconfrim", ID: planid
                                                                                                    },
                                                                                                    success: function () {
                                                                                                       
                                                                                                            save_logprocess('Compensation', 'Save Compensation', '<?= $result_seLogin['PersonCode'] ?>');
                                                                                                            
                                                                                                            swal.fire({
                                                                                                                title: "Good Job!",
                                                                                                                text: "บันทึกข้อมูลเรียบร้อย",
                                                                                                                icon: "success",
                                                                                                            });
                                                                                                            savenotactioncaloavg(planid);
                                                                                                            $("#modal_dirverdocrrc").modal('hide');
                                                                                                            reload();

                                                                                                        }
                                                                                                    });
                                                                                                        
                                                                                                    // if (confirm("บันทึกข้อมูลเรียบร้อย !!") == true) {
                                                                                                    //     // text = "You pressed OK!";
                                                                                                    //     // alert('บันทึกข้อมูลเรียบร้อย !!')
                                                                                                    //     $("#modal_dirverdocrrc").modal('hide');
                                                                                                    //     reload();
                                                                                                    // } else {
                                                                                                    //     // text = "You canceled!";
                                                                                                    //     alert('บันทึกข้อมูลไม่เรียบร้อย !!')
                                                                                                    // }
                                                                                                    // $("#modal_dirverdocrrc").modal('hide');
                                                                                                }
                                                                                                

                                                                                            }else{
                                                                                                
                                                                                                // alert('OTHER REFRESH');
                                                                                                // alert('OTHER CLOSE');

                                                                                                let compensation_chk = $('#txt_compensation').val();
                                                                                                let documentcode_chk = $('#txt_documentcode').val();
                                                                                                // alert(compensation_chk);
                                                                                                
                                                                                                if (compensation_chk == '' || compensation_chk == '0') {
                                                                                                    // alert('กรุณากดปุ่มคำนวณก่อนบันทึกข้อมูลทุกครั้ง !!!');
                                                                                                    if (companycode == 'RCC' || companycode == 'RATC' || companycode == 'RRC') {
                                                                                                        //กรณีสายงาน RCC,RRC,RATC จะไม่มีปุ่มคำนวณ แต่พนักงานต้องลงข้อมูลค่าเที่ยว
                                                                                                        swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "กรุณากรอกค่าเที่ยวก่อนบันทึกข้อมูลทุกครั้ง!",
                                                                                                            icon: "warning",
                                                                                                        });    
                                                                                                    }else{
                                                                                                        swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "กรุณากดปุ่มคำนวณก่อนบันทึกข้อมูลทุกครั้ง!",
                                                                                                            icon: "warning",
                                                                                                        });
                                                                                                    }

                                                                                                }else{

                                                                                                    if (documentcode_chk.trim() == '') {
                                                                                                        swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "ยังไม่ได้ลงข้อมูลเลขที่เอกสาร!",
                                                                                                            icon: "error",
                                                                                                        });

                                                                                                        document.getElementById("txt_documentcode").value = '';
                                                                                                    }else{
                                                                                                        $.ajax({
                                                                                                            url: 'meg_data.php',
                                                                                                            type: 'POST',
                                                                                                            data: {
                                                                                                                txt_flg: "edit_vehicletransportdocumentdriverconfrim", ID: planid
                                                                                                            },
                                                                                                            success: function () {
                                                                                                            
                                                                                                                save_logprocess('Compensation', 'Save Compensation', '<?= $result_seLogin['PersonCode'] ?>');
                                                                                                                
                                                                                                                swal.fire({
                                                                                                                    title: "Good Job!",
                                                                                                                    text: "บันทึกข้อมูลเรียบร้อย",
                                                                                                                    icon: "success",
                                                                                                                });
                                                                                                                savenotactioncaloavg(planid);
                                                                                                                $("#modal_dirverdocrrc").modal('hide');
                                                                                                                reload();
                                                                                                            }

                                                                                                        });
                                                                                                    
                                                                                                    }
                                                                                                    

                                                                                                    // if (confirm("บันทึกข้อมูลเรียบร้อย !!") == true) {
                                                                                                    //     // text = "You pressed OK!";
                                                                                                    //     // alert('บันทึกข้อมูลเรียบร้อย !!')
                                                                                                    //     $("#modal_dirverdocrrc").modal('hide');
                                                                                                    //     reload();
                                                                                                    // } else {
                                                                                                    //     // text = "You canceled!";
                                                                                                    //     alert('บันทึกข้อมูลไม่เรียบร้อย !!')
                                                                                                    // }
                                                                                                    // $("#modal_dirverdocrrc").modal('hide');
                                                                                                    //reload();
                                                                                                }

                                                                                                

                                                                                            }   
                                                                                                 
                                                                                                // function การคิดค่าขนส่งแบบใหม่ สานงาน STC
                                                                                                // edit_vehicletransportdocumentdriver_stc_cs();

                                                                                                // function บันทึกเลขไมล์ 
                                                                                                savemileagesummary(document.getElementById('txt_vehicletransportplainid').value);
                                                                                         

                                                                                        }
                                                                                        
                                                                                        //function สำหรับงานน้ำหนักงานสายที่ไม่ใช้ STC,CS แบบใหม่
                                                                                        function edit_vehicletransportdocumentdriverconfrim1()
                                                                                        {
                                                                                             // function ของปุ่ม บันทึก(ปิด)
                                                                                            
                                                                                            var customercode = document.getElementById('txt_customercode').value;
                                                                                            var companycode  = document.getElementById('txt_companycode').value;
                                                                                            var documentcode = document.getElementById('txt_documentcode').value;
                                                                                            var planid       = document.getElementById('txt_vehicletransportplainid').value;
                                                                                            var carrytype    = document.getElementById('txt_carrytype').value;
                                                                                            var worktype     = document.getElementById('txt_worktype').value;
                                                                                            // alert(customercode);
                                                                                            
                                                                                            if (carrytype == 'weight' && (worktype == '' || worktype == 'other')) {

                                                                                                if (customercode == 'TTASTSTC' || customercode == 'TTASTCS' || customercode == 'TTTCSTC' || customercode == 'TTAST') {
                                                                                                    //Function ถ้าเป็นงาน TTASTSTC,TTASTCS,TTTCSTC,TTAST จะเข้าไปใน Stored Procedure ใหม่
                                                                                                    if (documentcode != '') {
                                                                                                        //เช็คว่าถ้ามี DO จะเข้า Function การคิดชาท และปิด MODAL
                                                                                                        // alert('DO NOT NULL');
                                                                                                        $.ajax({
                                                                                                            url: 'meg_data.php',
                                                                                                            type: 'POST',
                                                                                                            data: {
                                                                                                                txt_flg: "edit_vehicletransportdocumentdriverconfrim_stc_cs", ID: planid
                                                                                                            },
                                                                                                            success: function () {
                                                                                                                // reload();
                                                                                                                save_logprocess('Compensation', 'Save Compensation', '<?= $result_seLogin['PersonCode'] ?>');
                                                                                                                
                                                                                                                swal.fire({
                                                                                                                    title: "Good Job!",
                                                                                                                    text: "บันทึกข้อมูลเรียบร้อย",
                                                                                                                    icon: "success",
                                                                                                                });
                                                                                                                savenotactioncaloavg(planid);
                                                                                                                $("#modal_dirverdocrrc").modal('hide');
                                                                                                                
                                                                                                                // if (confirm("บันทึกข้อมูลเรียบร้อย !!") == true) {
                                                                                                                //     // text = "You pressed OK!";
                                                                                                                //     // alert('บันทึกข้อมูลเรียบร้อย !!')
                                                                                                                //     //$("#modal_dirverdocrrc").modal('hide');
                                                                                                                   
                                                                                                                // } else {
                                                                                                                //     // text = "You canceled!";
                                                                                                                //     alert('บันทึกข้อมูลไม่เรียบร้อย !!')
                                                                                                                // }
                                                                                                                
                                                                                                            }
                                                                                                        });

                                                                                                    }else{

                                                                                                        //เช็คว่าถ้าไม่มี DO จะไม่เข้า Function การคิดชาท จะ alert ข้อความเตือนและปิด MODAL เพียงอย่างเดียว
                                                                                                        // alert('DO  NULL');
                                                                                                        swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "ยังไม่ได้ลงข้อมูลเลขที่เอกสาร!",
                                                                                                            icon: "error",
                                                                                                        });

                                                                                                        // if (confirm("ไม่มีการลงข้อมูล DO !!") == true) {
                                                                                                        //     // text = "You pressed OK!";
                                                                                                        //     // alert('บันทึกข้อมูลเรียบร้อย !!')
                                                                                                        //     $("#modal_dirverdocrrc").modal('hide');
                                                                                                        // } else {
                                                                                                          
                                                                                                        // }
                                                                                                        
                                                                                                    }

                                                                                                }else{
                                                                                                        // ELSE  สายงานอื่นที่เป็นงานน้ำหนัก หรือ งานนอกแบบน้ำหนัก
                                                                                                        $.ajax({
                                                                                                        url: 'meg_data.php',
                                                                                                        type: 'POST',
                                                                                                        data: {
                                                                                                            txt_flg: "edit_vehicletransportdocumentdriverconfrim", ID: planid
                                                                                                        },
                                                                                                        success: function () {
                                                                                                        
                                                                                                            save_logprocess('Compensation', 'Save Compensation', '<?= $result_seLogin['PersonCode'] ?>');
                                                                                                            
                                                                                                            swal.fire({
                                                                                                                title: "Good Job!",
                                                                                                                text: "บันทึกข้อมูลเรียบร้อย",
                                                                                                                icon: "success",
                                                                                                            });
                                                                                                            savenotactioncaloavg(planid);
                                                                                                            $("#modal_dirverdocrrc").modal('hide');

                                                                                                            }
                                                                                                        });

                                                                                                        // if (confirm("บันทึกข้อมูลเรียบร้อย !!") == true) {
                                                                                                        //     // text = "You pressed OK!";
                                                                                                        //     // alert('บันทึกข้อมูลเรียบร้อย !!')
                                                                                                        //     // $("#modal_dirverdocrrc").modal('hide');
                                                                                                        // } else {
                                                                                                        //     // text = "You canceled!";
                                                                                                        //     alert('บันทึกข้อมูลไม่เรียบร้อย !!')
                                                                                                        // }
                                                                                                        
                                                                                                }
                                                                                                

                                                                                            }else{
                                                                                                
                                                                                                // alert('OTHER CLOSE');

                                                                                                let compensation_chk = $('#txt_compensation').val();
                                                                                                let documentcode_chk = $('#txt_documentcode').val();
                                                                                                // alert(compensation_chk);
                                                                                                
                                                                                                if (compensation_chk == '' || compensation_chk == '0') {
                                                                                                    // alert('กรุณากดปุ่มคำนวณก่อนบันทึกข้อมูลทุกครั้ง !!!');
                                                                                                    if (companycode == 'RCC' || companycode == 'RATC' || companycode == 'RRC') {
                                                                                                        //กรณีสายงาน RCC,RRC,RATC จะไม่มีปุ่มคำนวณ แต่พนักงานต้องลงข้อมูลค่าเที่ยว
                                                                                                        swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "กรุณากรอกค่าเที่ยวก่อนบันทึกข้อมูลทุกครั้ง!",
                                                                                                            icon: "warning",
                                                                                                        });    
                                                                                                    }else{
                                                                                                        swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "กรุณากดปุ่มคำนวณก่อนบันทึกข้อมูลทุกครั้ง!",
                                                                                                            icon: "warning",
                                                                                                        });
                                                                                                    }
                                                                                                    
                                                                                                }else{
                                                                                                    
                                                                                                    if (documentcode_chk.trim() == '') {
                                                                                                        swal.fire({
                                                                                                            title: "Warning",
                                                                                                            text: "ยังไม่ได้ลงข้อมูลเลขที่เอกสาร!",
                                                                                                            icon: "error",
                                                                                                        });
                                                                                                        
                                                                                                        document.getElementById("txt_documentcode").value = '';
                                                                                                    }else{
                                                                                                        $.ajax({
                                                                                                            url: 'meg_data.php',
                                                                                                            type: 'POST',
                                                                                                            data: {
                                                                                                                txt_flg: "edit_vehicletransportdocumentdriverconfrim", ID: planid
                                                                                                            },
                                                                                                            success: function () {
                                                                                                            
                                                                                                                save_logprocess('Compensation', 'Save Compensation', '<?= $result_seLogin['PersonCode'] ?>');
                                                                                                                
                                                                                                                swal.fire({
                                                                                                                    title: "Good Job!",
                                                                                                                    text: "บันทึกข้อมูลเรียบร้อย",
                                                                                                                    icon: "success",
                                                                                                                });
                                                                                                                savenotactioncaloavg(planid);
                                                                                                                $("#modal_dirverdocrrc").modal('hide');
                                                                                                            }

                                                                                                        });
                                                                                                        
                                                                                                    }
                                                                                                    

                                                                                                    // if (confirm("บันทึกข้อมูลเรียบร้อย !!") == true) {
                                                                                                    //     // text = "You pressed OK!";
                                                                                                    //     // alert('บันทึกข้อมูลเรียบร้อย !!')
                                                                                                    //     $("#modal_dirverdocrrc").modal('hide');
                                                                                                    // } else {
                                                                                                    //     // text = "You canceled!";
                                                                                                    //     alert('บันทึกข้อมูลไม่เรียบร้อย !!')
                                                                                                    // }

                                                                                                    // $("#modal_dirverdocrrc").modal('hide');
                                                                                                    // reload();
                                                                                                }
                                                                                            }   
                                                                                                 
                                                                                                // function การคิดค่าขนส่งแบบใหม่ สานงาน STC
                                                                                                // edit_vehicletransportdocumentdriver_stc_cs();

                                                                                                // function บันทึกเลขไมล์ 
                                                                                                savemileagesummary(document.getElementById('txt_vehicletransportplainid').value);
                                                                
                                                                                        }

                                                                                        function savemileagesummary(planid){
                                                                                            // alert(planid);
                                                                                            // alert('savemileagesummary');

                                                                                            $.ajax({
                                                                                                url: 'meg_data2.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "savemileagesummary", planid: planid,createby:'<?= $result_seLogin['PersonCode'] ?>'
                                                                                                },
                                                                                                success: function () {
                                                                                                    save_logprocess('Mileage', 'savemileagesummary', '<?= $result_seLogin['PersonCode'] ?>');

                                                                                                }
                                                                                            });

                                                                                        }
                                                                                        function save_logprocess(category, process, employeecode)
                                                                                        {
                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "save_logprocess", category: category, process: process, employeecode: employeecode
                                                                                                },
                                                                                                success: function () {


                                                                                                }
                                                                                            });
                                                                                        }
                                                                                        function save_jobreturn()
                                                                                        {


                                                                                            $.ajax({
                                                                                                url: 'meg_data.php',
                                                                                                type: 'POST',
                                                                                                data: {
                                                                                                    txt_flg: "save_jobreturn", JOBNO: document.getElementById('txt_jobreturnid').value, DOCUMENTCODE: document.getElementById('txt_documentcode').value, AMTUNIT: document.getElementById('txt_amtload').value
                                                                                                },
                                                                                                success: function () {
                                                                                                    reload();
                                                                                                }
                                                                                            });


                                                                                        }



                                                                                        function pdf_compensation1()
                                                                                        {
                                                                                            var emp = document.getElementById('txt_employeename').value;
                                                                                            var datestart = document.getElementById('txt_datestart').value;
                                                                                            var dateend = document.getElementById('txt_dateend').value;

                                                                                            window.open('pdf_compensation1.php?emp=' + emp + '&datestart=' + datestart + '&dateend=' + dateend, '_blank');


                                                                                        }
                                                                                        function pdf_compensation2()
                                                                                        {
                                                                                            var emp = document.getElementById('txt_employeename').value;
                                                                                            var datestart = document.getElementById('txt_datestart').value;
                                                                                            var dateend = document.getElementById('txt_dateend').value;

                                                                                            window.open('pdf_compensation2.php?emp=' + emp + '&datestart=' + datestart + '&dateend=' + dateend, '_blank');


                                                                                        }

                                                                                        // var txt_employeename = [<?= $emp ?>];
                                                                                        // $("#txt_employeename").autocomplete({
                                                                                        //     source: [txt_employeename]
                                                                                        // });






                                                                                        function datetodate()
                                                                                        {
                                                                                            document.getElementById('txt_dateend').value = document.getElementById('txt_datestart').value;


                                                                                        }
                                                                                        $(function () {

                                                                                            $.datetimepicker.setLocale('th'); // ต้องกำหนดเสมอถ้าใช้ภาษาไทย และ เป็นปี พ.ศ.
                                                                                            // กรณีใช้แบบ input
                                                                                            $(".datedef").datetimepicker({
                                                                                                timepicker: false,
                                                                                                format: 'd/m/Y', // กำหนดรูปแบบวันที่ ที่ใช้ เป็น 00-00-0000
                                                                                                lang: 'th', // ต้องกำหนดเสมอถ้าใช้ภาษาไทย และ เป็นปี พ.ศ.

                                                                                            });
                                                                                        });
                                                                                        
                                                                                        $(function () {
                                                                                            $.datetimepicker.setLocale('th'); // ต้องกำหนดเสมอถ้าใช้ภาษาไทย และ เป็นปี พ.ศ.
                                                                                            // กรณีใช้แบบ input
                                                                                            $(".datedef2").datetimepicker({
                                                                                                timepicker: true,
                                                                                                format: 'd/m/Y H:i', // กำหนดรูปแบบวันที่ ที่ใช้ เป็น 00-00-0000
                                                                                                lang: 'th', // ต้องกำหนดเสมอถ้าใช้ภาษาไทย และ เป็นปี พ.ศ.
                                                                                                timeFormat: "HH:MM"
                                                                                        });

});

    </script>

    <script>
        $(document).ready(function () {
            $('#dataTables-example').DataTable({

                order: [[0, "desc"]],
                scrollX: true,
                "scrollY": "560px"

            });
        }
        );
    </script>
    <script>
        
        function datetodateoil()
        {
            document.getElementById('txt_dateendoil').value = document.getElementById('txt_datestartoil').value;
        }
        $(document).ready(function () {
            $('#dataTables-oiltat').DataTable({
                order: [[2, "asc"]],
                scrollX: true
            });
        });
    </script>




</html>
<?php
sqlsrv_close($conn);
ob_end_flush();
?>
